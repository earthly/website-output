<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://earthly.dev/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://earthly.dev/blog/" rel="alternate" type="text/html" /><updated>2021-05-27T19:51:55-04:00</updated><id>https://earthly.dev/blog/feed.xml</id><title type="html">Earthly Blog</title><subtitle>Build automation for the container era.</subtitle><entry><title type="html">Example Graphs</title><link href="https://earthly.dev/blog/example-plot/" rel="alternate" type="text/html" title="Example Graphs" /><published>2029-01-01T00:00:00-05:00</published><updated>2020-01-07T00:00:00-05:00</updated><id>https://earthly.dev/blog/example-plot</id><content type="html" xml:base="https://earthly.dev/blog/example-plot/">&lt;p&gt;You can embedded graphs into the markdown like this:&lt;/p&gt;
&lt;h3 id=&quot;simple-graph&quot;&gt;Simple Graph&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;_site/assets/images/15298945686075526262.svg&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;more-complex&quot;&gt;More Complex&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;_site/assets/images/16585111159351070825.svg&quot; /&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;how-to-install-pandoc-plot&quot;&gt;How to install pandoc-plot&lt;/h2&gt;
&lt;p&gt;If you are using the docker container and jekyll, it should just work.&lt;/p&gt;
&lt;p&gt;Manual Mac setup:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;brew install pandoc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;brew install pandoc-plot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;install specific libs: &lt;code&gt;pandoc-plot toolkits&lt;/code&gt; to list
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pip3 install matplotlib&lt;/code&gt; for matplotlib&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;how-to-run-pandoc-plot&quot;&gt;How to run pandoc-plot&lt;/h2&gt;
&lt;p&gt;The site will run pandoc-plot itself, but if you want to run it manually here is how:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; pandoc blog/_posts/2029-01-01-example-plot.md --filter pandoc-plot -f markdown -t html -s -o plot.html&lt;/code&gt;&lt;/pre&gt;</content><author><name>Adam Gordon Bell</name></author><category term="Tutorials" /><summary type="html">You can embedded graphs into the markdown like this:</summary></entry><entry><title type="html">Example Post</title><link href="https://earthly.dev/blog/example/" rel="alternate" type="text/html" title="Example Post" /><published>2029-01-01T00:00:00-05:00</published><updated>2029-01-01T00:00:00-05:00</updated><id>https://earthly.dev/blog/example</id><content type="html" xml:base="https://earthly.dev/blog/example/">&lt;p&gt;This post is in the future, and won’t show up in the published site&lt;/p&gt;
&lt;h2 id=&quot;image-without-figure&quot;&gt;Image without figure&lt;/h2&gt;
&lt;p&gt;An image with the alt text hidden.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;some alt text&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;An image with alt text printed below.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;some alt text&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;some alt text&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-with-explicit-figure&quot;&gt;Image with explicit figure&lt;/h2&gt;
&lt;figure class&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot;
       alt=&quot;handddrawn cartoon for a person talking to a computer server&quot;&gt;
&lt;figcaption&gt;
&lt;p&gt;Alex likes to draw and add a caption&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-with-implicit-figure&quot;&gt;Image with implicit figure&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;This is my alt text and my figure. The alt text is used as the default figure if not specified.&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;This is my alt text and my figure. The alt text is used as the default figure if not specified.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-wide&quot;&gt;Image Wide&lt;/h2&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;This should be wide&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;This should be wide&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;graph-using-matplotlib&quot;&gt;graph using matplotlib&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;_site/assets/images/15298945686075526262.svg&quot; /&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;code-blocks-with-syntax-highlighting&quot;&gt;Code blocks (with syntax highlighting)&lt;/h3&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode go&quot;&gt;&lt;code class=&quot;sourceCode go&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    syntax &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;proto3&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;package&lt;/span&gt; simplekeyvalue&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    option go_package &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;kvapi&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;/span&gt;
&lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;co&quot;&gt;// The key/value API contains two procedures for storing and retrieving data&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    service KeyValue &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;      rpc Set &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;SetRequest&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; returns &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;SetReply&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-8&quot;&gt;&lt;a href=&quot;#cb1-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;      rpc Get &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;GetRequest&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; returns &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;GetReply&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-9&quot;&gt;&lt;a href=&quot;#cb1-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;raw-code-blocks&quot;&gt;Raw code blocks&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;
{{ raw template code}}
&lt;/code&gt;&lt;/pre&gt;
&lt;figcaption&gt;
Use &lt;code&gt;raw&lt;/code&gt; and &lt;code&gt;endraw&lt;/code&gt; for code that overlaps with the liquid templates
&lt;/figcaption&gt;
&lt;h2 id=&quot;fensed-code-blocks&quot;&gt;Fensed code blocks&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode scala&quot;&gt;&lt;code class=&quot;sourceCode scala&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;object&lt;/span&gt; Main &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; App &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-3&quot;&gt;&lt;a href=&quot;#cb3-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;code-with-captions&quot;&gt;Code with Captions&lt;/h4&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode scala&quot;&gt;&lt;code class=&quot;sourceCode scala&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;object&lt;/span&gt; Main &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; App &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-3&quot;&gt;&lt;a href=&quot;#cb4-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;figcaption&gt;
Main.scala
&lt;/figcaption&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Notice&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--info&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;ℹ️ Notice Info&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--success&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Success&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;more-example-image-layouts&quot;&gt;More example Image layouts:&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/authors/coreylarson.jpg&quot; class=&quot;align-center&quot; alt=&quot;align center&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa enim nec dui nunc mattis enim ut. Cursus euismod quis viverra nibh cras. Posuere ac ut consequat semper viverra nam libero. Lectus nulla at volutpat diam ut venenatis tellus in. Nunc eget lorem dolor sed viverra ipsum. Lectus arcu bibendum at varius vel pharetra vel turpis. Cursus sit amet dictum sit amet justo donec. Eget nullam non nisi est sit amet facilisis. Scelerisque felis imperdiet proin fermentum leo. Imperdiet proin fermentum leo vel orci porta non pulvinar neque. Nulla facilisi morbi tempus iaculis urna id. Diam maecenas sed enim ut sem. Porttitor leo a diam sollicitudin. Neque gravida in fermentum et sollicitudin ac orci. Aliquet risus feugiat in ante metus. Vitae et leo duis ut diam quam nulla porttitor massa.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/authors/coreylarson.jpg&quot; class=&quot;align-right&quot; alt=&quot;alighn right&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa enim nec dui nunc mattis enim ut. Cursus euismod quis viverra nibh cras. Posuere ac ut consequat semper viverra nam libero. Lectus nulla at volutpat diam ut venenatis tellus in. Nunc eget lorem dolor sed viverra ipsum. Lectus arcu bibendum at varius vel pharetra vel turpis. Cursus sit amet dictum sit amet justo donec. Eget nullam non nisi est sit amet facilisis. Scelerisque felis imperdiet proin fermentum leo. Imperdiet proin fermentum leo vel orci porta non pulvinar neque. Nulla facilisi morbi tempus iaculis urna id. Diam maecenas sed enim ut sem. Porttitor leo a diam sollicitudin. Neque gravida in fermentum et sollicitudin ac orci. Aliquet risus feugiat in ante metus. Vitae et leo duis ut diam quam nulla porttitor massa.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/authors/coreylarson.jpg&quot; class=&quot;align-left&quot; alt=&quot;align left&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa enim nec dui nunc mattis enim ut. Cursus euismod quis viverra nibh cras. Posuere ac ut consequat semper viverra nam libero. Lectus nulla at volutpat diam ut venenatis tellus in. Nunc eget lorem dolor sed viverra ipsum. Lectus arcu bibendum at varius vel pharetra vel turpis. Cursus sit amet dictum sit amet justo donec. Eget nullam non nisi est sit amet facilisis. Scelerisque felis imperdiet proin fermentum leo. Imperdiet proin fermentum leo vel orci porta non pulvinar neque. Nulla facilisi morbi tempus iaculis urna id. Diam maecenas sed enim ut sem. Porttitor leo a diam sollicitudin. Neque gravida in fermentum et sollicitudin ac orci. Aliquet risus feugiat in ante metus. Vitae et leo duis ut diam quam nulla porttitor massa.&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa enim nec dui nunc mattis enim ut. Cursus euismod quis viverra nibh cras. Posuere ac ut consequat semper viverra nam libero. Lectus nulla at volutpat diam ut venenatis tellus in. Nunc eget lorem dolor sed viverra ipsum. Lectus arcu bibendum at varius vel pharetra vel turpis. Cursus sit amet dictum sit amet justo donec. Eget nullam non nisi est sit amet facilisis. Scelerisque felis imperdiet proin fermentum leo. Imperdiet proin fermentum leo vel orci porta non pulvinar neque. Nulla facilisi morbi tempus iaculis urna id. Diam maecenas sed enim ut sem. Porttitor leo a diam sollicitudin. Neque gravida in fermentum et sollicitudin ac orci. Aliquet risus feugiat in ante metus. Vitae et leo duis ut diam quam nulla porttitor massa. &lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; class=&quot;align-right&quot; width=&quot;300&quot; alt=&quot;pic with only 100px width&quot; /&gt;&lt;br /&gt;
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa enim nec dui nunc mattis enim ut. Cursus euismod quis viverra nibh cras. Posuere ac ut consequat semper viverra nam libero. Lectus nulla at volutpat diam ut venenatis tellus in. Nunc eget lorem dolor sed viverra ipsum. Lectus arcu bibendum at varius vel pharetra vel turpis. Cursus sit amet dictum sit amet justo donec. Eget nullam non nisi est sit amet facilisis. Scelerisque felis imperdiet proin fermentum leo. Imperdiet proin fermentum leo vel orci porta non pulvinar neque. Nulla facilisi morbi tempus iaculis urna id. Diam maecenas sed enim ut sem. Porttitor leo a diam sollicitudin. Neque gravida in fermentum et sollicitudin ac orci. Aliquet risus feugiat in ante metus. Vitae et leo duis ut diam quam nulla porttitor massa.&lt;/p&gt;
&lt;h3 id=&quot;more-example-usage&quot;&gt;More Example Usage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mmistakes.github.io/minimal-mistakes/docs/quick-start-guide/&quot;&gt;Theme Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sample &lt;a href=&quot;https://mmistakes.github.io/minimal-mistakes/year-archive/&quot;&gt;Rendered Posts&lt;/a&gt; and &lt;a href=&quot;https://github.com/mmistakes/minimal-mistakes/tree/d6444412c63aea5e47241ef536509fb1bfef4830/docs/_posts&quot;&gt;Raw mardown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Markdown stuff (pandoc): &lt;a href=&quot;https://laurentrdc.github.io/pandoc-plot/&quot;&gt;Graphs&lt;/a&gt; and &lt;a href=&quot;https://pandoc.org/MANUAL.html#pandocs-markdown&quot;&gt;markdown&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Adam Gordon Bell</name></author><category term="News" /><summary type="html">This post is in the future, and won’t show up in the published site</summary></entry><entry><title type="html">Understanding Docker Multistage Builds</title><link href="https://earthly.dev/blog/docker-multistage/" rel="alternate" type="text/html" title="Understanding Docker Multistage Builds" /><published>2021-05-21T00:00:00-04:00</published><updated>2021-05-21T00:00:00-04:00</updated><id>https://earthly.dev/blog/docker-multistage</id><content type="html" xml:base="https://earthly.dev/blog/docker-multistage/">&lt;h1 id=&quot;understanding-docker-multistage-builds&quot;&gt;Understanding Docker Multistage Builds&lt;/h1&gt;
&lt;p&gt;At first glance, writing Dockerfiles appears to be a straightforward process. After all, most basic examples reflect the same set of steps. However, not all Dockerfiles are created equal. There is an optimal way of writing these files to produce the kind of Docker images you want for your final product. If you were to pop the hood, you’d see that Docker images actually consist of file system layers that correlate to the individual build steps involved in the creation of the image.&lt;/p&gt;
&lt;p&gt;To build an efficient Docker image, you want to eliminate some of these layers from the final output. Optimizing an image can take a lot of effort as you attempt to filter out what you don’t need. Building these kinds of images has a lot to do with keeping them as small as possible, because large images lead to a host of other issues.&lt;/p&gt;
&lt;p&gt;One approach to keeping Docker images small is using multistage builds. A multistage build allows you to use multiple images to build a final product. In a multistage build, you have a single Dockerfile, but can define multiple images inside it to help build the final image.&lt;/p&gt;
&lt;p&gt;In this post, you’ll learn about the core concepts of multistage builds in Docker and how they help to create production-grade images. In addition, I will detail how you can create these types of files, as well as highlight some challenges that they present.&lt;/p&gt;
&lt;h2 id=&quot;core-concepts-of-docker-multistage-builds&quot;&gt;Core Concepts of Docker Multistage Builds&lt;/h2&gt;
&lt;p&gt;Before getting to the details of multistage builds, it’s good to have an understanding of the main idea behind them. You’re already familiar with the starting point of container images, the Dockerfile. Dockerfiles are text files that make it easy to assemble all the relevant commands required to create your container image. These commands in the Dockerfile should be combined whenever possible for the sake of optimization.&lt;/p&gt;
&lt;p&gt;When I first came across this idea of building the right kind of Docker image, I asked myself a few questions that may be crossing your mind as you read this. What are the implications of &lt;em&gt;not&lt;/em&gt; optimizing an image? Can it really have that much of a negative impact on your application? The answer to the latter question is yes.&lt;/p&gt;
&lt;p&gt;As for the implications, you typically end up with bigger images. The reason big images should be avoided is because &lt;a href=&quot;https://developers.redhat.com/blog/2016/03/09/more-about-docker-images-size/&quot; title=&quot;Keep it small: a closer look at Docker image sizing&quot;&gt;they increase both potential security vulnerabilities and the surface area for attack&lt;/a&gt;. You definitely want to keep things lean by ensuring you only have what your application needs to run successfully in a production environment.&lt;/p&gt;
&lt;p&gt;One way of reducing the size of your Docker images is through the use of what is informally known as the &lt;a href=&quot;https://en.wikipedia.org/wiki/Builder_pattern%20“builder%20design%20pattern%20entry%20at%20Wikipedia”&quot;&gt;builder pattern&lt;/a&gt;. The builder pattern uses two Docker images to create a base image for building assets and the second to run it. This pattern was previously implemented through the use of multiple Dockerfiles. It has become an uncommon practice since the introduction and support of multistage builds in &lt;a href=&quot;https://www.docker.com/blog/multi-stage-builds/&quot; title=&quot;Multi-Stage Builds&quot;&gt;Docker 17.06 CE&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For context, it’s good to understand how this was typically done before multistage builds. The following example makes use of a basic React application that is first built and then has its static content served by an &lt;a href=&quot;https://www.nginx.com/%20“Nginx%20web%20servers”&quot;&gt;Nginx virtual server&lt;/a&gt;. Following are the two Dockerfiles used to create the optimized image. In addition, you’ll see a shell script that demonstrates the Docker CLI commands that have to be run in order to achieve this outcome. You can find the source code for this example in &lt;a href=&quot;https://github.com/LukeMwila/builder-pattern-example%20“builder%20pattern%20example%20in%20Lukonde%20Mwila’s%20GitHub%20repository”&quot;&gt;this repository&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Dockerfile.build
FROM node:12.13.0-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Dockerfile.main
FROM nginx
EXPOSE 3000
COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
COPY /app/build /usr/share/nginx/html&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Build.sh
#!/bin/sh
echo Building lukondefmwila/react:build

docker build -t lukondefmwila:build . -f Dockerfile.build

docker create --name extract lukondefmwila:build

docker cp extract:/app/build ./app

docker rm -f extract

echo Building lukondefmwila/react:latest

docker build --no-cache -t lukondefmwila/react:latest . -f Dockerfile.main&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;While using the builder pattern does give you the desired outcome, it presents additional challenges. This process introduces the management overhead that comes with maintaining multiple Dockerfiles—not to mention the cumbersome procedure of running through several Docker CLI commands, even if this can be streamlined by a shell script.&lt;/p&gt;
&lt;h2 id=&quot;how-to-use-docker-multistage-builds&quot;&gt;How to Use Docker Multistage Builds&lt;/h2&gt;
&lt;p&gt;Now that you get the underlying concept, turn your attention to how this translates to the modern implementation of the builder pattern. What the former approach accomplishes with multiple Dockerfiles, the multistage feature does in one. You can get the same results with your builds without the added complexity.&lt;/p&gt;
&lt;p&gt;Multistage builds make use of one Dockerfile with multiple FROM instructions. Each of these FROM instructions is a new build stage that can COPY artifacts from the previous stages. By going and copying the build artifact from the build stage, you eliminate all the intermediate steps such as downloading of code, installing dependencies, and testing. All these steps create additional layers, and you want to eliminate them from the final image.&lt;/p&gt;
&lt;p&gt;The build stage is named by appending AS &lt;em&gt;name-of-build&lt;/em&gt; to the FROM instruction. The name of the build stage can be used in a subsequent FROM and COPY command by providing a convenient way to identify the source layer for files brought into the image build. The final image is produced from the last stage executed in the Dockerfile.&lt;/p&gt;
&lt;p&gt;Try taking the example from the previous section that used more than one Dockerfile for the React application and replacing the solution with one file that uses a multistage build.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Dockerfile
FROM node:12.13.0-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx
EXPOSE 3000
COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
COPY --from=build /app/build /usr/share/nginx/html&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This Dockerfile has two FROM commands, with each one constituting a distinct build stage. These distinct commands are numbered internally, stage 0 and stage 1 respectively. However, stage 0 is given a friendly alias of &lt;code&gt;build&lt;/code&gt;. This stage builds the application and stores it in the directory specified by the WORKDIR command. The resultant image is over 420 MB in size.&lt;/p&gt;
&lt;p&gt;The second stage starts by pulling the official Nginx image from Docker Hub. It then copies the updated virtual server configuration to replace the default Nginx configuration. Then the COPY –from command is used to copy only the production-related application code from the image built by the previous stage. The final image is approximately 127 MB.&lt;/p&gt;
&lt;h2 id=&quot;problems-that-docker-multistage-builds-might-encounter&quot;&gt;Problems That Docker Multistage Builds Might Encounter&lt;/h2&gt;
&lt;p&gt;Depending on how they are designed, multistage builds can introduce some serious issues around the speed of the build process. Since these Dockerfiles have multiple stages to produce the production-grade image, your cache will not consist of the images built in the previous steps leading to your final output. Simulating the build locally might give you the impression that it’s worth the wait. However, when you’re working with build services such as &lt;a href=&quot;https://aws.amazon.com/codebuild/&quot;&gt;AWS CodeBuild&lt;/a&gt;, &lt;a href=&quot;https://travis-ci.org/&quot;&gt;Travis CI&lt;/a&gt;, or &lt;a href=&quot;https://circleci.com/&quot;&gt;CircleCI&lt;/a&gt;, you want to keep your build time as short as possible for cost reasons, as well as streamlining application delivery.&lt;/p&gt;
&lt;p&gt;In order to make use of the cache, you will have to tag, push, and pull the images produced from the preliminary build stages. As an example, take the multistage Dockerfile from the previous section and split it into two files, Dockerfile.stage-one and Dockerfile.final. The first Dockerfile will create the image that will be pulled and used in stage 0 of the multistage Dockerfile.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Dockerfile.stage-one
FROM node:12.13.0-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Dockerfile.final
FROM lukondefmwila/react:build-stage as build

FROM nginx
EXPOSE 3000
COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
COPY --from=build /app/build /usr/share/nginx/html&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That being said, following such an approach for every stage can create an increasingly verbose process every stage that you have. Another way of solving this issue is to make use of &lt;a href=&quot;https://earthly.dev/blog/what-is-buildkit-and-what-can-i-do-with-it/&quot;&gt;BuildKit&lt;/a&gt;. BuildKit came about to address issues and improve on the build features in the &lt;a href=&quot;https://mobyproject.org/&quot;&gt;Moby Engine&lt;/a&gt;. It allows for better cache efficiency and control when building. To enable BuildKit builds, follow the steps outlined in &lt;a href=&quot;https://docs.docker.com/develop/develop-images/build_enhancements/#to-enable-buildkit-builds&quot;&gt;Docker’s documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;more-stages&quot;&gt;More Stages&lt;/h2&gt;
&lt;p&gt;As your multi-stage build grows in complexity, comprehending how each step follows from the next can become a challenge. If the number of stages extends beyond two or if caching is becoming a challenge, you may want to consider using &lt;a href=&quot;http://earthly.dev/&quot;&gt;Earthly&lt;/a&gt; to produce your docker images. Earthly mirrors the dockerfile syntax but allows for naming the stages and for more fine-grained caching.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FROM node:12.13.0-alpine as build
WORKDIR /app

build:
  COPY package*.json ./
  RUN npm install
  COPY . .
  RUN npm run build

final:
  FROM nginx
  EXPOSE 3000
  COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
  COPY  +build/app/build /usr/share/nginx/html&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;While creating Docker images the right way is not a small task, the final outcome does a great deal of good for the speed and security of your application delivery. Larger images have a high number of security vulnerabilities that shouldn’t be overlooked for the sake of speed. The reality is that quality images take time and care.&lt;/p&gt;
&lt;p&gt;The builder pattern has evolved over time in its implementation, with multistage builds coming to the rescue from the tedious steps that previously had to be followed. Tools like BuildKit and Earthly further improve on this process. Though not foolproof, multistage builds have made it much easier to create optimized images that you can be more pleased and confident to have running in your production environment.&lt;/p&gt;</content><author><name>Lukonde Mwila</name></author><category term="Tutorials" /><summary type="html">Understanding Docker Multistage Builds</summary></entry><entry><title type="html">What Is Continuous Integration?</title><link href="https://earthly.dev/blog/continuous-integration/" rel="alternate" type="text/html" title="What Is Continuous Integration?" /><published>2021-05-17T00:00:00-04:00</published><updated>2021-05-17T00:00:00-04:00</updated><id>https://earthly.dev/blog/continuous-integration</id><content type="html" xml:base="https://earthly.dev/blog/continuous-integration/">&lt;p&gt;Continuous integration has become prevalent in software development, but it’s still a complex and wide-ranging topic. In this post, we’ll cover the basics of continuous integration, the differences between CI and CD, and common CI tools. You’ll also find some tips for the best way to set up CI in your environment.&lt;/p&gt;
&lt;h2 id=&quot;what-is-continuous-integration&quot;&gt;What Is Continuous Integration?&lt;/h2&gt;
&lt;p&gt;Continuous integration (CI) is a set of operating principles and practices in the DevOps process that helps software development teams release faster and more reliable application updates. With the advancement of modern tooling, most CI processes center around automated tests, static analysis, and building releasable software. This process is helpful for teams that want to ensure each update to their software is working, stable, and ready to deploy before they integrate it into their production environment.&lt;/p&gt;
&lt;p&gt;For example, if a team member makes a change to a project, they might make updates on a new branch (assuming they’re using &lt;a href=&quot;https://git-scm.com/&quot;&gt;git for version control&lt;/a&gt;). When complete, they &lt;em&gt;push&lt;/em&gt; these changes to a shared repository where a continuous integration workflow will automatically install dependencies, run tests, and check for linting errors before merging the changes into the main branch.&lt;/p&gt;
&lt;h2 id=&quot;the-relationship-between-continuous-integration-and-continuous-deliverydeployment&quot;&gt;The Relationship Between Continuous Integration and Continuous Delivery/Deployment&lt;/h2&gt;
&lt;p&gt;Continuous integration is the first part of the CI/CD process. The &lt;em&gt;CD&lt;/em&gt; stands for either &lt;em&gt;continuous delivery&lt;/em&gt; or &lt;em&gt;continuous deployment&lt;/em&gt;. Although these terms are sometimes used interchangeably, they are not quite the same.&lt;/p&gt;
&lt;p&gt;In both cases, code is released in short cycles. However, with continuous delivery, code changes are automatically deployed through the development and testing stages, but must be manually reviewed and approved before being batched and released to production.&lt;/p&gt;
&lt;p&gt;With continuous deployment, code changes that successfully pass through all stages of the development process are automatically released to production without human intervention. A failed test along the pipeline is the only event that will prevent a change from reaching production.&lt;/p&gt;
&lt;h3 id=&quot;why-ci-is-important-to-software-development&quot;&gt;Why CI Is Important to Software Development&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;“Continuous integration doesn’t get rid of bugs, but it does make them dramatically easier to find and remove.” – &lt;a href=&quot;http://www.thoughtworks.com/continuous-integration?utm_source=Codeship&amp;amp;utm_medium=CI-Guide%20“CI%20explainer%20at%20ThoughtWorks”&quot;&gt;Martin Fowler&lt;/a&gt;, Chief Scientist, ThoughtWorks&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before continuous integration became an industry standard, developers’ changes were tested less frequently, often only when it was time to release a new version of the software. This meant the team had to spend unnecessary hours fixing bugs that could have been caught earlier in the process with a robust continuous integration process.&lt;/p&gt;
&lt;p&gt;CI helps developers avoid such problems while increasing productivity. Because code changes are automatically and continuously tested, verified, and built, developers should not have to manually check for integration issues. Because testing in CI is frequent and automated, developers can find and address bugs faster and earlier in the software development life cycle. This promotes a culture that delivers faster, higher-quality releases into production.&lt;/p&gt;
&lt;h2 id=&quot;how-ci-works&quot;&gt;How CI Works&lt;/h2&gt;
&lt;p&gt;CI validates changes upon check-in using an automated build process that also runs validation and integration tests. The continuous integration process aims to detect bugs and errors faster and eliminate the integration issues that occur when developers work in isolation, resulting in higher quality software releases and faster delivery times.&lt;/p&gt;
&lt;h3 id=&quot;a-typical-ci-build-process&quot;&gt;A Typical CI Build Process&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/continuous-integration/r80Ri4R.png&quot; alt=&quot;Earthly integration diagram&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Earthly integration diagram&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;In a typical CI build process, developers push code changes from a branch to a central repository such as GitHub. CI automation servers such as Jenkins and CircleCI continuously monitor the repository to check for code updates.&lt;/p&gt;
&lt;p&gt;Once it detects a change, the automation server triggers the build process to compile and build the code, then run validation and integration tests. CI automation servers interface with compilation tools such as Docker, Bash, and Makefile to create deployable artifacts such as binaries, packages, or Docker images. When continuous deployment is employed, the built application is then deployed and run on subsequent testing or production environments. Other developers can also pull down the resulting image and test locally.&lt;/p&gt;
&lt;p&gt;If the build fails, the development team will typically receive an alert, allowing them to fix any errors that occur.&lt;/p&gt;
&lt;h3 id=&quot;how-has-ci-changed-in-the-past-few-years&quot;&gt;How Has CI Changed in the Past Few Years?&lt;/h3&gt;
&lt;p&gt;CI became popular as an integral part of agile software development but has since developed into one of the pillars of the DevOps process. Guided by key principles such as revision control, software integration, and build automation, it is now an industry standard in software development.&lt;/p&gt;
&lt;p&gt;As DevOps practices &lt;a href=&quot;https://www.novelvista.com/blogs/project-management/3-devops-trends-in-2020%20“NovelVista%20blog%20on%20DevOps%20changes%20in%202020”&quot;&gt;continue to evolve&lt;/a&gt;, we see trends moving toward self-service and a more cloud-centric model to give developers more autonomy. Because of COVID-19, CIOs and other IT leaders have recognized the need to adjust and adapt to support more cloud-based workflows and applications. Moving forward, cloud-native approaches, including multi-cloud solutions, will become the standard for hosting, pipelines, storage, and load balancing.&lt;/p&gt;
&lt;p&gt;As part of the self-service trend, developers will no longer have to wait for a separate operations team to dispatch new applications or updates, but will instead be able to build DevOps infrastructure that allows them to deploy updates themselves. Self-service capabilities are already available today for several DevOps processes, including development environments, CI/CD workflows, and audit logging.&lt;/p&gt;
&lt;h2 id=&quot;common-tools-for-ci&quot;&gt;Common Tools for CI&lt;/h2&gt;
&lt;p&gt;Your choice of CI tools will largely depend on your business requirements, the tech stack you already have or plan to implement, and your daily workflow. There are many CI tools and solutions to choose from. Let’s look at four of them.&lt;/p&gt;
&lt;h3 id=&quot;jenkins&quot;&gt;Jenkins&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jenkins.io/&quot;&gt;Jenkins&lt;/a&gt; is the most well-known continuous integration tool and has a reputation for reliability. Written in Java, it’s an open-source cross-platform tool with a large community following that contributes to its development.&lt;/p&gt;
&lt;p&gt;Jenkins works as a standalone CI server or a continuous delivery platform and offers several features to support the entire software development life cycle, including automated builds and testing, code debugging and analysis, and project deployment.&lt;/p&gt;
&lt;p&gt;It can run on any operating system including Windows, OS X, and Unix, and you can easily configure it via a web GUI interface or console commands. Jenkins is highly extensible; thanks to its robust ecosystem of almost 1400 plugins, you can add several features for user interface, platform integration, source code management and builds, and administrative tasks.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Where is it hosted?&lt;/strong&gt; Self-hosted; cloud&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What platform does it run?&lt;/strong&gt; Containers; virtual machines&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What is its pricing model?&lt;/strong&gt; Open source&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/continuous-integration/xoiqawt.png&quot; alt=&quot;Jenkins CI/CD Tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Jenkins CI/CD Tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;circleci&quot;&gt;CircleCI&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://circleci.com/&quot;&gt;CircleCI&lt;/a&gt; is an excellent platform for build automation and testing along with a branch-focused deployment process. It integrates seamlessly with several version control systems, container systems, and delivery mechanisms, including GitHub and Bitbucket as well as build tools such as Gradle and Apache Maven. You can host CircleCI on premise or integrate it with AWS, Google Cloud, and other cloud services. It’s highly customizable and performance-optimized for quick builds, and it also provides analytics to measure build performance.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Where is it hosted?&lt;/strong&gt; Self-hosted; cloud&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What platform does it run?&lt;/strong&gt; Containers; virtual machine&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What is its pricing model?&lt;/strong&gt; Free entry-level version; Premium starts at $30&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/continuous-integration/HmA7mZy.png&quot; title=&quot;Circle CI CI/CD tool&quot; alt=&quot;Circle CI CI/CD tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Circle CI CI/CD tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;github-actions&quot;&gt;GitHub Actions&lt;/h3&gt;
&lt;p&gt;Introduced in 2018, &lt;a href=&quot;https://github.com/features/actions&quot;&gt;GitHub Actions&lt;/a&gt; is one of the newer tools in the CI/CD tech stack. It is fully integrated within GitHub, making it manageable from a single place.&lt;/p&gt;
&lt;p&gt;Integration with GitHub means you can build, test, and deploy code directly from your GitHub repository. GitHub manages the execution and provides feedback and security for the entire CI process.&lt;/p&gt;
&lt;p&gt;GitHub Actions offers a wide range of automation tasks and actions that allow you to create, share, reuse, and branch software development workflows directly in your GitHub repository. It also supports Docker for multi-container testing and offers several CI templates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Where is it hosted?&lt;/strong&gt; Self-hosted; cloud&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What platform does it run?&lt;/strong&gt; Container; virtual machine&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What is its pricing model?&lt;/strong&gt; Free for public repositories and self-hosted runners. For private repositories, build minutes/month depend on account type and spending limits&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/continuous-integration/Gu0ruur.png&quot; title=&quot;GitHub Actions CI/CD tool&quot; alt=&quot;GitHub Actions CI/CD tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;GitHub Actions CI/CD tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3 id=&quot;azure-devops&quot;&gt;Azure DevOps&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://azure.microsoft.com/en-us/services/devops/&quot;&gt;Azure DevOps&lt;/a&gt; by Microsoft is a platform for creating a CI/CD pipeline to Azure. It provides several advanced features and services that support the software development cycle from planning to deployment. Azure DevOps integrates with both Team Foundation Version Control and Git for version control, code repository management, and build automation.&lt;/p&gt;
&lt;p&gt;Azure DevOps also integrates with major languages and platforms, allowing you to build, test and deploy in Java, .Net, Android, or iOS. It also runs parallel on Linux, macOS, and Windows and on both virtual machines and containers.&lt;/p&gt;
&lt;p&gt;One standout feature of Azure DevOps is that it supports automated load testing, which can simulate thousands of users using your app at the same time. This helps your developers uncover bottlenecks and improve throughput before an application is released.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Where is it hosted?&lt;/strong&gt; Self-hosted; cloud&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What platform does it run?&lt;/strong&gt; Container; virtual machine&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What is its pricing model?&lt;/strong&gt; Free up to a specific number of builds, but build servers can be reserved at a cost for higher volumes&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/continuous-integration/iIfItCx.png&quot; title=&quot;Azure DevOps CI/CD Tool&quot; alt=&quot;Azure DevOps CI/CD Tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Azure DevOps CI/CD Tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;continuous-integration-best-practices&quot;&gt;Continuous Integration Best Practices&lt;/h2&gt;
&lt;p&gt;To get the most out of your CI process, you’ll need to set it up with the following best practices: consistency between environments, disciplined use of the CI/CD pipeline (no sidestepping it for special cases), prioritizing tests by speed, and the “Build Once” practice.&lt;/p&gt;
&lt;h3 id=&quot;strive-for-consistency-between-environments&quot;&gt;Strive for Consistency Between Environments&lt;/h3&gt;
&lt;p&gt;We’ve all had it happen: code that works perfectly in your development environment throws a hissy fit in production.&lt;/p&gt;
&lt;p&gt;Your CI environment should either match production exactly or be customized in a way that mitigates any bugs that might happen due to the difference in the two environments. The wider the difference between your development or staging and production environments, the less accurate your tests will be in showing how the code will perform in the real world.&lt;/p&gt;
&lt;p&gt;A few ways to make sure that your environments are consistent are as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using &lt;a href=&quot;https://www.redhat.com/en/topics/devops/what-is-blue-green-deployment&quot;&gt;blue-green deployments&lt;/a&gt;. This release strategy involves running two parallel versions of the production environment and involves using a load balancer to swap production traffic between two environments alternately designated as production (green) and staging (blue).&lt;/li&gt;
&lt;li&gt;Deploy a scaled-down version of your production environment to your development or staging environment. If you’re using this method, ensure that the code is consistent and that differences between the two environments are well-documented.&lt;/li&gt;
&lt;li&gt;Use a clone of the production environment to make sure that your CI environment is an exact match.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;all-deployments-must-go-through-ci&quot;&gt;All Deployments Must Go Through CI&lt;/h3&gt;
&lt;p&gt;CI acts as a watchman to enforce best practices in the development process and ensure that changes are in line with your company’s standards and procedures. A failure during integration is flagged immediately and prevents the affected code from moving forward into other parts of the development process. This protects subsequent environments like production from untrusted or error-prone code.&lt;/p&gt;
&lt;p&gt;For CI to be successful, you’ll need to make sure that the CI/CD pipeline is the only mechanism through which code enters your production environment. This could be via continuous delivery with manual approval processes and batched releases or through automated continuous deployment practices.&lt;/p&gt;
&lt;p&gt;Development teams may feel pressured to make exceptions and circumvent the CI process when problems arise. It’s tempting to bypass the system to mitigate excessive downtime and fix other issues as soon as possible, but adhering to the CI/CD pipeline helps ensure that the changes being made won’t worsen the current problem or introduce new ones.&lt;/p&gt;
&lt;p&gt;Sending all changes through the CI/CD pipeline helps to protect the integrity of your deployments and prevents ad hoc fixes from being erased by subsequent updates.&lt;/p&gt;
&lt;h3 id=&quot;run-your-fastest-testschecks-first&quot;&gt;Run Your Fastest Tests/Checks First&lt;/h3&gt;
&lt;p&gt;The general goal of the CI/CD process is to provide rapid feedback to developers and promote rapid software delivery to users. You want to keep the entire pipeline fast, but the reality is that some parts will be faster than others. If developers have to wait too long to get feedback from testing, they might look for ways around the process.&lt;/p&gt;
&lt;p&gt;Because you want to discover failures as early as possible, prioritize and run the tests that complete quickest first and leave longer running tests until later.&lt;/p&gt;
&lt;p&gt;This usually means running your unit tests first, as those are faster, make up most of your tests, and can give you immediate feedback on bugs and errors introduced by the latest update. After unit testing is complete, run integration tests next to see how different parts of your code interact. Then follow up with system-wide tests such as GUI, performance, load and security tests, and manual acceptance tests.&lt;/p&gt;
&lt;h3 id=&quot;build-only-once-and-promote-the-result-through-the-pipeline&quot;&gt;Build Only Once and Promote the Result Through the Pipeline&lt;/h3&gt;
&lt;p&gt;One aim of CI/CD is to ensure that your end product is robust and won’t produce unexpected results. This is why it’s important to perform your build step only once and then advance resulting binaries through the entire pipeline. Software builds that occur separately at each new stage of the pipeline can introduce inconsistencies, and tests completed in earlier environments become invalid because they may not be targeting the same software that is eventually deployed.&lt;/p&gt;
&lt;p&gt;In the “Build Once” best practice, the build process always occurs as the first step in the pipeline, and the resulting artifact is versioned and uploaded to the central repository where it can be pulled and used in the later stages. This ensures that the build does not change as it moves through the pipeline.&lt;/p&gt;
&lt;h2 id=&quot;whats-next&quot;&gt;What’s Next?&lt;/h2&gt;
&lt;p&gt;Continuous integration speeds up the software development process and helps development teams avoid common pitfalls such as broken application builds, and chaotic release cycles. Rather than catching issues just before (or even after) they’re released, continuous integration allows you to mitigate errors &lt;em&gt;while&lt;/em&gt; you’re working on a feature.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt; is a free and open-source build automation tool that works with your existing build systems to create repeatable, containerized, language-agnostic builds. It acts as a layer between language-specific tools such as Gradle and Apache Maven and the CI buildspec and allows for faster iteration on build scripts and easier debugging. You can discuss automation and other topics in the &lt;a href=&quot;https://earthly.dev/slack&quot;&gt;Earthly Community on Slack&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To find out more about how Earthly can help you simplify your CI systems, check us out on &lt;a href=&quot;https://github.com/earthly/earthly%20“Earthly%20build%20automation%20tool%20documentation%20and%20download”&quot;&gt;GitHub&lt;/a&gt;. With CI automation in place, developers can push changes more frequently, get faster feedback, and ensure that every change is integrated, tested, and verified.&lt;/p&gt;</content><author><name>Deborah Ruck</name></author><category term="Articles" /><summary type="html">Continuous integration has become prevalent in software development, but it’s still a complex and wide-ranging topic. In this post, we’ll cover the basics of continuous integration, the differences between CI and CD, and common CI tools. You’ll also find some tips for the best way to set up CI in your environment. What Is Continuous Integration? Continuous integration (CI) is a set of operating principles and practices in the DevOps process that helps software development teams release faster and more reliable application updates. With the advancement of modern tooling, most CI processes center around automated tests, static analysis, and building releasable software. This process is helpful for teams that want to ensure each update to their software is working, stable, and ready to deploy before they integrate it into their production environment. For example, if a team member makes a change to a project, they might make updates on a new branch (assuming they’re using git for version control). When complete, they push these changes to a shared repository where a continuous integration workflow will automatically install dependencies, run tests, and check for linting errors before merging the changes into the main branch. The Relationship Between Continuous Integration and Continuous Delivery/Deployment Continuous integration is the first part of the CI/CD process. The CD stands for either continuous delivery or continuous deployment. Although these terms are sometimes used interchangeably, they are not quite the same. In both cases, code is released in short cycles. However, with continuous delivery, code changes are automatically deployed through the development and testing stages, but must be manually reviewed and approved before being batched and released to production. With continuous deployment, code changes that successfully pass through all stages of the development process are automatically released to production without human intervention. A failed test along the pipeline is the only event that will prevent a change from reaching production. Why CI Is Important to Software Development “Continuous integration doesn’t get rid of bugs, but it does make them dramatically easier to find and remove.” – Martin Fowler, Chief Scientist, ThoughtWorks Before continuous integration became an industry standard, developers’ changes were tested less frequently, often only when it was time to release a new version of the software. This meant the team had to spend unnecessary hours fixing bugs that could have been caught earlier in the process with a robust continuous integration process. CI helps developers avoid such problems while increasing productivity. Because code changes are automatically and continuously tested, verified, and built, developers should not have to manually check for integration issues. Because testing in CI is frequent and automated, developers can find and address bugs faster and earlier in the software development life cycle. This promotes a culture that delivers faster, higher-quality releases into production. How CI Works CI validates changes upon check-in using an automated build process that also runs validation and integration tests. The continuous integration process aims to detect bugs and errors faster and eliminate the integration issues that occur when developers work in isolation, resulting in higher quality software releases and faster delivery times. A Typical CI Build Process Earthly integration diagram In a typical CI build process, developers push code changes from a branch to a central repository such as GitHub. CI automation servers such as Jenkins and CircleCI continuously monitor the repository to check for code updates. Once it detects a change, the automation server triggers the build process to compile and build the code, then run validation and integration tests. CI automation servers interface with compilation tools such as Docker, Bash, and Makefile to create deployable artifacts such as binaries, packages, or Docker images. When continuous deployment is employed, the built application is then deployed and run on subsequent testing or production environments. Other developers can also pull down the resulting image and test locally. If the build fails, the development team will typically receive an alert, allowing them to fix any errors that occur. How Has CI Changed in the Past Few Years? CI became popular as an integral part of agile software development but has since developed into one of the pillars of the DevOps process. Guided by key principles such as revision control, software integration, and build automation, it is now an industry standard in software development. As DevOps practices continue to evolve, we see trends moving toward self-service and a more cloud-centric model to give developers more autonomy. Because of COVID-19, CIOs and other IT leaders have recognized the need to adjust and adapt to support more cloud-based workflows and applications. Moving forward, cloud-native approaches, including multi-cloud solutions, will become the standard for hosting, pipelines, storage, and load balancing. As part of the self-service trend, developers will no longer have to wait for a separate operations team to dispatch new applications or updates, but will instead be able to build DevOps infrastructure that allows them to deploy updates themselves. Self-service capabilities are already available today for several DevOps processes, including development environments, CI/CD workflows, and audit logging. Common Tools for CI Your choice of CI tools will largely depend on your business requirements, the tech stack you already have or plan to implement, and your daily workflow. There are many CI tools and solutions to choose from. Let’s look at four of them. Jenkins Jenkins is the most well-known continuous integration tool and has a reputation for reliability. Written in Java, it’s an open-source cross-platform tool with a large community following that contributes to its development. Jenkins works as a standalone CI server or a continuous delivery platform and offers several features to support the entire software development life cycle, including automated builds and testing, code debugging and analysis, and project deployment. It can run on any operating system including Windows, OS X, and Unix, and you can easily configure it via a web GUI interface or console commands. Jenkins is highly extensible; thanks to its robust ecosystem of almost 1400 plugins, you can add several features for user interface, platform integration, source code management and builds, and administrative tasks. Where is it hosted? Self-hosted; cloud What platform does it run? Containers; virtual machines What is its pricing model? Open source Jenkins CI/CD Tool CircleCI CircleCI is an excellent platform for build automation and testing along with a branch-focused deployment process. It integrates seamlessly with several version control systems, container systems, and delivery mechanisms, including GitHub and Bitbucket as well as build tools such as Gradle and Apache Maven. You can host CircleCI on premise or integrate it with AWS, Google Cloud, and other cloud services. It’s highly customizable and performance-optimized for quick builds, and it also provides analytics to measure build performance. Where is it hosted? Self-hosted; cloud What platform does it run? Containers; virtual machine What is its pricing model? Free entry-level version; Premium starts at $30 Circle CI CI/CD tool GitHub Actions Introduced in 2018, GitHub Actions is one of the newer tools in the CI/CD tech stack. It is fully integrated within GitHub, making it manageable from a single place. Integration with GitHub means you can build, test, and deploy code directly from your GitHub repository. GitHub manages the execution and provides feedback and security for the entire CI process. GitHub Actions offers a wide range of automation tasks and actions that allow you to create, share, reuse, and branch software development workflows directly in your GitHub repository. It also supports Docker for multi-container testing and offers several CI templates. Where is it hosted? Self-hosted; cloud What platform does it run? Container; virtual machine What is its pricing model? Free for public repositories and self-hosted runners. For private repositories, build minutes/month depend on account type and spending limits GitHub Actions CI/CD tool Azure DevOps Azure DevOps by Microsoft is a platform for creating a CI/CD pipeline to Azure. It provides several advanced features and services that support the software development cycle from planning to deployment. Azure DevOps integrates with both Team Foundation Version Control and Git for version control, code repository management, and build automation. Azure DevOps also integrates with major languages and platforms, allowing you to build, test and deploy in Java, .Net, Android, or iOS. It also runs parallel on Linux, macOS, and Windows and on both virtual machines and containers. One standout feature of Azure DevOps is that it supports automated load testing, which can simulate thousands of users using your app at the same time. This helps your developers uncover bottlenecks and improve throughput before an application is released. Where is it hosted? Self-hosted; cloud What platform does it run? Container; virtual machine What is its pricing model? Free up to a specific number of builds, but build servers can be reserved at a cost for higher volumes Azure DevOps CI/CD Tool Continuous Integration Best Practices To get the most out of your CI process, you’ll need to set it up with the following best practices: consistency between environments, disciplined use of the CI/CD pipeline (no sidestepping it for special cases), prioritizing tests by speed, and the “Build Once” practice. Strive for Consistency Between Environments We’ve all had it happen: code that works perfectly in your development environment throws a hissy fit in production. Your CI environment should either match production exactly or be customized in a way that mitigates any bugs that might happen due to the difference in the two environments. The wider the difference between your development or staging and production environments, the less accurate your tests will be in showing how the code will perform in the real world. A few ways to make sure that your environments are consistent are as follows: Using blue-green deployments. This release strategy involves running two parallel versions of the production environment and involves using a load balancer to swap production traffic between two environments alternately designated as production (green) and staging (blue). Deploy a scaled-down version of your production environment to your development or staging environment. If you’re using this method, ensure that the code is consistent and that differences between the two environments are well-documented. Use a clone of the production environment to make sure that your CI environment is an exact match. All Deployments Must Go Through CI CI acts as a watchman to enforce best practices in the development process and ensure that changes are in line with your company’s standards and procedures. A failure during integration is flagged immediately and prevents the affected code from moving forward into other parts of the development process. This protects subsequent environments like production from untrusted or error-prone code. For CI to be successful, you’ll need to make sure that the CI/CD pipeline is the only mechanism through which code enters your production environment. This could be via continuous delivery with manual approval processes and batched releases or through automated continuous deployment practices. Development teams may feel pressured to make exceptions and circumvent the CI process when problems arise. It’s tempting to bypass the system to mitigate excessive downtime and fix other issues as soon as possible, but adhering to the CI/CD pipeline helps ensure that the changes being made won’t worsen the current problem or introduce new ones. Sending all changes through the CI/CD pipeline helps to protect the integrity of your deployments and prevents ad hoc fixes from being erased by subsequent updates. Run Your Fastest Tests/Checks First The general goal of the CI/CD process is to provide rapid feedback to developers and promote rapid software delivery to users. You want to keep the entire pipeline fast, but the reality is that some parts will be faster than others. If developers have to wait too long to get feedback from testing, they might look for ways around the process. Because you want to discover failures as early as possible, prioritize and run the tests that complete quickest first and leave longer running tests until later. This usually means running your unit tests first, as those are faster, make up most of your tests, and can give you immediate feedback on bugs and errors introduced by the latest update. After unit testing is complete, run integration tests next to see how different parts of your code interact. Then follow up with system-wide tests such as GUI, performance, load and security tests, and manual acceptance tests. Build Only Once and Promote the Result Through the Pipeline One aim of CI/CD is to ensure that your end product is robust and won’t produce unexpected results. This is why it’s important to perform your build step only once and then advance resulting binaries through the entire pipeline. Software builds that occur separately at each new stage of the pipeline can introduce inconsistencies, and tests completed in earlier environments become invalid because they may not be targeting the same software that is eventually deployed. In the “Build Once” best practice, the build process always occurs as the first step in the pipeline, and the resulting artifact is versioned and uploaded to the central repository where it can be pulled and used in the later stages. This ensures that the build does not change as it moves through the pipeline. What’s Next? Continuous integration speeds up the software development process and helps development teams avoid common pitfalls such as broken application builds, and chaotic release cycles. Rather than catching issues just before (or even after) they’re released, continuous integration allows you to mitigate errors while you’re working on a feature. Earthly is a free and open-source build automation tool that works with your existing build systems to create repeatable, containerized, language-agnostic builds. It acts as a layer between language-specific tools such as Gradle and Apache Maven and the CI buildspec and allows for faster iteration on build scripts and easier debugging. You can discuss automation and other topics in the Earthly Community on Slack. To find out more about how Earthly can help you simplify your CI systems, check us out on GitHub. With CI automation in place, developers can push changes more frequently, get faster feedback, and ensure that every change is integrated, tested, and verified.</summary></entry><entry><title type="html">Building a Monorepo with Bazel</title><link href="https://earthly.dev/blog/monorepo-with-bazel/" rel="alternate" type="text/html" title="Building a Monorepo with Bazel" /><published>2021-05-12T00:00:00-04:00</published><updated>2021-05-12T00:00:00-04:00</updated><id>https://earthly.dev/blog/monorepo-with-bazel</id><content type="html" xml:base="https://earthly.dev/blog/monorepo-with-bazel/">&lt;p&gt;A &lt;em&gt;monorepo&lt;/em&gt; is perhaps what you would expect from the name: a single code repository for your entire codebase.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Monorepo&quot;&gt;Wikipedia&lt;/a&gt; describes it as a decade-old software development strategy for storing all your code in a single repository, but you can also think of it as a higher-level architecture pattern for governing loosely tied applications. For instance, if you have a full-stack web application stored in one repository and an Android client in another, a monorepo would essentially wrap them in the same repository codebase.&lt;/p&gt;
&lt;h2 id=&quot;who-uses-monorepos-and-why&quot;&gt;Who Uses Monorepos and Why?&lt;/h2&gt;
&lt;p&gt;Google is one of the most notable adopters of the monorepo pattern, and &lt;a href=&quot;https://bazel.build/users.html#whos-using-bazel&quot;&gt;companies&lt;/a&gt; like Dropbox, LinkedIn, and Uber use monorepos to manage their large codebases. This is because large-scale projects having little or no dependency on each other can be developed, tested, and built without bisecting them into smaller projects.&lt;/p&gt;
&lt;p&gt;If you’re from a JavaScript or &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt; background, you can think of a monorepo as a project having a single &lt;code&gt;package.json&lt;/code&gt; file for managing all your project dependencies. It also allows you to easily share code between multiple environments using isolated modules as published packages. You can configure a single bundler for performing unit tests, integration tests, and other configurations without worrying about language and ecosystem-specific configurations.&lt;/p&gt;
&lt;h2 id=&quot;the-efficiency-of-building-a-monorepo-with-bazel&quot;&gt;The Efficiency of Building a Monorepo with Bazel&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/bazel-overview.html&quot;&gt;Bazel&lt;/a&gt; is an open-source build tool developed by Google to give power and life to your monorepo. It’s similar to other build tools like &lt;a href=&quot;https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html&quot;&gt;Maven&lt;/a&gt;, &lt;a href=&quot;https://gradle.org/&quot;&gt;Gradle&lt;/a&gt;, and &lt;a href=&quot;https://buck.build/&quot;&gt;Buck&lt;/a&gt;, but it has a number of advantages:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Bazel supports multiple languages (Java, JavaScript, Go, C++, to name a few) and platforms (Linux, macOS, and Windows).&lt;/li&gt;
&lt;li&gt;It’s built with &lt;a href=&quot;https://docs.rs/starlark/0.3.1/starlark/&quot;&gt;Starlark&lt;/a&gt;, a high-level language similar to Python that allows it to perform complex operations on binaries, scripts, and data sets.&lt;/li&gt;
&lt;li&gt;Even for large source files, Bazel is blazingly fast at building, as it caches previous work and rebuilds only the code that needs to be.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This article will walk you through the core concepts of Bazel and set you up for building and compiling your own monorepo in JavaScript.&lt;/p&gt;
&lt;h2 id=&quot;bazel-basics&quot;&gt;Bazel Basics&lt;/h2&gt;
&lt;p&gt;First, some vocabulary.&lt;/p&gt;
&lt;h3 id=&quot;workspace&quot;&gt;Workspace&lt;/h3&gt;
&lt;p&gt;Bazel calls your top-level source file a &lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#workspace&quot;&gt;workspace&lt;/a&gt;, which contains other source files in a nested fashion. Your workspace is what builds your entire software by taking a set of inputs and generating the desired output.&lt;/p&gt;
&lt;h3 id=&quot;packages&quot;&gt;Packages&lt;/h3&gt;
&lt;p&gt;A &lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#packages&quot;&gt;package&lt;/a&gt; contains all your related files and dependencies and a file named &lt;code&gt;BUILD&lt;/code&gt;. Subdirectories falling under a package are called subpackages.&lt;/p&gt;
&lt;p&gt;Consider the following directory tree:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;src/app/BUILD
src/app/core/input.txt
src/app/tests/BUILD&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It has two packages: &lt;code&gt;app&lt;/code&gt;, and a subpackage, &lt;code&gt;app/tests&lt;/code&gt;, since both contain their own BUILD files. Note that &lt;code&gt;app/core&lt;/code&gt; is not a package but a regular directory inside &lt;code&gt;app&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;targets&quot;&gt;Targets&lt;/h3&gt;
&lt;p&gt;Elements of a package are called &lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#targets&quot;&gt;targets&lt;/a&gt;, which can be categorized as &lt;em&gt;files&lt;/em&gt; and &lt;em&gt;rules&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Files can either be source files containing the code of a developer or &lt;em&gt;generated files&lt;/em&gt; generated by Bazel according to a specific set of rules. A rule specifies the relationship between a set of inputs and outputs along with the necessary steps to derive the latter from the former.&lt;/p&gt;
&lt;h3 id=&quot;labels&quot;&gt;Labels&lt;/h3&gt;
&lt;p&gt;The name of a target is its &lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#labels&quot;&gt;label&lt;/a&gt;, which uniquely identifies it and always starts with &lt;code&gt;//&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@repo//app/main:app_binary&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each label has two parts: a package name (&lt;code&gt;app/main&lt;/code&gt;) and a target name (&lt;code&gt;app_binary&lt;/code&gt;).&lt;/p&gt;
&lt;h3 id=&quot;dependencies&quot;&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;Target X is considered a dependency for target Y, if Y needs X at build or execution time. The dependency relation produces a &lt;a href=&quot;https://en.wikipedia.org/wiki/Directed_acyclic_graph&quot;&gt;Directed Acyclic Graph&lt;/a&gt; (DAG) called a &lt;em&gt;dependency graph&lt;/em&gt;, which is used to classify these dependencies further. You can read more about &lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#dependencies&quot;&gt;these types and their definitions here&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;build-files&quot;&gt;Build Files&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.bazel.build/versions/4.0.0/build-ref.html#BUILD_files&quot;&gt;Build files&lt;/a&gt; contain the top-level program that describes the set of declared rules. These files are periodically updated with respect to changes in the dependencies being used.&lt;/p&gt;
&lt;h3 id=&quot;bazel-basic-commands&quot;&gt;Bazel Basic Commands&lt;/h3&gt;
&lt;p&gt;You can check if you have Bazel installed on your system by running the &lt;code&gt;version&lt;/code&gt; command.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ bazel --version
bazel 4.0.0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The primary &lt;code&gt;build&lt;/code&gt; command builds your project’s targets, and &lt;code&gt;analyze-profile&lt;/code&gt; can analyze your builds. You can also remove output files and close the server using the &lt;code&gt;clean&lt;/code&gt; command. You can get a list of all these basic commands along with their use cases by running:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ bazel help 
Usage: bazel &amp;lt;command&amp;gt; &amp;lt;options&amp;gt; ...

Available commands:
  analyze-profile     Analyzes build profile data.
...&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;how-to-build-a-monorepo-with-bazel&quot;&gt;How to Build a Monorepo with Bazel&lt;/h2&gt;
&lt;p&gt;Once you have the &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt; installed on your system, you can run the following command to install Bazel globally:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;npm install -g @bazel/bazelisk &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also install &lt;a href=&quot;https://docs.bazel.build/versions/master/build-javascript.html#installing-ibazel&quot;&gt;iBazel&lt;/a&gt; to enable hot reloading. This lets you see your changes live in real time.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;npm install --save-dev @bazel/ibazel
npm install --global @bazel/ibazel&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;configuring-the-bazel.rc-file&quot;&gt;Configuring the &lt;code&gt;bazel.rc&lt;/code&gt; File&lt;/h3&gt;
&lt;p&gt;You can write build options in a &lt;a href=&quot;https://docs.bazel.build/versions/master/guide.html#bazelrc&quot;&gt;&lt;code&gt;bazel.rc&lt;/code&gt; file&lt;/a&gt; to apply them on every build. You can use the same settings for your project by creating a &lt;code&gt;tools/bazel.rc&lt;/code&gt; file at the root of your Bazel workspace.&lt;/p&gt;
&lt;p&gt;If you don’t want to share these settings, you can move out the &lt;code&gt;.bazel.rc&lt;/code&gt; file to the root directory and add it to your &lt;code&gt;.gitignore&lt;/code&gt; list instead. You can also personalize these settings locally by moving it in your home directory.&lt;/p&gt;
&lt;p&gt;The following is a generic &lt;code&gt;bazel.rc&lt;/code&gt; file that you can modify according to your needs:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode .rc&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Directory structure         #&lt;/span&gt;
&lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Artifacts are typically placed in a directory called &amp;quot;dist&amp;quot;&lt;/span&gt;
&lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Be aware that this setup will still create a bazel-out symlink in&lt;/span&gt;
&lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# your project directory, which you must exclude from version control and your&lt;/span&gt;
&lt;span id=&quot;cb7-8&quot;&gt;&lt;a href=&quot;#cb7-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# editor&amp;#39;s search path.&lt;/span&gt;
&lt;span id=&quot;cb7-9&quot;&gt;&lt;a href=&quot;#cb7-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;build --symlink_prefix=dist/&lt;/span&gt;
&lt;span id=&quot;cb7-10&quot;&gt;&lt;a href=&quot;#cb7-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-11&quot;&gt;&lt;a href=&quot;#cb7-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-12&quot;&gt;&lt;a href=&quot;#cb7-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Output                      #&lt;/span&gt;
&lt;span id=&quot;cb7-13&quot;&gt;&lt;a href=&quot;#cb7-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-14&quot;&gt;&lt;a href=&quot;#cb7-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-15&quot;&gt;&lt;a href=&quot;#cb7-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# A more useful default output mode for bazel query, which&lt;/span&gt;
&lt;span id=&quot;cb7-16&quot;&gt;&lt;a href=&quot;#cb7-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# prints &amp;quot;ng_module rule //foo:bar&amp;quot; instead of just &amp;quot;//foo:bar&amp;quot;.&lt;/span&gt;
&lt;span id=&quot;cb7-17&quot;&gt;&lt;a href=&quot;#cb7-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;query --output=label_kind&lt;/span&gt;
&lt;span id=&quot;cb7-18&quot;&gt;&lt;a href=&quot;#cb7-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-19&quot;&gt;&lt;a href=&quot;#cb7-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# By default, failing tests don&amp;#39;t print any output, it&amp;#39;s logged to a&lt;/span&gt;
&lt;span id=&quot;cb7-20&quot;&gt;&lt;a href=&quot;#cb7-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# file instead.&lt;/span&gt;
&lt;span id=&quot;cb7-21&quot;&gt;&lt;a href=&quot;#cb7-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;test --test_output=errors&lt;/span&gt;
&lt;span id=&quot;cb7-22&quot;&gt;&lt;a href=&quot;#cb7-22&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-23&quot;&gt;&lt;a href=&quot;#cb7-23&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-24&quot;&gt;&lt;a href=&quot;#cb7-24&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Typescript / Angular / Sass #&lt;/span&gt;
&lt;span id=&quot;cb7-25&quot;&gt;&lt;a href=&quot;#cb7-25&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;###############################&lt;/span&gt;
&lt;span id=&quot;cb7-26&quot;&gt;&lt;a href=&quot;#cb7-26&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Make TypeScript and Angular compilation fast by keeping a few&lt;/span&gt;
&lt;span id=&quot;cb7-27&quot;&gt;&lt;a href=&quot;#cb7-27&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# copies of the compiler running as daemons, and cache SourceFile&lt;/span&gt;
&lt;span id=&quot;cb7-28&quot;&gt;&lt;a href=&quot;#cb7-28&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# ASTs to reduce parse time.&lt;/span&gt;
&lt;span id=&quot;cb7-29&quot;&gt;&lt;a href=&quot;#cb7-29&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;build --strategy=TypeScriptCompile=worker --strategy=AngularTemplateCompile=worker&lt;/span&gt;
&lt;span id=&quot;cb7-30&quot;&gt;&lt;a href=&quot;#cb7-30&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-31&quot;&gt;&lt;a href=&quot;#cb7-31&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;# Enable debugging tests with --config=debug&lt;/span&gt;
&lt;span id=&quot;cb7-32&quot;&gt;&lt;a href=&quot;#cb7-32&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;test:debug --test_arg=--node_options=--inspect-brk --test_output=streamed --test_strategy=exclusive --test_timeout=9999 --nocache_test_results&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;adding-the-buildifier-dependency-to-your-project&quot;&gt;Adding the &lt;code&gt;buildifier&lt;/code&gt; Dependency to Your Project&lt;/h3&gt;
&lt;p&gt;Buildifier is a formatting tool that ensures all &lt;code&gt;BUILD&lt;/code&gt; files are formatted in a similar fashion. It creates a standardized formatting for all your &lt;code&gt;BUILD&lt;/code&gt; and &lt;code&gt;.bzl&lt;/code&gt; files. It also has a linter out of the box to help you detect issues in your code and automatically fix them. You can add the &lt;code&gt;buildifier&lt;/code&gt; dependency to your project either using npm:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;npm install --save-dev @bazel/buildifier&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or Yarn:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;yarn add -D @bazel/buildifier&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You will need the following scripts inside your &lt;code&gt;package.json&lt;/code&gt; file to run the &lt;code&gt;buildifier&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;&amp;quot;scripts&amp;quot;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;bazel:format&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;find . -type f &lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;( -name &lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;*.bzl&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; -or -name WORKSPACE -or -name BUILD -or -name BUILD.bazel &lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;) ! -path &lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;*/node_modules/*&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; | xargs buildifier -v --warnings=attr-cfg,attr-license,attr-non-empty,attr-output-default,attr-single-file,constant-glob,ctx-actions,ctx-args,depset-iteration,depset-union,dict-concatenation,duplicated-name,filetype,git-repository,http-archive,integer-division,load,load-on-top,native-build,native-package,out-of-order-load,output-group,package-name,package-on-top,positional-args,redefined-variable,repository-name,same-origin-load,string-iteration,unsorted-dict-items,unused-variable&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;bazel:lint&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;yarn bazel:format --lint=warn&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;bazel:lint-fix&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;yarn bazel:format --lint=fix&amp;quot;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;buildingcompiling-code&quot;&gt;Building/Compiling Code&lt;/h3&gt;
&lt;p&gt;In this example, you’ll start from a new empty directory and build and compile a simple Node.js application using Bazel. You’ll end up with the following structure:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  WORKSPACE     
  BUILD.bazel    
  es5.babelrc  
  app.js    
  package-lock.json  
  package.json    
  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Instead of manually configuring everything, you can use the following commands to get started:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb12&quot;&gt;&lt;pre class=&quot;sourceCode sh&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb12-1&quot;&gt;&lt;a href=&quot;#cb12-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;npm&lt;/span&gt; init @bazel bazel_build_nodejs  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or if you’re using Yarn:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;yarn create @bazel bazel_build_nodejs  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The previous commands use &lt;a href=&quot;https://www.npmjs.com/package/@bazel/create&quot;&gt;&lt;code&gt;@bazel/create&lt;/code&gt;&lt;/a&gt; under the hood to set up your monorepo with some minimal configurations. This means that it automatically creates &lt;code&gt;package.json&lt;/code&gt;, &lt;code&gt;WORKSPACE&lt;/code&gt;, and &lt;code&gt;BUILD.bazel&lt;/code&gt; files for you.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;package.json&lt;/code&gt; is exactly how it’s created when you’re initializing any Node.js project using the &lt;code&gt;npm init&lt;/code&gt; command. It contains some development time dependencies and some scripts through which you can run your build.&lt;/p&gt;
&lt;p&gt;Also notice how it automatically adds &lt;code&gt;buildifier&lt;/code&gt; to your project so you can avoid manually setting it up. This is only a starting point though, and you would need to manually set up a &lt;code&gt;buildifier&lt;/code&gt; depending on the requirements of your project.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;bazel_build_nodejs&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;0.1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;private&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-5&quot;&gt;&lt;a href=&quot;#cb14-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;devDependencies&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-6&quot;&gt;&lt;a href=&quot;#cb14-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;@bazel/bazelisk&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;latest&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-7&quot;&gt;&lt;a href=&quot;#cb14-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;@bazel/ibazel&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;latest&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-8&quot;&gt;&lt;a href=&quot;#cb14-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;@bazel/buildifier&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;latest&amp;quot;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-9&quot;&gt;&lt;a href=&quot;#cb14-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;},&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-10&quot;&gt;&lt;a href=&quot;#cb14-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-11&quot;&gt;&lt;a href=&quot;#cb14-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;build&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;bazel build //...&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-12&quot;&gt;&lt;a href=&quot;#cb14-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;bazel test //...&amp;quot;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-13&quot;&gt;&lt;a href=&quot;#cb14-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-14&quot;&gt;&lt;a href=&quot;#cb14-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb14-15&quot;&gt;&lt;a href=&quot;#cb14-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s install these packages and a few more like &lt;a href=&quot;https://babeljs.io/&quot;&gt;Babel&lt;/a&gt; to &lt;a href=&quot;https://scotch.io/tutorials/javascript-transpilers-what-they-are-why-we-need-them&quot;&gt;transpile&lt;/a&gt; your JavaScript code.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;npm install @babel/core @babel/cli @babel/preset-env  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A &lt;code&gt;package-lock.json&lt;/code&gt; file will also be automatically created for you. Your &lt;code&gt;WORKSPACE.bazel&lt;/code&gt; file should look like this:&lt;/p&gt;
&lt;pre class=&quot;text&quot;&gt;&lt;code&gt;# Bazel workspace created by @bazel/create 3.4.1  
  
# Declares that this directory is the root of a Bazel workspace.  
# See https://docs.bazel.build/versions/master/build-ref.html#workspace  
workspace(  
    # How this workspace would be referenced with absolute labels from another workspace  
    name = &amp;quot;bazel_build_nodejs&amp;quot;,  
    # Map the @npm bazel workspace to the node_modules directory.  
    # This lets Bazel use the same node_modules as other local tooling.  
    managed_directories = {&amp;quot;@npm&amp;quot;: [&amp;quot;node_modules&amp;quot;]},  
)  
  
# Install the nodejs &amp;quot;bootstrap&amp;quot; package  
# This provides the basic tools for running and packaging Node.js programs in Bazel  
load(&amp;quot;@bazel_tools//tools/build_defs/repo:http.bzl&amp;quot;, &amp;quot;http_archive&amp;quot;)  
http_archive(  
    name = &amp;quot;build_bazel_rules_nodejs&amp;quot;,  
    sha256 = &amp;quot;a160d9ac88f2aebda2aa995de3fa3171300c076f06ad1d7c2e1385728b8442fa&amp;quot;,  
    urls = [&amp;quot;https://github.com/bazelbuild/rules_nodejs/releases/download/3.4.1/rules_nodejs-3.4.1.tar.gz&amp;quot;],  
)  
  
# The npm_install rule runs Yarn anytime the package.json or package-lock.json file changes.  
# It also extracts any Bazel rules distributed in an npm package.  
load(&amp;quot;@build_bazel_rules_nodejs//:index.bzl&amp;quot;, &amp;quot;npm_install&amp;quot;)  
npm_install(  
    # Name this npm so that Bazel Label references look like @npm//package  
    name = &amp;quot;npm&amp;quot;,  
    package_json = &amp;quot;//:package.json&amp;quot;,  
    package_lock_json = &amp;quot;//:package-lock.json&amp;quot;,  
)  
  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It basically tells Bazel where to pull the tools for running your project and fetches all the required rules to create a build. You also need to tell Bazel to use auto-generated rules. Add the following line to the top of your &lt;code&gt;BUILD.bazel&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(&amp;quot;@npm//@babel/cli:index.bzl&amp;quot;, &amp;quot;babel&amp;quot;)  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s add a simple console statement inside &lt;code&gt;app.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode javascript&quot;&gt;&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;NodeJS Built using Bazel!&amp;#39;&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next add the following code inside &lt;code&gt;es5.babelrc&lt;/code&gt; to configure Babel for transpiling JavaScript code:&lt;/p&gt;
&lt;pre class=&quot;babelrc&quot;&gt;&lt;code&gt;{  
    &amp;quot;sourceMaps&amp;quot;: &amp;quot;inline&amp;quot;,  
    &amp;quot;presets&amp;quot;: [  
      [  
        &amp;quot;@babel/preset-env&amp;quot;,  
        {  
          &amp;quot;modules&amp;quot;: &amp;quot;systemjs&amp;quot;  
        }  
      ]  
    ]  
  }  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, you need to tell Bazel how to take JavaScript inputs and convert them to transpiled or &lt;a href=&quot;https://johnpapa.net/es5-es2015-typescript/&quot;&gt;ES5&lt;/a&gt; output. Add the following code inside &lt;code&gt;BUILD.bazel&lt;/code&gt; file after the previous load statement:&lt;/p&gt;
&lt;pre class=&quot;bazel&quot;&gt;&lt;code&gt;babel(  
    name = &amp;quot;compile&amp;quot;,  
    data = [  
        &amp;quot;app.js&amp;quot;,  
        &amp;quot;es5.babelrc&amp;quot;,  
        &amp;quot;@npm//@babel/preset-env&amp;quot;,  
    ],  
    outs = [&amp;quot;app.es5.js&amp;quot;],  
    args = [  
        &amp;quot;app.js&amp;quot;,  
        &amp;quot;--config-file&amp;quot;,  
        &amp;quot;./$(execpath es5.babelrc)&amp;quot;,  
        &amp;quot;--out-file&amp;quot;,  
        &amp;quot;$(execpath app.es5.js)&amp;quot;,  
    ],  
)  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Run the following command to build and compile your JavaScript code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm run build  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In case you run into an error, try renaming your &lt;code&gt;WORKSPACE.bazel&lt;/code&gt; file to simply &lt;code&gt;WORKSPACE&lt;/code&gt;. If all goes well, you should see something similar to the following screenshot on your terminal:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/monorepo-with-bazel/RhmR1Xx.png&quot; alt=&quot;Terminal log of the build command&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Terminal log of the build command&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;You will see &lt;code&gt;bazel-out&lt;/code&gt; and a &lt;code&gt;dist&lt;/code&gt; directory where your output files will be present.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/monorepo-with-bazel/Ffu5zoQ.png&quot; height=&quot;400&quot; alt=&quot;Output directories&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;If you check inside &lt;code&gt;dist/bin/app.es5.js&lt;/code&gt;, you should see your transpiled ES5 JavaScript code as shown:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode javascript&quot;&gt;&lt;code class=&quot;sourceCode javascript&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;System&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;register&lt;/span&gt;([]&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; (_export&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt; _context) {  &lt;/span&gt;
&lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;st&quot;&gt;&amp;quot;use strict&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;cf&quot;&gt;return&lt;/span&gt; {  &lt;/span&gt;
&lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;setters&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; []&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-6&quot;&gt;&lt;a href=&quot;#cb22-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; () {  &lt;/span&gt;
&lt;span id=&quot;cb22-7&quot;&gt;&lt;a href=&quot;#cb22-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;      &lt;span class=&quot;bu&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;NodeJS Built using Bazel!&amp;#39;&lt;/span&gt;)&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-8&quot;&gt;&lt;a href=&quot;#cb22-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    }  &lt;/span&gt;
&lt;span id=&quot;cb22-9&quot;&gt;&lt;a href=&quot;#cb22-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  }&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-10&quot;&gt;&lt;a href=&quot;#cb22-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;})&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;setting-up-continuous-integration&quot;&gt;Setting Up Continuous Integration&lt;/h3&gt;
&lt;p&gt;Bazel recommends using container environments like the &lt;a href=&quot;https://hub.docker.com/r/angular/ngcontainer/&quot;&gt;ngcontainer Docker image&lt;/a&gt; for continuous integration (CI). You can easily add specific CI settings using the &lt;code&gt;build:ci&lt;/code&gt; or &lt;code&gt;test:ci&lt;/code&gt; prefixes to your &lt;code&gt;bazel.rc&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;If you’re using &lt;a href=&quot;https://circleci.com/&quot;&gt;CircleCI&lt;/a&gt;, you can use &lt;a href=&quot;https://github.com/angular/angular-bazel-example/blob/master/.circleci/config.yml&quot;&gt;this example&lt;/a&gt; as a reference. If you’re using GitLab, you can set up CI in minutes using the following scripts:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;variables:  
  BAZEL_DIGEST_VERSION: &amp;quot;f670e9aec235aa23a5f068566352c5850a67eb93de8d7a2350240c68fcec3b25&amp;quot; # Bazel 3.4.1  
  
build:  
  image:  
    name: gcr.io/cloud-marketplace-containers/google/bazel@sha256:$BAZEL_DIGEST_VERSION  
    entrypoint: [&amp;quot;&amp;quot;]  
  stage: build  
  script:  
    - bazel --output_base output build //main/...  
  artifacts:  
    paths:  
      - bazel-bin/main/hello-world  
  cache:  
    key: $BAZEL_DIGEST_VERSION  
    paths:  
      - output  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above scripts define the build outputs and cache directory and also ensures immutability. Luckily the GitLab team has a &lt;a href=&quot;https://about.gitlab.com/blog/2020/09/01/using-bazel-to-speed-up-gitlab-ci-builds/&quot;&gt;dedicated article&lt;/a&gt; on this for the best reference.&lt;/p&gt;
&lt;h2 id=&quot;downsides-of-bazel-and-the-monorepo-pattern&quot;&gt;Downsides of Bazel and the Monorepo Pattern&lt;/h2&gt;
&lt;p&gt;The monorepo pattern is trendy these days, but there are some trade-offs you should be aware of. For a large and diverse team working on a monorepo, it might not be a great idea to expose every ounce of that codebase to novice developers.&lt;/p&gt;
&lt;p&gt;Besides someone messing things up accidentally, keeping open access to all your config files, API keys, and so on might pose an issue from a security standpoint. On similar lines, you can understand why open-source projects aren’t living inside monorepos yet.&lt;/p&gt;
&lt;p&gt;While Bazel definitely does some magic to ease out this pain for developers, it doesn’t have a large open-source community backing it yet. Having all your source code in one place could slow down the general process of approving pull requests and running the build scripts every now and then.&lt;/p&gt;
&lt;p&gt;Bazel also promotes a strict demarcation between your dependencies and source code, while modern languages and frameworks have dedicated directories for bookkeeping dependencies. For instance, an npm project will always have its dependencies in a &lt;code&gt;node_modules&lt;/code&gt; directory inside the root directory. Diverging away from that pattern can present a steep learning curve, or at minimum an uncomfortable change.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Due to better structured configurational files and multiple language support, Bazel is a viable option for your large multi-language project deployed on multiple platforms. It’s fast, and you can even optimize your slow builds &lt;a href=&quot;https://docs.bazel.build/versions/master/remote-caching.html&quot;&gt;using your own build cache&lt;/a&gt;. Google has tried and tested Bazel’s core features to validate its stability, and their extensive documentation is some compensation for the small community.&lt;/p&gt;
&lt;p&gt;If you’d like to explore further, you can build your own React or Angular app using Bazel to see how it treats different environments of the same language. You can also try out their &lt;a href=&quot;https://docs.bazel.build/versions/0.17.2/build-javascript.html#tutorials&quot;&gt;tutorials for different languages&lt;/a&gt; to get a bigger picture of how Bazel works. And if today’s the day you’re welcoming Bazel into your project, definitely take a moment to familiarize yourself with its documented &lt;a href=&quot;https://docs.bazel.build/versions/master/best-practices.html&quot;&gt;best practices&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If the benefits of Bazel look promising but the downsides prevent you from adopting it, then take a look at &lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt;. It supports monorepo and poly repos and has a gentler learning curve.&lt;/p&gt;</content><author><name>Siddhant Varma</name></author><category term="Tutorials" /><summary type="html">A monorepo is perhaps what you would expect from the name: a single code repository for your entire codebase.</summary></entry><entry><title type="html">Understanding Docker Networking</title><link href="https://earthly.dev/blog/docker-networking/" rel="alternate" type="text/html" title="Understanding Docker Networking" /><published>2021-05-05T00:00:00-04:00</published><updated>2021-05-05T00:00:00-04:00</updated><id>https://earthly.dev/blog/docker-networking</id><content type="html" xml:base="https://earthly.dev/blog/docker-networking/">&lt;p&gt;Docker is the de facto model for building and running containers at scale in most enterprise organizations today. At a very high level, Docker is a combination of CLI and a daemon process that solves common software problems like installing, publishing, removing, and managing containers. It’s perfect for microservices, where you have many services handling a typical business functionality; Docker makes the packaging easier, enabling you to encapsulate those services in containers.&lt;/p&gt;
&lt;p&gt;Once the application is inside a container, it’s easier to scale and even runs on different cloud platforms, like AWS, GCP, and Azure. In this article, let’s focus on the &lt;a href=&quot;https://docs.docker.com/network/&quot;&gt;networking aspect of Docker&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;what-is-a-docker-network&quot;&gt;What Is a Docker Network?&lt;/h2&gt;
&lt;p&gt;Networking is about communication among processes, and Docker’s networking is no different. Docker networking is primarily used to establish communication between Docker containers and the outside world via the host machine where the Docker daemon is running.&lt;/p&gt;
&lt;p&gt;Docker supports different types of networks, each fit for certain use cases. We’ll be exploring the network drivers supported by Docker in general, along with some coding examples.&lt;/p&gt;
&lt;p&gt;Docker networking differs from virtual machine (VM) or physical machine networking in a few ways:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Virtual machines are more flexible in some ways as they can support configurations like &lt;a href=&quot;https://superuser.com/questions/227505/what-is-the-difference-between-nat-bridged-host-only-networking&quot;&gt;NAT and host networking&lt;/a&gt;. Docker typically uses a bridge network, and while it can support host networking, that option is &lt;a href=&quot;https://docs.docker.com/network/host/&quot;&gt;only available on Linux&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;When using Docker containers, network isolation is achieved using a network namespace, not an entirely separate networking stack.&lt;/li&gt;
&lt;li&gt;You can run hundreds of containers on a single-node Docker host, so it’s required that the host can support networking at this scale. VMs usually don’t run into these network limits as they typically run fewer processes per VM.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;what-are-docker-network-drivers&quot;&gt;What Are Docker Network Drivers?&lt;/h2&gt;
&lt;p&gt;Docker handles communication between containers by creating a default bridge network, so you often don’t have to deal with networking and can instead focus on creating and running containers. This default bridge network works in most cases, but it’s not the only option you have.&lt;/p&gt;
&lt;p&gt;Docker allows you to create three different types of network drivers out-of-the-box: bridge, host, and none. However, they may not fit every use case, so we’ll also explore user-defined networks such as overlay and macvlan. Let’s take a closer look at each one.&lt;/p&gt;
&lt;h3 id=&quot;the-bridge-driver&quot;&gt;The Bridge Driver&lt;/h3&gt;
&lt;p&gt;This is the default. Whenever you start Docker, a bridge network gets created and all newly started containers will connect automatically to the default bridge network.&lt;/p&gt;
&lt;p&gt;You can use this whenever you want your containers running in isolation to connect and communicate with each other. Since containers run in isolation, the bridge network solves the port conflict problem. Containers running in the same bridge network can communicate with each other, and Docker &lt;a href=&quot;https://docs.docker.com/network/iptables/&quot;&gt;uses iptables&lt;/a&gt; on the host machine to prevent access outside of the bridge.&lt;/p&gt;
&lt;p&gt;Let’s look at some examples of how a bridge network driver works.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Check the available network by running the &lt;code&gt;docker network ls&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Start two &lt;a href=&quot;https://hub.docker.com/_/busybox&quot;&gt;busybox&lt;/a&gt; containers named &lt;code&gt;busybox1&lt;/code&gt; and &lt;code&gt;busybox2&lt;/code&gt; in detached mode by passing the &lt;code&gt;-dit&lt;/code&gt; flag.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker network ls           &lt;/span&gt;
&lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;NETWORK&lt;/span&gt; ID     NAME      DRIVER    SCOPE&lt;/span&gt;
&lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;5077a7b25ae6&lt;/span&gt;   bridge    bridge    local&lt;/span&gt;
&lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;7e25f334b07f&lt;/span&gt;   host      host      local&lt;/span&gt;
&lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;475e50be0fe0&lt;/span&gt;   none      null      local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker run -dit --name busybox1 busybox /bin/sh
$ docker run -dit --name busybox2 busybox /bin/sh&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Run the &lt;code&gt;docker ps&lt;/code&gt; command to verify that containers are up and running.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker ps
CONTAINER ID   IMAGE     COMMAND     CREATED          STATUS          PORTS     NAMES
9e6464e82c4c   busybox   &amp;quot;/bin/sh&amp;quot;   5 seconds ago    Up 5 seconds              busybox2
7fea14032748   busybox   &amp;quot;/bin/sh&amp;quot;   26 seconds ago   Up 26 seconds             busybox1&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Verify that the containers are attached to the bridge network.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network inspect bridge                                                       
[
    {
        &amp;quot;Name&amp;quot;: &amp;quot;bridge&amp;quot;,
        &amp;quot;Id&amp;quot;: &amp;quot;5077a7b25ae67abd46cff0fde160303476c8a9e2e1d52ad01ba2b4bf04acc0e0&amp;quot;,
        &amp;quot;Created&amp;quot;: &amp;quot;2021-03-05T03:25:58.232446444Z&amp;quot;,
        &amp;quot;Scope&amp;quot;: &amp;quot;local&amp;quot;,
        &amp;quot;Driver&amp;quot;: &amp;quot;bridge&amp;quot;,
        &amp;quot;EnableIPv6&amp;quot;: false,
        &amp;quot;IPAM&amp;quot;: {
            &amp;quot;Driver&amp;quot;: &amp;quot;default&amp;quot;,
            &amp;quot;Options&amp;quot;: null,
            &amp;quot;Config&amp;quot;: [
                {
                    &amp;quot;Subnet&amp;quot;: &amp;quot;172.17.0.0/16&amp;quot;,
                    &amp;quot;Gateway&amp;quot;: &amp;quot;172.17.0.1&amp;quot;
                }
            ]
        },
        &amp;quot;Internal&amp;quot;: false,
        &amp;quot;Attachable&amp;quot;: false,
        &amp;quot;Ingress&amp;quot;: false,
        &amp;quot;ConfigFrom&amp;quot;: {
            &amp;quot;Network&amp;quot;: &amp;quot;&amp;quot;
        },
        &amp;quot;ConfigOnly&amp;quot;: false,
        &amp;quot;Containers&amp;quot;: {
            &amp;quot;7fea140327487b57c3cf31d7502cfaf701e4ea4314621f0c726309e396105885&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;busybox1&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;05f216032784786c3315e30b3d54d50a25c1efc7d2030dc664716dda38056326&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:11:00:02&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.17.0.2/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            },
            &amp;quot;9e6464e82c4ca647b9fb60a85ca25e71370330982ea497d51c1238d073148f63&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;busybox2&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;3dcc24e927246c44a2063b5be30b5f5e1787dcd4d53864c6ff2bb3c561519115&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:11:00:03&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.17.0.3/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            }
        },
        &amp;quot;Options&amp;quot;: {
            &amp;quot;com.docker.network.bridge.default_bridge&amp;quot;: &amp;quot;true&amp;quot;,
            &amp;quot;com.docker.network.bridge.enable_icc&amp;quot;: &amp;quot;true&amp;quot;,
            &amp;quot;com.docker.network.bridge.enable_ip_masquerade&amp;quot;: &amp;quot;true&amp;quot;,
            &amp;quot;com.docker.network.bridge.host_binding_ipv4&amp;quot;: &amp;quot;0.0.0.0&amp;quot;,
            &amp;quot;com.docker.network.bridge.name&amp;quot;: &amp;quot;docker0&amp;quot;,
            &amp;quot;com.docker.network.driver.mtu&amp;quot;: &amp;quot;1500&amp;quot;
        },
        &amp;quot;Labels&amp;quot;: {}
    }
]
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Under the container’s key, you can observe that two containers (&lt;code&gt;busybox1&lt;/code&gt; and &lt;code&gt;busybox2&lt;/code&gt;) are listed with information about IP addresses. Since containers are running in the background, attach to the &lt;code&gt;busybox1&lt;/code&gt; container and try to ping to &lt;code&gt;busybox2&lt;/code&gt; with its IP address.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker attach busybox1
/ # whoami
root
/ # hostname -i
172.17.0.2
/ # ping 172.17.0.3
PING 172.17.0.3 (172.17.0.3): 56 data bytes
64 bytes from 172.17.0.3: seq=0 ttl=64 time=2.083 ms
64 bytes from 172.17.0.3: seq=1 ttl=64 time=0.144 ms
/ # ping busybox2
ping: bad address &amp;#39;busybox2&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Observe that the ping works by passing the IP address of &lt;code&gt;busybox2&lt;/code&gt; but fails when the container name is passed instead.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The downside with the bridge driver is that it’s not recommended for production; the containers communicate via IP address instead of automatic service discovery to resolve an IP address to the container name. Every time you run a container, a different IP address gets assigned to it. It may work well for local development or CI/CD, but it’s definitely not a sustainable approach for applications running in production.&lt;/p&gt;
&lt;p&gt;Another reason not to use it in production is that it will allow unrelated containers to communicate with each other, which could be a security risk. I’ll cover how you can create custom bridge networks later.&lt;/p&gt;
&lt;h3 id=&quot;the-host-driver&quot;&gt;The Host Driver&lt;/h3&gt;
&lt;p&gt;As the name suggests, host drivers use the networking provided by the host machine. And it removes network isolation between the container and the host machine where Docker is running. For example, If you run a container that binds to port 80 and uses host networking, the container’s application is available on port 80 on the host’s IP address. You can use the host network if you don’t want to rely on Docker’s networking but instead rely on the host machine networking.&lt;/p&gt;
&lt;p&gt;One limitation with the host driver is that it doesn’t work on Docker desktop: you need a Linux host to use it. This article focuses on Docker desktop, but I’ll show you the commands required to work with the Linux host.&lt;/p&gt;
&lt;p&gt;The following command will start an NGINX image and listen to port 80 on the host machine:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker run --rm -d --network host --name my_nginx nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can access NGINX by hitting the &lt;code&gt;http://localhost:80/ url&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The downside with the host network is that you can’t run multiple containers on the same host having the same port. Ports are shared by all containers on the host machine network.&lt;/p&gt;
&lt;h3 id=&quot;the-none-driver&quot;&gt;The None Driver&lt;/h3&gt;
&lt;p&gt;The none network driver does not attach containers to any network. Containers do not access the external network or communicate with other containers. You can use it when you want to disable the networking on a container.&lt;/p&gt;
&lt;h3 id=&quot;the-overlay-driver&quot;&gt;The Overlay Driver&lt;/h3&gt;
&lt;p&gt;The Overlay driver is for multi-host network communication, as with &lt;a href=&quot;https://docs.docker.com/engine/swarm/&quot;&gt;Docker Swarm&lt;/a&gt; or &lt;a href=&quot;https://kubernetes.io/&quot;&gt;Kubernetes&lt;/a&gt;. It allows containers across the host to communicate with each other without worrying about the setup. Think of an overlay network as a distributed virtualized network that’s built on top of an existing computer network.&lt;/p&gt;
&lt;p&gt;To create an overlay network for Docker Swarm services, use the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker network create -d overlay my-overlay-network&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To create an overlay network so that standalone containers can communicate with each other, use this command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker network create -d overlay --attachable my-attachable-overlay&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;the-macvlan-driver&quot;&gt;The Macvlan Driver&lt;/h3&gt;
&lt;p&gt;This driver connects Docker containers directly to the physical host network. As per &lt;a href=&quot;https://docs.docker.com/network/#network-drivers&quot;&gt;the Docker documentation&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Macvlan networks allow you to assign a MAC address to a container, making it appear as a physical device on your network. The Docker daemon routes traffic to containers by their MAC addresses. Using the &lt;code&gt;macvlan&lt;/code&gt; driver is sometimes the best choice when dealing with legacy applications that expect to be directly connected to the physical network, rather than routed through the Docker host’s network stack.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Macvlan networks are best for legacy applications that need to be modernized by containerizing them and running them on the cloud because they need to be attached to a physical network for performance reasons. &lt;a href=&quot;https://github.com/docker/for-mac/issues/3926&quot;&gt;A macvlan network is also not supported on Docker desktop for macOS&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;basic-docker-networking-commands&quot;&gt;Basic Docker Networking Commands&lt;/h2&gt;
&lt;p&gt;To see which commands list, create, connect, disconnect, inspect, or remove a Docker network, use the &lt;code&gt;docker network help&lt;/code&gt; command.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network help

Usage:  docker network COMMAND

Manage networks

Commands:
  connect     Connect a container to a network
  create      Create a network
  disconnect  Disconnect a container from a network
  inspect     Display detailed information on one or more networks
  ls          List networks
  prune       Remove all unused networks
  rm          Remove one or more networks&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s run through some examples of each command, starting with &lt;code&gt;docker network connect&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;connecting-a-container-to-a-network&quot;&gt;Connecting a Container to a Network&lt;/h3&gt;
&lt;p&gt;Let’s try to connect a container to the &lt;code&gt;mynetwork&lt;/code&gt; we have created. First, we would need a running container that can connect to &lt;code&gt;mynetwork&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker run -it ubuntu bash   
root@0f8d7a833f42:/# &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we have an Ubuntu Linux image and started a login shell as root inside it. We have the container running in interactive mode with the help of the &lt;code&gt;-it&lt;/code&gt; flags.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker ps     
CONTAINER ID   IMAGE     COMMAND   CREATED         STATUS         PORTS     NAMES
0f8d7a833f42   ubuntu    &amp;quot;bash&amp;quot;    9 seconds ago   Up 7 seconds             wizardly_greider&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Run the &lt;code&gt;docker network connect 0f8d7a833f42&lt;/code&gt; command to connect the container named &lt;code&gt;wizardly_greider&lt;/code&gt; with &lt;code&gt;mynetwork&lt;/code&gt;. To verify that this container is connected to &lt;code&gt;mynetwork&lt;/code&gt;, use the &lt;code&gt;docker inspect&lt;/code&gt; command.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb12&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb12-1&quot;&gt;&lt;a href=&quot;#cb12-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;&amp;quot;mynetwork&amp;quot;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-2&quot;&gt;&lt;a href=&quot;#cb12-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;IPAMConfig&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{},&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-3&quot;&gt;&lt;a href=&quot;#cb12-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;Links&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-4&quot;&gt;&lt;a href=&quot;#cb12-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;Aliases&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;[&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-5&quot;&gt;&lt;a href=&quot;#cb12-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                        &lt;span class=&quot;st&quot;&gt;&amp;quot;0f8d7a833f42&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-6&quot;&gt;&lt;a href=&quot;#cb12-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;ot&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-7&quot;&gt;&lt;a href=&quot;#cb12-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;NetworkID&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;97a158252c995d3632560852c62bd140984769c8714b1f990c8133a5c8ae65d3&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-8&quot;&gt;&lt;a href=&quot;#cb12-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;EndpointID&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;db21f395ca781523c115706b11063ebe879cf5ef246c24fd128fe621a582cade&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-9&quot;&gt;&lt;a href=&quot;#cb12-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;Gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;172.20.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-10&quot;&gt;&lt;a href=&quot;#cb12-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;IPAddress&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;172.20.0.2&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-11&quot;&gt;&lt;a href=&quot;#cb12-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;IPPrefixLen&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-12&quot;&gt;&lt;a href=&quot;#cb12-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;IPv6Gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-13&quot;&gt;&lt;a href=&quot;#cb12-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;GlobalIPv6Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-14&quot;&gt;&lt;a href=&quot;#cb12-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;GlobalIPv6PrefixLen&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-15&quot;&gt;&lt;a href=&quot;#cb12-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;MacAddress&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;02:42:ac:14:00:02&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-16&quot;&gt;&lt;a href=&quot;#cb12-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                    &lt;span class=&quot;dt&quot;&gt;&amp;quot;DriverOpts&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb12-17&quot;&gt;&lt;a href=&quot;#cb12-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;creating-a-network&quot;&gt;Creating a Network&lt;/h3&gt;
&lt;p&gt;You can use &lt;code&gt;docker network create mynetwork&lt;/code&gt; to create a Docker network. Here, we’ve created a network named &lt;code&gt;mynetwork&lt;/code&gt;. Let’s run &lt;code&gt;docker network ls&lt;/code&gt; to verify that the network is created successfully.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network ls
NETWORK ID     NAME        DRIVER    SCOPE
b995772ac197   bridge      bridge    local
7e25f334b07f   host        host      local
97a158252c99   mynetwork   bridge    local
475e50be0fe0   none        null      local&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we have a new custom network named &lt;code&gt;mynetwork&lt;/code&gt;, and its type is bridge.&lt;/p&gt;
&lt;h3 id=&quot;disconnecting-a-container-from-the-network&quot;&gt;Disconnecting a Container from the Network&lt;/h3&gt;
&lt;p&gt;This command disconnects a Docker container from the custom &lt;code&gt;mynetwork&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network disconnect mynetwork 0f8d7a833f42&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;inspecting-the-network&quot;&gt;Inspecting the Network&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;docker network inspect&lt;/code&gt; command displays detailed information on one or more networks.&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network inspect mynetwork
[
    {
        &amp;quot;Name&amp;quot;: &amp;quot;mynetwork&amp;quot;,
        &amp;quot;Id&amp;quot;: &amp;quot;97a158252c995d3632560852c62bd140984769c8714b1f990c8133a5c8ae65d3&amp;quot;,
        &amp;quot;Created&amp;quot;: &amp;quot;2021-03-02T17:36:30.090173896Z&amp;quot;,
        &amp;quot;Scope&amp;quot;: &amp;quot;local&amp;quot;,
        &amp;quot;Driver&amp;quot;: &amp;quot;bridge&amp;quot;,
        &amp;quot;EnableIPv6&amp;quot;: false,
        &amp;quot;IPAM&amp;quot;: {
            &amp;quot;Driver&amp;quot;: &amp;quot;default&amp;quot;,
            &amp;quot;Options&amp;quot;: {},
            &amp;quot;Config&amp;quot;: [
                {
                    &amp;quot;Subnet&amp;quot;: &amp;quot;172.20.0.0/16&amp;quot;,
                    &amp;quot;Gateway&amp;quot;: &amp;quot;172.20.0.1&amp;quot;
                }
            ]
        },
        &amp;quot;Internal&amp;quot;: false,
        &amp;quot;Attachable&amp;quot;: false,
        &amp;quot;Ingress&amp;quot;: false,
        &amp;quot;ConfigFrom&amp;quot;: {
            &amp;quot;Network&amp;quot;: &amp;quot;&amp;quot;
        },
        &amp;quot;ConfigOnly&amp;quot;: false,
        &amp;quot;Containers&amp;quot;: {
            &amp;quot;0f8d7a833f4283202e905e621e6fd5b29a8e3d4eccc6be6ea0f209f5cb3ca81c&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;wizardly_greider&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;db21f395ca781523c115706b11063ebe879cf5ef246c24fd128fe621a582cade&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:14:00:02&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.20.0.2/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            }
        },
        &amp;quot;Options&amp;quot;: {},
        &amp;quot;Labels&amp;quot;: {}
    }
]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;list-available-networks&quot;&gt;List Available Networks&lt;/h3&gt;
&lt;p&gt;Docker installation comes with three networks: none, bridge, and host. You can verify this by running the command &lt;code&gt;docker network ls&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;docker network ls
NETWORK ID     NAME      DRIVER    SCOPE
b995772ac197   bridge    bridge    local
7e25f334b07f   host      host      local
475e50be0fe0   none      null      local&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;removing-a-network&quot;&gt;Removing a Network&lt;/h3&gt;
&lt;p&gt;The following are the Docker commands to remove a specific or all available networks:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network rm mynetwork
mynetwork
$ docker network ls
NETWORK ID     NAME      DRIVER    SCOPE
b995772ac197   bridge    bridge    local
7e25f334b07f   host      host      local
475e50be0fe0   none      null      local&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network prune                            
WARNING! This will remove all custom networks not used by at least one container.
Are you sure you want to continue? [y/N] &lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;public-networking&quot;&gt;Public Networking&lt;/h2&gt;
&lt;p&gt;Let’s talk about how to publish a container port and IP addresses to the outside world. When you start a container using the &lt;code&gt;docker run&lt;/code&gt; command, none of its ports are exposed. Your Docker container can connect to the outside world, but the outside world cannot connect to the container. To make the ports accessible for external use or with other containers not on the same network, you will have to use the &lt;code&gt;-P&lt;/code&gt; (publish all available ports) or &lt;code&gt;-p&lt;/code&gt; (publish specific ports) flag.&lt;/p&gt;
&lt;p&gt;For example, here we’ve mapped the TCP port 80 of the container to port 8080 on the Docker host:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -it --rm nginx -p 8080:80&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here, we’ve mapped container TCP port 80 to port 8080 on the Docker host for connections to host IP 192.168.1.100:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -p 192.168.1.100:8085:80 nginx&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can verify this by running the following curl command:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ curl 192.168.1.100:8085
&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;title&amp;gt;Welcome to nginx!&amp;lt;/title&amp;gt;
&amp;lt;style&amp;gt;
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
&amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;h1&amp;gt;Welcome to nginx!&amp;lt;/h1&amp;gt;
&amp;lt;p&amp;gt;If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;For online documentation and support please refer to
&amp;lt;a href=&amp;quot;http://nginx.org/&amp;quot;&amp;gt;nginx.org&amp;lt;/a&amp;gt;.&amp;lt;br/&amp;gt;
Commercial support is available at
&amp;lt;a href=&amp;quot;http://nginx.com/&amp;quot;&amp;gt;nginx.com&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;&amp;lt;em&amp;gt;Thank you for using nginx.&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let me briefly mention DNS configuration for containers. Docker provides your containers with the ability to make basic name resolutions:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker exec busybox2 ping www.google.com
PING www.google.com (216.58.216.196): 56 data bytes
64 bytes from 216.58.216.196: seq=0 ttl=37 time=9.672 ms
64 bytes from 216.58.216.196: seq=1 ttl=37 time=6.110 ms
$ ping www.google.com
PING www.google.com (216.58.216.196): 56 data bytes
64 bytes from 216.58.216.196: icmp_seq=0 ttl=118 time=4.722 ms&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Docker containers inherit DNS settings from the host when using a bridge network, so the container will resolve DNS names just like the host by default. To add custom host records to your container, you’ll need to use the &lt;a href=&quot;https://docs.docker.com/config/containers/container-networking/#dns-services&quot;&gt;relevant &lt;code&gt;--dns*&lt;/code&gt; flags outlined here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;docker-compose-networking&quot;&gt;Docker Compose Networking&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;Docker Compose&lt;/a&gt; is a tool for running multi-container applications on Docker, which are defined using the compose YAML file. You can start your applications with a single command: &lt;code&gt;docker-compose up&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;By default, Docker Compose creates a single network for each container defined in the compose file. All the containers defined in the compose file connect and communicate through the default network.&lt;/p&gt;
&lt;p&gt;If you’re not sure about the commands supported with Docker Compose, you can run the following:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker compose help
Docker Compose

Usage:
  docker compose [command]

Available Commands:
  build       Build or rebuild services
  convert     Converts the compose file to a cloud format (default: cloudformation)
  down        Stop and remove containers, networks
  logs        View output from containers
  ls          List running compose projects
  ps          List containers
  pull        Pull service images
  push        Push service images
  run         Run a one-off command on a service.
  up          Create and start containers

Flags:
  -h, --help   help for compose

Global Flags:
      --config DIRECTORY   Location of the client config files DIRECTORY (default &amp;quot;/Users/ashish/.docker&amp;quot;)
  -c, --context string     context
  -D, --debug              Enable debug output in the logs
  -H, --host string        Daemon socket(s) to connect to

Use &amp;quot;docker compose [command] --help&amp;quot; for more information about a command.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s understand this with an example. In the following &lt;code&gt;docker-compose.yaml&lt;/code&gt; file, we have a WordPress and a MySQL image.&lt;/p&gt;
&lt;p&gt;When deploying this setup, &lt;code&gt;docker-compose&lt;/code&gt; maps the WordPress container port 80 to port 80 of the host as specified in the compose file. We haven’t defined any custom network, so it should create one for you. Run &lt;code&gt;docker-compose up -d&lt;/code&gt; to bring up the services defined in the YAML file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;version: &amp;#39;3.7&amp;#39;
services:
  db:
    image: mysql:8.0.19
    command: &amp;#39;--default-authentication-plugin=mysql_native_password&amp;#39;
    restart: always
    volumes:
      - db_data:/var/lib/mysql
    restart: always
    environment:
      - MYSQL_ROOT_PASSWORD=somewordpress
      - MYSQL_DATABASE=wordpress
      - MYSQL_USER=wordpress
      - MYSQL_PASSWORD=wordpress
  wordpress:
    image: wordpress:latest
    ports:
      - 80:80
    restart: always
    environment:
      - WORDPRESS_DB_HOST=db
      - WORDPRESS_DB_USER=wordpress
      - WORDPRESS_DB_PASSWORD=wordpress
      - WORDPRESS_DB_NAME=wordpress
volumes:
  db_data:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see in the following output, a network named &lt;code&gt;downloads_default&lt;/code&gt; is created for you:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker-compose up -d
Creating network &amp;quot;downloads_default&amp;quot; with the default driver
Creating volume &amp;quot;downloads_db_data&amp;quot; with default driver
Pulling db (mysql:8.0.19)...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Verify that we have two containers up and running with the &lt;code&gt;docker ps&lt;/code&gt; command:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker ps
CONTAINER ID   IMAGE              COMMAND                  CREATED         STATUS         PORTS                 NAMES
f68265cd6219   wordpress:latest   &amp;quot;docker-entrypoint.s…&amp;quot;   6 minutes ago   Up 6 minutes   0.0.0.0:80-&amp;gt;80/tcp    downloads_wordpress_1
2838f5586c73   mysql:8.0.19       &amp;quot;docker-entrypoint.s…&amp;quot;   6 minutes ago   Up 6 minutes   3306/tcp, 33060/tcp   downloads_db_1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Navigate to &lt;code&gt;http://localhost:80&lt;/code&gt; in your web browser to access WordPress.&lt;/p&gt;
&lt;p&gt;Now let’s inspect this network with the &lt;code&gt;docker network inspect&lt;/code&gt; command. The following is the output:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network inspect downloads_default
[
    {
        &amp;quot;Name&amp;quot;: &amp;quot;downloads_default&amp;quot;,
        &amp;quot;Id&amp;quot;: &amp;quot;717ea814aae357ceca3972342a64335a0c910455abf160ed820018b8d6690383&amp;quot;,
        &amp;quot;Created&amp;quot;: &amp;quot;2021-03-05T03:43:42.541707419Z&amp;quot;,
        &amp;quot;Scope&amp;quot;: &amp;quot;local&amp;quot;,
        &amp;quot;Driver&amp;quot;: &amp;quot;bridge&amp;quot;,
        &amp;quot;EnableIPv6&amp;quot;: false,
        &amp;quot;IPAM&amp;quot;: {
            &amp;quot;Driver&amp;quot;: &amp;quot;default&amp;quot;,
            &amp;quot;Options&amp;quot;: null,
            &amp;quot;Config&amp;quot;: [
                {
                    &amp;quot;Subnet&amp;quot;: &amp;quot;172.18.0.0/16&amp;quot;,
                    &amp;quot;Gateway&amp;quot;: &amp;quot;172.18.0.1&amp;quot;
                }
            ]
        },
        &amp;quot;Internal&amp;quot;: false,
        &amp;quot;Attachable&amp;quot;: true,
        &amp;quot;Ingress&amp;quot;: false,
        &amp;quot;ConfigFrom&amp;quot;: {
            &amp;quot;Network&amp;quot;: &amp;quot;&amp;quot;
        },
        &amp;quot;ConfigOnly&amp;quot;: false,
        &amp;quot;Containers&amp;quot;: {
            &amp;quot;2838f5586c735894051498c8ed0e5e103209cd22ee5718cbb29e8c6d169c9bf8&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;downloads_db_1&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;10033e064387892253d69ac5813be6bc820a95df1a3e19f84eff99a8d55af1bd&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:12:00:02&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.18.0.2/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            },
            &amp;quot;f68265cd6219fb60491c7ebbdae2d7f4c5ea4a74aec9987f5a5082c13b1ec025&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;downloads_wordpress_1&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;a4a673479ab3d812713955d461cc4d7032aba3806b49f50dd783a8083588aec5&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:12:00:03&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.18.0.3/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            }
        },
        &amp;quot;Options&amp;quot;: {},
        &amp;quot;Labels&amp;quot;: {
            &amp;quot;com.docker.compose.network&amp;quot;: &amp;quot;default&amp;quot;,
            &amp;quot;com.docker.compose.project&amp;quot;: &amp;quot;downloads&amp;quot;,
            &amp;quot;com.docker.compose.version&amp;quot;: &amp;quot;1.27.4&amp;quot;
        }
    }
]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the container sections, you can see that two containers (&lt;code&gt;downloads_db_1&lt;/code&gt; and &lt;code&gt;downloads_wordpress_1&lt;/code&gt;) are attached to the default &lt;code&gt;downloads_default&lt;/code&gt; network driver, which is the bridge type. Run the following commands to clean up everything:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker-compose down
Stopping downloads_wordpress_1 ... done
Stopping downloads_db_1        ... done
Removing downloads_wordpress_1 ... done
Removing downloads_db_1        ... done
Removing network downloads_default&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can observe that the network created by Compose is deleted, too:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker-compose down -v
Removing network downloads_default
WARNING: Network downloads_default not found.
Removing volume downloads_db_data&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The volume created earlier is deleted, and since the network is already deleted after running the previous command, it shows a warning that the default network is not found. That’s fine.&lt;/p&gt;
&lt;p&gt;The example we’ve looked at so far covers the default network created by Compose, but what if we want to create our custom network and connect services to it? You will define the user-defined networks using the Compose file. The following is the &lt;code&gt;docker-compose&lt;/code&gt; YAML file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;version: &amp;#39;3.7&amp;#39;
services:
  db:
    image: mysql:8.0.19
    command: &amp;#39;--default-authentication-plugin=mysql_native_password&amp;#39;
    restart: always
    volumes:
      - db_data:/var/lib/mysql
    restart: always
    networks:
      - mynetwork
    environment:
      - MYSQL_ROOT_PASSWORD=somewordpress
      - MYSQL_DATABASE=wordpress
      - MYSQL_USER=wordpress
      - MYSQL_PASSWORD=wordpress
  wordpress:
    image: wordpress:latest
    ports:
      - 80:80
    networks:
      - mynetwork
    restart: always
    environment:
      - WORDPRESS_DB_HOST=db
      - WORDPRESS_DB_USER=wordpress
      - WORDPRESS_DB_PASSWORD=wordpress
      - WORDPRESS_DB_NAME=wordpress
volumes:
  db_data:
networks:
  mynetwork:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I’ve defined a user-defined network under the top-level networks section at the end of the file and called the network &lt;code&gt;mynetwork&lt;/code&gt;. It’s a bridge type, meaning it’s a network on the host machine separated from the rest of the host network stack. Following each service, I added the network key to specify that these services should connect to &lt;code&gt;mynetwork&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s bring up the services again after the changing the Docker Compose YAML file:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker-compose up -d                    
Creating network &amp;quot;downloads_mynetwork&amp;quot; with the default driver
Creating volume &amp;quot;downloads_db_data&amp;quot; with default driver
Creating downloads_wordpress_1 ... done
Creating downloads_db_1        ... done&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, Docker Compose has created the new custom &lt;code&gt;mynetwork&lt;/code&gt;, started the containers, and connected them to the custom network. You can inspect it by using the Docker inspect command:&lt;/p&gt;
&lt;pre class=&quot;shell&quot;&gt;&lt;code&gt;$ docker network inspect downloads_mynetwork
[
    {
        &amp;quot;Name&amp;quot;: &amp;quot;downloads_mynetwork&amp;quot;,
        &amp;quot;Id&amp;quot;: &amp;quot;cb24ed3832dfdd34ca6fdcfcf0065c8e0df6b9b72f7b29a2aaada74970835dd1&amp;quot;,
        &amp;quot;Created&amp;quot;: &amp;quot;2021-03-05T04:23:14.354570267Z&amp;quot;,
        &amp;quot;Scope&amp;quot;: &amp;quot;local&amp;quot;,
        &amp;quot;Driver&amp;quot;: &amp;quot;bridge&amp;quot;,
        &amp;quot;EnableIPv6&amp;quot;: false,
        &amp;quot;IPAM&amp;quot;: {
            &amp;quot;Driver&amp;quot;: &amp;quot;default&amp;quot;,
            &amp;quot;Options&amp;quot;: null,
            &amp;quot;Config&amp;quot;: [
                {
                    &amp;quot;Subnet&amp;quot;: &amp;quot;172.19.0.0/16&amp;quot;,
                    &amp;quot;Gateway&amp;quot;: &amp;quot;172.19.0.1&amp;quot;
                }
            ]
        },
        &amp;quot;Internal&amp;quot;: false,
        &amp;quot;Attachable&amp;quot;: true,
        &amp;quot;Ingress&amp;quot;: false,
        &amp;quot;ConfigFrom&amp;quot;: {
            &amp;quot;Network&amp;quot;: &amp;quot;&amp;quot;
        },
        &amp;quot;ConfigOnly&amp;quot;: false,
        &amp;quot;Containers&amp;quot;: {
            &amp;quot;334bd5bf1689b067fa24705af0b6ab444976b288d25846349ce5b8f6914d8c19&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;downloads_wordpress_1&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;10674d2ddd9feb67c98e3c08fcf451f32bda58e96c9c256aee70a0487f6a4496&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:13:00:03&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.19.0.3/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            },
            &amp;quot;9ffc94adab6896620648a1d08d215ba3d9423fee934b905b7bc2a44dd30bd74c&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;downloads_db_1&amp;quot;,
                &amp;quot;EndpointID&amp;quot;: &amp;quot;927943a0202bfb69692bc172a5c26e05676df6961236596eba3c3464cacbd1ab&amp;quot;,
                &amp;quot;MacAddress&amp;quot;: &amp;quot;02:42:ac:13:00:02&amp;quot;,
                &amp;quot;IPv4Address&amp;quot;: &amp;quot;172.19.0.2/16&amp;quot;,
                &amp;quot;IPv6Address&amp;quot;: &amp;quot;&amp;quot;
            }
        },
        &amp;quot;Options&amp;quot;: {},
        &amp;quot;Labels&amp;quot;: {
            &amp;quot;com.docker.compose.network&amp;quot;: &amp;quot;mynetwork&amp;quot;,
            &amp;quot;com.docker.compose.project&amp;quot;: &amp;quot;downloads&amp;quot;,
            &amp;quot;com.docker.compose.version&amp;quot;: &amp;quot;1.27.4&amp;quot;
        }
    }
]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Inspecting the network, you can see there are now two containers connected to the custom network.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;In this article, we’ve covered the what and how of Docker networking in detail, starting with Docker’s network drivers available out-of-the-box and then some advanced concepts such as overlay and macvlan. We ran through some examples of the most common Docker network commands, and then discussed some common use cases and general pitfalls of the available network drivers. We also covered port publishing, which allows the outside world to connect with containers, and how Docker resolves DNS names. Finally, we explored Docker Compose networking with some examples.&lt;/p&gt;
&lt;p&gt;That should provide you with a decent overview of how Docker networking provides different modes of network drivers so that your containers can communicate on a single or multi-host setup. With this knowledge, you can pick and choose a network driver that fits your use case.&lt;/p&gt;</content><author><name>Ashish Choudhary</name></author><category term="Tutorials" /><summary type="html">Docker is the de facto model for building and running containers at scale in most enterprise organizations today. At a very high level, Docker is a combination of CLI and a daemon process that solves common software problems like installing, publishing, removing, and managing containers. It’s perfect for microservices, where you have many services handling a typical business functionality; Docker makes the packaging easier, enabling you to encapsulate those services in containers.</summary></entry><entry><title type="html">Green Vs. Brown Programming Languages</title><link href="https://earthly.dev/blog/brown-green-language/" rel="alternate" type="text/html" title="Green Vs. Brown Programming Languages" /><published>2021-04-22T00:00:00-04:00</published><updated>2021-04-22T00:00:00-04:00</updated><id>https://earthly.dev/blog/brown-green-language</id><content type="html" xml:base="https://earthly.dev/blog/brown-green-language/">&lt;h2 id=&quot;the-data&quot;&gt;The Data&lt;/h2&gt;
&lt;p&gt;The Stack Overflow Developer Survey&lt;a href=&quot;#fn1&quot; class=&quot;footnote-ref&quot; id=&quot;fnref1&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; results are a great source of information about how developers work. I was looking at the 2020 results for some ideas on what programming languages we should add to our &lt;a href=&quot;https://docs.earthly.dev/basics/part-1-a-simple-earthfile&quot;&gt;documentation&lt;/a&gt; on containerized builds, and I noticed something interesting about the types of programming languages people like. It’s something that doesn’t seem to come up in various discussions of programming language preferences.&lt;/p&gt;
&lt;p&gt;The survey results have rankings for &lt;strong&gt;The Most Dreaded Programming Languages&lt;/strong&gt; and &lt;strong&gt;The Most Loved Programming Langauge&lt;/strong&gt;. Both rankings come from this question:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Which programming, scripting, and markup languages have you done extensive development work in over the past year, and which do you want to work in over the next year? (If you both worked with the language and want to continue to do so, please check both boxes in that row.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A dreaded language is one you work with extensively in the current year but don’t want to continue to use. A loved language you use extensively and wish to continue using. The results are interesting because they reflect the opinions of people who are using the languages extensively. There should be no I-heard-X-is-cool effect, where people rank highly things they don’t use because they heard it is the new hotness. The inverse should also be true: People who put something on the &lt;strong&gt;Dreaded&lt;/strong&gt; list are using it. They are not dreading a language because they heard it was complex, but because they have to work it and feel real pain.&lt;/p&gt;
&lt;div class=&quot;notice--warning notice--big&quot;&gt;
&lt;p&gt;&lt;strong&gt;The TOP 15 Dreaded Programming Languages:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VBA, Objective-C, Perl, Assembly, C, PHP, Ruby, C++, Java, R, Haskell, Scala, HTML, Shell, and SQL.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--success notice--big&quot;&gt;
&lt;p&gt;&lt;strong&gt;The TOP 15 Loved Programming Languages:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Rust, TypeScript, Python, Kotlin, Go, Julia, Dart, C#, Swift, JavaScript, SQL, Shell, HTML, Scala, and Haskell.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;There is a pattern in this list. Can you see what it is?&lt;/p&gt;
&lt;h2 id=&quot;code-written-before-i-joined-is-the-worst&quot;&gt;Code Written Before I Joined Is the Worst&lt;/h2&gt;
&lt;p&gt;Old code is the worst. Find me a file in a codebase that has been under active development for more than three years, and it will be hard to follow. What starts as a straightforward file access layer develops special cases and performance optimizations and various branches controlled by configuration options. Real-world code evolves to fits its niche, and as it does so, it becomes more complex and harder to understand. The reason for this is simple, and I first heard about it from Joel Spolsky.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The reason that [ developers ] think the old code is a mess is because of a cardinal, fundamental law of programming: &lt;strong&gt;It’s harder to read code than to write it.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Joel Spolsky - &lt;a href=&quot;https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/&quot;&gt;Things you should never do&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s call this Joel’s Law. A lot of things follow from this premise. Why do most developers think the code they inherited is a mess and want to throw it out and start again? It’s because writing something new is cognitively less demanding than the hard work of understanding an existing codebase, at least initially. Why are many rewrites doomed to fail? Because much of what makes the code seem messy are vital little improvements that accreted over time. Without some plan for simplifying them, you will end up back where you started.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/brown-green-language/dt140812.gif&quot; alt=&quot;Scott Adams Understood&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Scott Adams Understood&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;It’s easy to understand code as you are writing it. You are executing it and refining it as you go. But it’s hard to understand code just by reading it after the fact. If you return to old code you wrote and find it hard to follow, it could be because you have grown as a developer and would write it better today. But its also possible that the code is inherently complex, and you are interpreting the pain of understanding that complexity as a code quality problem. Could this be why growing PR backlogs are a persistent problem? PR Reviews are a read-only activity, and they are hard to do well if you don’t already have a working model of the code in your head.&lt;/p&gt;
&lt;h2 id=&quot;this-is-why-you-dread-it&quot;&gt;This is Why You Dread It&lt;/h2&gt;
&lt;p&gt;If much real-world code is unfairly considered a mess, could programming languages also be unfairly judged? If you build new things in Go but have to maintain a sprawling 20-year-old C++ codebase, can you rank them fairly? I think this is actually what the survey question is measuring: dreaded languages are likely to be used in existing brown-field projects. Loved languages are more often used in new green-field projects. Let’s test this.&lt;a href=&quot;#fn2&quot; class=&quot;footnote-ref&quot; id=&quot;fnref2&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;measuring-brown-vs.-green-languages&quot;&gt;Measuring Brown vs. Green Languages&lt;/h2&gt;
&lt;p&gt;The TIOBE index claims to measure “the number of skilled engineers, courses and jobs worldwide” for programming languages. There are probably some problems with how they measure this, but it’s accurate enough for our purposes. We use the July 2016 TIOBE &lt;a href=&quot;https://web.archive.org/web/20160801213334/https://www.tiobe.com/tiobe-index/&quot;&gt;index&lt;/a&gt;, the oldest available in way back machine, as a proxy for a language having accumulated lots of code to maintain. If something was big in 2016, it’s more likely people are maintaining code written in it than if it wasn’t popular in 2016.&lt;/p&gt;
&lt;p&gt;The top 20 programming languages on their list as of July 2016 are Java, C, C++, Python, C#, PHP, JavaScript, VB.NET, Perl, Assembly, Ruby, Pascal, Swift, Objective-C, MATLAB, R, SQL, COBOL, and Groovy. We can use this as our list of languages more likely to be used in maintenance work. Let’s call them brown languages. Languages not in the top 20 in 2016 are more likely to be used in new projects. We will refer to these as green languages.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/brown-green-language/graph1.svg&quot; alt=&quot;Out of 22 Languages in the combined dreaded/loved list, 63% are Brown&quot; /&gt; &lt;!-- ```
import matplotlib.pyplot as plt

labels = 'Brown', 'Green'
dreaded_sizes = [10, 2]
overall_languages = [14, 8]
overall_total = 22
dreaded_total = 12
loved_sizes = [6, 7]
loved_total = 13
explode = (0.1, 0)
colors = [&quot;burlywood&quot;, &quot;green&quot;]

fig, ax1 = plt.subplots()
ax1.set_title('Green Vs Brown')
ax1.pie(overall_languages, explode=explode, labels=labels, 
        autopct=lambda p: '{:.0f}'.format(p * overall_total / 100),
        shadow=True, 
        startangle=90, 
        colors=colors)
ax1.axis('equal') 

``` --&gt;&lt;/p&gt;
&lt;figcaption&gt;
Out of 22 Languages in the combined dreaded/loved list, 63% are Brown
&lt;/figcaption&gt;
&lt;div class=&quot;notice--warning notice--big&quot;&gt;
&lt;p&gt;&lt;strong&gt;Brown Language:&lt;/strong&gt; A language that you are more likely to use in existing software maintenance (i.e. brown-field projects).&lt;/p&gt;
&lt;p&gt;Java, C, C++, C#, Python, PHP, JavaScript, Swift, Perl, Ruby, Assembly, R, Objective-C, SQL&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--success notice--big&quot;&gt;
&lt;p&gt;&lt;strong&gt;Green Language:&lt;/strong&gt; A language that you are more likely to use in a new project (i.e. a green-field project).&lt;/p&gt;
&lt;p&gt;Go, Rust, TypeScript, Kotlin, Julia, Dart, Scala, and Haskell&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;TIOBE and StackOverflow have different ideas of what a programming language is. To overcome this, we have to normalize the two lists by removing HTML/CSS, Shell Scripts, and VBA.&lt;a href=&quot;#fn3&quot; class=&quot;footnote-ref&quot; id=&quot;fnref3&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;notice--info&quot;&gt;
&lt;p&gt;&lt;strong&gt;Removed Language:&lt;/strong&gt; Not measured the same by TIOBE and StackOverflow&lt;/p&gt;
&lt;p&gt;VBA, Shell, HTML/CSS&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;There are many nuances that a simple green / brown split misses - I expect that more green-field projects start with Swift than with Objective-C, but it does seem sufficient to capture what we need. There are far more brown languages in this list than green, but that is what I would expect given that year-on-year turn-over in programming languages is relatively low.&lt;/p&gt;
&lt;p&gt;Now we can answer the question: Do people love and dread the languages they state or are they just dreading legacy code? Or to put it another way: If Java and Ruby appeared today, without piles of old rails apps and old enterprise Java applications to maintain, would they still be dreaded or would they be more likely to show up on the loved list?&lt;/p&gt;
&lt;h2 id=&quot;the-dreaded-brown-programming-languages&quot;&gt;The Dreaded Brown Programming Languages&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/brown-green-language/graph2.svg&quot; alt=&quot;Dreaded Languages: 83% Brown&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Dreaded Languages: 83% Brown&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;!-- ```
import matplotlib.pyplot as plt

labels = 'Brown', 'Green'
dreaded_sizes = [10, 2]
overall_languages = [14, 8]
overall_total = 22
dreaded_total = 12
loved_sizes = [6, 7]
loved_total = 13
explode = (0.1, 0)
colors = [&quot;burlywood&quot;, &quot;green&quot;]

# Graph one
fig, ax1 = plt.subplots()
ax1.set_title('Dreaded Languages')
ax1.pie(dreaded_sizes, explode=explode, labels=labels, 
        autopct=lambda p: '{:.0f}'.format(p * dreaded_total / 100),
        shadow=True, 
        startangle=90, 
        colors=colors)
ax1.axis('equal') 

```
&lt;figcaption&gt;
Dreaded Languages: 83% Brown
&lt;/figcaption&gt; --&gt;
&lt;p&gt;The Top Dreaded languages are almost all are brown languages. 68% of the languages in our complete list are brown, while 83% of the dreaded languages are brown, which is higher than we would expect by chance.&lt;/p&gt;
&lt;h2 id=&quot;the-loved-green-programming-languages&quot;&gt;The Loved Green Programming Languages&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/brown-green-language/graph3.svg&quot; alt=&quot;Loved Languages 54% Green&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Loved Languages 54% Green&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;!-- ```
import matplotlib.pyplot as plt

labels = 'Brown', 'Green'
dreaded_sizes = [10, 2]
loved_sizes = [5, 8]
explode = (0.1, 0)
colors = [&quot;burlywood&quot;, &quot;green&quot;]
total = 13


# Graph two
fig, ax2 = plt.subplots()
ax2.set_title('Loved Languages')
ax2.pie(loved_sizes, explode=explode, labels=labels, 
        autopct=lambda p: '{:.0f}'.format(p * total / 100),
        shadow=True, 
        startangle=90, 
        colors=colors)
ax2.axis('equal') 

```
&lt;figcaption&gt;
Loved Languages 54% Green
&lt;/figcaption&gt; --&gt;
&lt;p&gt;In the top loved languages, 54% are green. Only 36% of the languages in our list are green, and every single green language showed up somewhere in the loved list.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Another flaw in the human character is that everybody wants to build and nobody wants to do maintenance.&lt;/p&gt;
&lt;p&gt;― Kurt Vonnegut&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This probably isn’t quite enough evidence to say for sure that having to use a language in a maintenance project causes dread, but it certainly looks like it is a factor. Many of the languages people love are too new or too historically unpopular to have many big big-ball-of-mud projects to maintain.&lt;/p&gt;
&lt;p&gt;In other words, Rust, Kotlin, and the other green languages may still be in a honeymoon phase. People’s love for working with them may have as much to do with not working in 20-year-old codebases as it does with the particular languages.&lt;/p&gt;
&lt;h2 id=&quot;overcoming-bias&quot;&gt;Overcoming Bias&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/blog/generated/assets/images/brown-green-language/angel-devil-wide-600-402d4be31.png&quot; srcset=&quot;/blog/generated/assets/images/brown-green-language/angel-devil-wide-400-402d4be31.png 400w, /blog/generated/assets/images/brown-green-language/angel-devil-wide-600-402d4be31.png 600w&quot;&gt;&lt;/p&gt;
&lt;p&gt;Some newer or historically less popular programming languages might be better than older or more mainstream languages, but our ability to judge seems quite biased. In particular, developers are giving a halo to languages that are newer or were not used commonly in the past, and they are giving horns to languages that have been around longer. I think this is because nobody likes maintaining someone else’s code. And also, because of Joel’s Law: reading real-world is code hard. Building something new is fun, and new languages are used for that more often.&lt;/p&gt;
&lt;h2 id=&quot;the-lifecycle-of-programming-language-hype&quot;&gt;The Lifecycle of Programming Language Hype&lt;/h2&gt;
&lt;p&gt;I originally started digging into these numbers to establish a ranking for what languages were most used and loved by software developers. I was going to use this to guide adding more examples to our &lt;a href=&quot;https://docs.earthly.dev/&quot;&gt;docs&lt;/a&gt; and our &lt;a href=&quot;https://github.com/earthly/earthly/tree/main/examples&quot;&gt;build examples&lt;/a&gt;. What I came away with instead was the idea of a programming language life cycle: loved programming languages get used a lot, which leads to code maintenance, which causes people to dislike them, which leads to people looking for greener pastures and trying out a newer language. Popular frameworks probably follow this lifecycle as well.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;p&gt;&lt;img src=&quot;/blog/generated/assets/images/brown-green-language/hype-wide-800-83ae14a13.png&quot; alt=&quot;A graph showing hype decreasing overtime for a langauge&quot; srcset=&quot;/blog/generated/assets/images/brown-green-language/hype-wide-400-83ae14a13.png 400w, /blog/generated/assets/images/brown-green-language/hype-wide-600-83ae14a13.png 600w, /blog/generated/assets/images/brown-green-language/hype-wide-800-83ae14a13.png 800w, /blog/generated/assets/images/brown-green-language/hype-wide-900-83ae14a13.png 900w&quot;&gt;&lt;/p&gt;
&lt;figcaption&gt;
The lifecycle of programming language hype
&lt;/figcaption&gt;
&lt;/div&gt;
&lt;p&gt;I don’t have data for this, but I distinctly remember Ruby being the hottest language back in 2007, and although it does have more competition today, Ruby is a better language now than it was then. Yet now it is dreaded. Part of the difference, it seems to me, is that now people have 14 years’ worth of rails apps to maintain. That makes Ruby is a lot less fun than when it was all new projects. So watch out Rust and Kotlin and Julia and Go: you too will eventually lose your halo.&lt;a href=&quot;#fn4&quot; class=&quot;footnote-ref&quot; id=&quot;fnref4&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;2020 &lt;a href=&quot;https://insights.stackoverflow.com/survey/2020&quot;&gt;Graphical&lt;/a&gt; and &lt;a href=&quot;https://drive.google.com/file/d/1dfGerWeWkcyQ9GX9x20rdSGj7WtEpzBB/view&quot;&gt;Raw&lt;/a&gt; results.&lt;a href=&quot;#fnref1&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn2&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;I came up with the criteria first. I didn’t hunt for data to back up my original idea.&lt;/p&gt;
&lt;p&gt;I did consider using language creation date to determine green vs. brown status, but some languages have been around for some time but only found usage relatively recently.&lt;/p&gt;
&lt;p&gt;TIOBE is measured like &lt;a href=&quot;https://www.tiobe.com/tiobe-index/programming-languages-definition/&quot;&gt;this&lt;/a&gt; and their historical data is only available if you pay, so I am using the Wayback Machine.&lt;a href=&quot;#fnref2&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn3&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;TIOBE doesn’t include HTML/CSS because it doesn’t consider them turning complete and therefore not a programming language. Shell scripts are measured separately by TIOBE, and VBA is not in the list of languages measured at all, as far as I can see.&lt;a href=&quot;#fnref3&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn4&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Not all brown languages are dreaded however: Python, C#, Swift, JavaScript and SQL remain loved and I would love to hear if anyone has theories on why. Also Scala and Haskell, two languages I have a soft spot for, are the only green languages on the dreaded list. Is this just noise or is there something else going on there?&lt;a href=&quot;#fnref4&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</content><author><name>Adam Gordon Bell</name></author><category term="Articles" /><summary type="html">I've noticed something interesting about the types of programming languages people like. It's something that doesn't seem to come up in various discussions of programming language preferences.</summary></entry><entry><title type="html">Building a Real-Time Application in the Phoenix Framework with Elixir</title><link href="https://earthly.dev/blog/real-time-phoenix-elixir/" rel="alternate" type="text/html" title="Building a Real-Time Application in the Phoenix Framework with Elixir" /><published>2021-04-21T00:00:00-04:00</published><updated>2021-04-21T00:00:00-04:00</updated><id>https://earthly.dev/blog/real-time-phoenix-elixir</id><content type="html" xml:base="https://earthly.dev/blog/real-time-phoenix-elixir/">&lt;p&gt;The Elixir language, along with the &lt;a href=&quot;https://phoenixframework.org/&quot;&gt;Phoenix framework&lt;/a&gt;, has been growing in popularity at a quick pace, and with good reason. Phoenix offers productivity levels comparable to frameworks like Ruby on Rails while being one of the &lt;a href=&quot;https://github.com/mroth/phoenix-showdown/blob/master/RESULTS_v3.md&quot;&gt;fastest web frameworks&lt;/a&gt; available.&lt;/p&gt;
&lt;p&gt;If you’re currently working with a web framework like Ruby on Rails or even Laravel, you should definitely give Phoenix some attention due to the performance gains it promises. Additionally, Phoenix also has the capability to build highly responsive real-time applications.&lt;/p&gt;
&lt;h2 id=&quot;introducing-phoenix-liveview&quot;&gt;Introducing Phoenix LiveView&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view&quot;&gt;Phoenix LiveView&lt;/a&gt; is a relatively new library added to the Phoenix stack. Developers can build rich, real-time user experience with purely server-rendered HTML.&lt;/p&gt;
&lt;p&gt;Phoenix LiveView adds bi-directional communication via WebSockets between the server and the client, without needing dedicated JavaScript code on the frontend. This allows you to implement real-time functionality on your applications with ease.&lt;/p&gt;
&lt;h2 id=&quot;explaining-todays-tutorial&quot;&gt;Explaining Today’s Tutorial&lt;/h2&gt;
&lt;p&gt;For this tutorial, we are going to be building a crowdfunding application that will leverage the real-time capabilities of Phoenix LiveView. Our application will allow users to support a funding goal in real-time and see the funding goal update as other users also commit to a specific amount. We’ll call it Phoenix Fund.&lt;/p&gt;
&lt;p&gt;The goal of this application is not to build a fully-featured crowdfunding platform but to get your feet wet with LiveView:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How LiveView views works and renders&lt;/li&gt;
&lt;li&gt;How Phoenix leverages WebSockets for communication&lt;/li&gt;
&lt;li&gt;How to implement real-time updates on your application&lt;/li&gt;
&lt;li&gt;How the LiveView life cycle works&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here’s a sample of how the final application will work:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/q0L1xth.gif&quot; alt=&quot;The Crowdfunding App&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;The Crowdfunding App&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;prebuild-setup&quot;&gt;Prebuild Setup&lt;/h2&gt;
&lt;p&gt;For this tutorial, make sure you have a good working Elixir environment. The easiest way to do this is to follow the &lt;a href=&quot;https://elixir-lang.org/install.html&quot;&gt;official Elixir instructions&lt;/a&gt;, which will give you a couple of options for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Local installation on Linux, Windows, and macOS&lt;/li&gt;
&lt;li&gt;Dockerized versions of Elixir&lt;/li&gt;
&lt;li&gt;Package manager versions setups&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I would recommend focusing on the local install for this tutorial, as it might be the easiest one to get started. Additionally, you will need to have &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt; installed locally and a running version of PostgreSQL.&lt;/p&gt;
&lt;h3 id=&quot;npm&quot;&gt;npm&lt;/h3&gt;
&lt;p&gt;You can easily install Node.js from their &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;official instructions&lt;/a&gt;, but in most cases, it’s possible your system might already have Node preinstalled.&lt;/p&gt;
&lt;h3 id=&quot;postgres&quot;&gt;Postgres&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.postgresql.org/&quot;&gt;Postgres&lt;/a&gt; can be a little tricky to install depending on the operating system you’re using. For this tutorial, you can leverage Docker and get a local version running by taking the following steps:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Create a folder to persist the DB data.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mkdir &lt;span class=&quot;va&quot;&gt;${HOME}&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;/phoenix-postgres-data/&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Run a Docker container with the Postgres image.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb2&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb2-1&quot;&gt;&lt;a href=&quot;#cb2-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker run &lt;span class=&quot;at&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-2&quot;&gt;&lt;a href=&quot;#cb2-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;--name&lt;/span&gt; phoenix-psql &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-3&quot;&gt;&lt;a href=&quot;#cb2-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-e&lt;/span&gt; POSTGRES_PASSWORD=Phoenix1234 &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-4&quot;&gt;&lt;a href=&quot;#cb2-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;${HOME}&lt;/span&gt;/phoenix-postgres-data/:/var/lib/postgresql/data &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-5&quot;&gt;&lt;a href=&quot;#cb2-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-p&lt;/span&gt; 5432:5432 &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-6&quot;&gt;&lt;a href=&quot;#cb2-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    postgres&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Validate that the container is running.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; docker &lt;span class=&quot;fu&quot;&gt;ps&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-3&quot;&gt;&lt;a href=&quot;#cb3-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;CONTAINER&lt;/span&gt; ID   IMAGE      COMMAND                  CREATED         STATUS        PORTS                                  NAMES&lt;/span&gt;
&lt;span id=&quot;cb3-4&quot;&gt;&lt;a href=&quot;#cb3-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;11cbe1d2bc2f&lt;/span&gt;   postgres   &lt;span class=&quot;st&quot;&gt;&amp;quot;docker-entrypoint.s…&amp;quot;&lt;/span&gt;   6 seconds ago   Up 5 seconds  5432/tcp, 0.0.0.0:5432-&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;5432/tcp       phoenix-psql&lt;/span&gt;
&lt;span id=&quot;cb3-5&quot;&gt;&lt;a href=&quot;#cb3-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;I&lt;/span&gt; can&lt;/span&gt;
&lt;span id=&quot;cb3-6&quot;&gt;&lt;a href=&quot;#cb3-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;that&lt;/span&gt; was&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Validate PostgreSQL is up and running.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; docker &lt;span class=&quot;bu&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-it&lt;/span&gt; phoenix-psql bash&lt;/span&gt;
&lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-3&quot;&gt;&lt;a href=&quot;#cb4-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;root@11cbe1d2bc2f:/#&lt;/span&gt; psql &lt;span class=&quot;at&quot;&gt;-h&lt;/span&gt; localhost &lt;span class=&quot;at&quot;&gt;-U&lt;/span&gt; postgres&lt;/span&gt;
&lt;span id=&quot;cb4-4&quot;&gt;&lt;a href=&quot;#cb4-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-5&quot;&gt;&lt;a href=&quot;#cb4-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;psql&lt;/span&gt; &lt;span class=&quot;er&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;13.2&lt;/span&gt; &lt;span class=&quot;er&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;Debian&lt;/span&gt; 13.2-1.pgdg100+1&lt;span class=&quot;kw&quot;&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-6&quot;&gt;&lt;a href=&quot;#cb4-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;help&amp;quot;&lt;/span&gt; for help.&lt;/span&gt;
&lt;span id=&quot;cb4-7&quot;&gt;&lt;a href=&quot;#cb4-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-8&quot;&gt;&lt;a href=&quot;#cb4-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;=&lt;/span&gt;# &lt;span class=&quot;ex&quot;&gt;\l&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-9&quot;&gt;&lt;a href=&quot;#cb4-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                                 &lt;span class=&quot;ex&quot;&gt;List&lt;/span&gt; of databases&lt;/span&gt;
&lt;span id=&quot;cb4-10&quot;&gt;&lt;a href=&quot;#cb4-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;ex&quot;&gt;Name&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;ex&quot;&gt;Owner&lt;/span&gt;   &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;Encoding&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;ex&quot;&gt;Collate&lt;/span&gt;   &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;ex&quot;&gt;Ctype&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;ex&quot;&gt;Access&lt;/span&gt; privileges   &lt;/span&gt;
&lt;span id=&quot;cb4-11&quot;&gt;&lt;a href=&quot;#cb4-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;-----------+----------+----------+------------+------------+-----------------------&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-12&quot;&gt;&lt;a href=&quot;#cb4-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt; &lt;span class=&quot;ex&quot;&gt;postgres&lt;/span&gt;  &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;postgres&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;UTF8&lt;/span&gt;     &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;en_US.utf8&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;en_US.utf8&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;setting-up-phoenix&quot;&gt;Setting Up Phoenix&lt;/h2&gt;
&lt;p&gt;Now that you have the necessary dependencies, go ahead and install the Phoenix application generator and create your first Phoenix app. The Phoenix generator is distributed as a &lt;code&gt;mix archive&lt;/code&gt; and can be installed by running the following command:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;archive.&lt;/span&gt; install hex phx_new 1.5.8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;mix-archives&quot;&gt;Mix Archives&lt;/h3&gt;
&lt;p&gt;Mix archives are essentially &lt;code&gt;.zip&lt;/code&gt; files of an Elixir project following the &lt;a href=&quot;http://erlang.org/doc/man/code.html&quot;&gt;Erlang Archive Format&lt;/a&gt;. Simply put, archives give us a way to distribute projects and use them as a regular command tool.&lt;/p&gt;
&lt;h3 id=&quot;creating-a-new-project&quot;&gt;Creating a New Project&lt;/h3&gt;
&lt;p&gt;Now that the Phoenix archive is installed locally if you run &lt;code&gt;mix help&lt;/code&gt;, you should see a new set of mix commands available in your system:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx                   &lt;span class=&quot;co&quot;&gt;# Prints Phoenix help information&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.digest            &lt;span class=&quot;co&quot;&gt;# Digests and compresses static files&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-3&quot;&gt;&lt;a href=&quot;#cb6-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.digest.clean      &lt;span class=&quot;co&quot;&gt;# Removes old versions of static assets&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-4&quot;&gt;&lt;a href=&quot;#cb6-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.cert          &lt;span class=&quot;co&quot;&gt;# Generates a self-signed certificate for HTTPS testing&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-5&quot;&gt;&lt;a href=&quot;#cb6-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.channel       &lt;span class=&quot;co&quot;&gt;# Generates a Phoenix channel&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-6&quot;&gt;&lt;a href=&quot;#cb6-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.context       &lt;span class=&quot;co&quot;&gt;# Generates a context with functions around an Ecto schema&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-7&quot;&gt;&lt;a href=&quot;#cb6-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.embedded      &lt;span class=&quot;co&quot;&gt;# Generates an embedded Ecto schema file&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-8&quot;&gt;&lt;a href=&quot;#cb6-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.html          &lt;span class=&quot;co&quot;&gt;# Generates controller, views, and context for an HTML resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-9&quot;&gt;&lt;a href=&quot;#cb6-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.json          &lt;span class=&quot;co&quot;&gt;# Generates controller, views, and context for a JSON resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-10&quot;&gt;&lt;a href=&quot;#cb6-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.live          &lt;span class=&quot;co&quot;&gt;# Generates LiveView, templates, and context for a resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-11&quot;&gt;&lt;a href=&quot;#cb6-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.presence      &lt;span class=&quot;co&quot;&gt;# Generates a Presence tracker&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-12&quot;&gt;&lt;a href=&quot;#cb6-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.schema        &lt;span class=&quot;co&quot;&gt;# Generates an Ecto schema and migration file&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-13&quot;&gt;&lt;a href=&quot;#cb6-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.secret        &lt;span class=&quot;co&quot;&gt;# Generates a secret&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-14&quot;&gt;&lt;a href=&quot;#cb6-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new               &lt;span class=&quot;co&quot;&gt;# Creates a new Phoenix v1.5.4 application&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-15&quot;&gt;&lt;a href=&quot;#cb6-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new.ecto          &lt;span class=&quot;co&quot;&gt;# Creates a new Ecto project within an umbrella project&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-16&quot;&gt;&lt;a href=&quot;#cb6-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new.web           &lt;span class=&quot;co&quot;&gt;# Creates a new Phoenix web project within an umbrella project&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-17&quot;&gt;&lt;a href=&quot;#cb6-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.routes            &lt;span class=&quot;co&quot;&gt;# Prints all routes&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-18&quot;&gt;&lt;a href=&quot;#cb6-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.server            &lt;span class=&quot;co&quot;&gt;# Starts applications and their servers&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Running &lt;code&gt;mix phx.new&lt;/code&gt; from any directory will create a new Phoenix application. But before you dive in, it’s crucial that you understand the options available when making a Phoenix project. Let’s take a look by running the following command:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;bu&quot;&gt;help&lt;/span&gt; phx.new&lt;/span&gt;
&lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--live&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; include Phoenix.LiveView to make it easier than ever to build&lt;/span&gt;
&lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;interactive,&lt;/span&gt; real-time applications&lt;/span&gt;
&lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--umbrella&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; generate an umbrella project, with one application for&lt;/span&gt;
&lt;span id=&quot;cb7-8&quot;&gt;&lt;a href=&quot;#cb7-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;your&lt;/span&gt; domain and a second application for the web interface&lt;/span&gt;
&lt;span id=&quot;cb7-9&quot;&gt;&lt;a href=&quot;#cb7-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--app&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; the name of the OTP application&lt;/span&gt;
&lt;span id=&quot;cb7-10&quot;&gt;&lt;a href=&quot;#cb7-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--module&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; the name of the base module in the generated skeleton&lt;/span&gt;
&lt;span id=&quot;cb7-11&quot;&gt;&lt;a href=&quot;#cb7-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--database&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; specify the database adapter for Ecto. One of:&lt;/span&gt;
&lt;span id=&quot;cb7-12&quot;&gt;&lt;a href=&quot;#cb7-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; postgres &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/elixir-ecto/postgrex&lt;/span&gt;
&lt;span id=&quot;cb7-13&quot;&gt;&lt;a href=&quot;#cb7-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; mysql &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/elixir-ecto/myxql&lt;/span&gt;
&lt;span id=&quot;cb7-14&quot;&gt;&lt;a href=&quot;#cb7-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; mssql &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/livehelpnow/tds&lt;/span&gt;
&lt;span id=&quot;cb7-15&quot;&gt;&lt;a href=&quot;#cb7-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-16&quot;&gt;&lt;a href=&quot;#cb7-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;Please&lt;/span&gt; check the driver docs for more information and requirements.&lt;/span&gt;
&lt;span id=&quot;cb7-17&quot;&gt;&lt;a href=&quot;#cb7-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;Defaults&lt;/span&gt; to &lt;span class=&quot;st&quot;&gt;&amp;quot;postgres&amp;quot;&lt;/span&gt;.&lt;/span&gt;
&lt;span id=&quot;cb7-18&quot;&gt;&lt;a href=&quot;#cb7-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-19&quot;&gt;&lt;a href=&quot;#cb7-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-webpack&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate webpack files for static asset building.&lt;/span&gt;
&lt;span id=&quot;cb7-20&quot;&gt;&lt;a href=&quot;#cb7-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;When&lt;/span&gt; choosing this option, you will need to manually handle JavaScript&lt;/span&gt;
&lt;span id=&quot;cb7-21&quot;&gt;&lt;a href=&quot;#cb7-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;dependencies&lt;/span&gt; if building HTML apps&lt;/span&gt;
&lt;span id=&quot;cb7-22&quot;&gt;&lt;a href=&quot;#cb7-22&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-ecto&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate Ecto files&lt;/span&gt;
&lt;span id=&quot;cb7-23&quot;&gt;&lt;a href=&quot;#cb7-23&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-html&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate HTML views&lt;/span&gt;
&lt;span id=&quot;cb7-24&quot;&gt;&lt;a href=&quot;#cb7-24&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-gettext&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate gettext files&lt;/span&gt;
&lt;span id=&quot;cb7-25&quot;&gt;&lt;a href=&quot;#cb7-25&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-dashboard&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not include Phoenix.LiveDashboard&lt;/span&gt;
&lt;span id=&quot;cb7-26&quot;&gt;&lt;a href=&quot;#cb7-26&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--binary-id&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; use binary_id as primary key type in Ecto schemas&lt;/span&gt;
&lt;span id=&quot;cb7-27&quot;&gt;&lt;a href=&quot;#cb7-27&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;•&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--verbose&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; use verbose output&lt;/span&gt;
&lt;span id=&quot;cb7-28&quot;&gt;&lt;a href=&quot;#cb7-28&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb7-29&quot;&gt;&lt;a href=&quot;#cb7-29&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s pay attention to the first option, &lt;code&gt;--live&lt;/code&gt;. As mentioned at the beginning of this tutorial, you’ll be building a fundraising application, so make sure to set up your Phoenix application to allow for real-time functionality from the get-go:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;phx.new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--live&lt;/span&gt; phoenix_fund&lt;/span&gt;
&lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web/router.ex&lt;/span&gt;
&lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web/telemetry.ex&lt;/span&gt;
&lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web.ex&lt;/span&gt;
&lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/mix.exs&lt;/span&gt;
&lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/README.md&lt;/span&gt;
&lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/assets/static/robots.txt&lt;/span&gt;
&lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Fetch&lt;/span&gt; and install dependencies&lt;span class=&quot;pp&quot;&gt;?&lt;/span&gt; [Yn] &lt;/span&gt;
&lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running mix deps.get&lt;/span&gt;
&lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running mix deps.compile&lt;/span&gt;
&lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running cd assets &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;npm&lt;/span&gt; install &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;node&lt;/span&gt; node_modules/webpack/bin/webpack.js &lt;span class=&quot;at&quot;&gt;--mode&lt;/span&gt; development&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;mix phx.new&lt;/code&gt; will create the basic skeleton for your new Phoenix LiveView app and download all the dependencies on the Elixir and Node.js side of things.&lt;/p&gt;
&lt;p&gt;Next, provision your database and start the local Phoenix server:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;ecto.create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.server&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If everything is working correctly, you should be able to visit &lt;a href=&quot;http://localhost:4000&quot;&gt;localhost:4000&lt;/a&gt; and see the default Phoenix livewire homepage:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/0N5VpNv.png&quot; alt=&quot;Out of the box installation&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Out of the box installation&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Now the app generated has the default Phoenix styling and setup, but let’s add a little polish for this exercise. You’re going to add &lt;a href=&quot;https://tailwindcss.com/&quot;&gt;TailwindCSS&lt;/a&gt; and some premade boilerplate CSS.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;First, add the following dependencies to your &lt;code&gt;assets/package.json&lt;/code&gt; file, to install Tailwind and the necessary node libraries:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;er&quot;&gt;&amp;quot;devDependencies&amp;quot;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^8.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-import&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^13.0.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-6&quot;&gt;&lt;a href=&quot;#cb10-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-loader&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^4.1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-7&quot;&gt;&lt;a href=&quot;#cb10-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-nested&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^4.2.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-8&quot;&gt;&lt;a href=&quot;#cb10-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;tailwindcss&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^2.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-9&quot;&gt;&lt;a href=&quot;#cb10-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-10&quot;&gt;&lt;a href=&quot;#cb10-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Next, make sure to install your new dependencies:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;npm&lt;/span&gt; install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Copy &lt;a href=&quot;https://gist.github.com/amacgregor/1369927cb4555803fa359c5ad9104fa9&quot;&gt;the webpack and Tailwind configuration from here&lt;/a&gt; into your assets directory:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;assets/tailwind.config.js
assets/webpack.config.js
assets/postcss.config.js&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Copy &lt;a href=&quot;https://gist.github.com/amacgregor/66c7fd76b55332c77bbdb21c5f62940b&quot;&gt;these CSS files&lt;/a&gt; into the following locations:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;assets/css/app.css
assets/csss/custom.css&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Finally change your application to use regular CSS instead of Sass by updating the &lt;code&gt;assets/js/app.js&lt;/code&gt; to:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;import &amp;quot;../css/app.css&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;adding-your-auction-route&quot;&gt;Adding Your Auction Route&lt;/h2&gt;
&lt;p&gt;Now that you have a project up with the base styling, you can start working on adding the routes and logic to show the auctions. Open your &lt;code&gt;lib/phoenix_fund_web/router.ex&lt;/code&gt; file and look for the following chunk of code:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  scope &lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    pipe_through &lt;span class=&quot;va&quot;&gt;:browser&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    live &lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;PageLive&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:index&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-5&quot;&gt;&lt;a href=&quot;#cb15-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the scaffold code that was generated when you generated the application. You want to add a new route for your actions, and you can do that easily by using the &lt;code&gt;live&lt;/code&gt; macro:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    live &lt;span class=&quot;st&quot;&gt;&amp;quot;/auction&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It’s important to highlight that &lt;code&gt;AuctionLive&lt;/code&gt; is not a Phoenix controller. Rather, it’s a long-running LiveView process in charge of managing and tracking the state for that particular route.&lt;/p&gt;
&lt;p&gt;Go ahead and define your new module under &lt;code&gt;lib/phoenix_fund_web/live/auction_live.ex&lt;/code&gt;. By convention, the LiveView modules are placed under the &lt;code&gt;live&lt;/code&gt; directory.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;im&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:live_view&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;/span&gt;
&lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; mount(params, session, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-5&quot;&gt;&lt;a href=&quot;#cb17-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        {&lt;span class=&quot;va&quot;&gt;:ok&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)}&lt;/span&gt;
&lt;span id=&quot;cb17-6&quot;&gt;&lt;a href=&quot;#cb17-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-7&quot;&gt;&lt;a href=&quot;#cb17-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the core of a LiveView module. &lt;code&gt;mount/3&lt;/code&gt; is the entry point for each LiveView, and it will be invoked twice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Once on the initial page load&lt;/li&gt;
&lt;li&gt;Once to establish a live socket&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It expects three parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt;: A map of string keys with the query params&lt;/li&gt;
&lt;li&gt;&lt;code&gt;session&lt;/code&gt;: The connection session&lt;/li&gt;
&lt;li&gt;&lt;code&gt;socket&lt;/code&gt;: The LiveView socket struct&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In your &lt;code&gt;mount/3&lt;/code&gt; function, assign the initial status for your LiveView so it can be rendered. Next, define a &lt;code&gt;render/1&lt;/code&gt; function that will render your LiveView HTML.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; render(assigns) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;~&lt;/span&gt;L&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;h1&amp;gt;Cabinet of Curiosities&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;div id=&amp;quot;auction&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;div class=&amp;quot;meter&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;span style=&amp;quot;width: &amp;lt;%= @raised %&amp;gt;%&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                  $&amp;lt;%= @raised %&amp;gt; USD&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;        &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For now, you’ll provide the HTML directly on your function. Note that the &lt;code&gt;~L&lt;/code&gt; is a special syntax called a sigil; it’s used to represent Live EEx content.&lt;/p&gt;
&lt;p&gt;Start your Phoenix server and let’s try to load &lt;a href=&quot;http://localhost:4000/auction&quot;&gt;/auction&lt;/a&gt;. If everything was set up correctly, you should see the following:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/6gnnM9k.png&quot; alt=&quot;Auction View&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Auction View&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Excellent! Your new route is now being rendered by your LiveView. Now it’s time to make it do something useful by adding a couple of buttons to allow people to donate.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;```elixir &lt;/span&gt;
&lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; render(assigns) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;~&lt;/span&gt;L&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-6&quot;&gt;&lt;a href=&quot;#cb19-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;h1&amp;gt;Cabinet of Curiosities&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-7&quot;&gt;&lt;a href=&quot;#cb19-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;div id=&amp;quot;auction&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-8&quot;&gt;&lt;a href=&quot;#cb19-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;div class=&amp;quot;meter&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-9&quot;&gt;&lt;a href=&quot;#cb19-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;span style=&amp;quot;width: &amp;lt;%= @raised %&amp;gt;%&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-10&quot;&gt;&lt;a href=&quot;#cb19-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                  $&amp;lt;%= @raised %&amp;gt; USD&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-11&quot;&gt;&lt;a href=&quot;#cb19-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-12&quot;&gt;&lt;a href=&quot;#cb19-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-13&quot;&gt;&lt;a href=&quot;#cb19-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-14&quot;&gt;&lt;a href=&quot;#cb19-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-1&amp;quot;&amp;gt; $1 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-15&quot;&gt;&lt;a href=&quot;#cb19-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-5&amp;quot;&amp;gt; $5 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-16&quot;&gt;&lt;a href=&quot;#cb19-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-10&amp;quot;&amp;gt; $10 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-17&quot;&gt;&lt;a href=&quot;#cb19-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-100&amp;quot;&amp;gt; $100 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-18&quot;&gt;&lt;a href=&quot;#cb19-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;        &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-19&quot;&gt;&lt;a href=&quot;#cb19-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-20&quot;&gt;&lt;a href=&quot;#cb19-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-21&quot;&gt;&lt;a href=&quot;#cb19-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The page should look as follows:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/kI2Zchu.png&quot; alt=&quot;Buttons added&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Buttons added&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;However, if you try to click any of your new buttons, you’re going to get an error like so:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
[error] GenServer #PID&amp;lt;0.935.0&amp;gt; terminating
** (FunctionClauseError) no function clause matching in PhoenixFundWeb.AuctionLive.handle_event/3
    (phoenix_fund 0.1.0) lib/phoenix_fund_web/live/auction_live.ex:26: PhoenixFundWeb.AuctionLive.handle_event(&amp;quot;donate-5&amp;quot;, %{&amp;quot;value&amp;quot; =&amp;gt; &amp;quot;&amp;quot;}, #Phoenix.LiveView.Socket&amp;lt;assigns: %{flash: %{}, live_action: nil, live_module: PhoenixFundWeb.AuctionLive, raised: 34}, changed: %{}, endpoint: PhoenixFundWeb.Endpoint, id: &amp;quot;phx-FmnbLK6vHaXG9gIk&amp;quot;, parent_pid: nil, root_pid: #PID&amp;lt;0.935.0&amp;gt;, router: PhoenixFundWeb.Router, view: PhoenixFundWeb.AuctionLive, ...&amp;gt;)
    (phoenix_live_view 0.13.0) lib/phoenix_live_view/channel.ex:102: Phoenix.LiveView.Channel.handle_info/2
    (stdlib 3.14) gen_server.erl:689: :gen_server.try_dispatch/4
    (stdlib 3.14) gen_server.erl:765: :gen_server.handle_msg/6
    (stdlib 3.14) proc_lib.erl:226: :proc_lib.init_p_do_apply/3
Last message: %Phoenix.Socket.Message{event: &amp;quot;event&amp;quot;, join_ref: &amp;quot;4&amp;quot;, payload: %{&amp;quot;event&amp;quot; =&amp;gt; &amp;quot;donate-5&amp;quot;, &amp;quot;type&amp;quot; =&amp;gt; &amp;quot;click&amp;quot;, &amp;quot;value&amp;quot; =&amp;gt; %{&amp;quot;value&amp;quot; =&amp;gt; &amp;quot;&amp;quot;}}, ref: &amp;quot;39&amp;quot;, topic: &amp;quot;lv:phx-FmnbLK6vHaXG9gIk&amp;quot;}
State: %{components: {%{}, %{}, 0}, join_ref: &amp;quot;4&amp;quot;, serializer: Phoenix.Socket.V2.JSONSerializer, socket: #Phoenix.LiveView.Socket&amp;lt;assigns: %{flash: %{}, live_action: nil, live_module: PhoenixFundWeb.AuctionLive, raised: 34}, changed: %{}, endpoint: PhoenixFundWeb.Endpoint, id: &amp;quot;phx-FmnbLK6vHaXG9gIk&amp;quot;, parent_pid: nil, root_pid: #PID&amp;lt;0.935.0&amp;gt;, router: PhoenixFundWeb.Router, view: PhoenixFundWeb.AuctionLive, ...&amp;gt;, topic: &amp;quot;lv:phx-FmnbLK6vHaXG9gIk&amp;quot;, transport_pid: #PID&amp;lt;0.929.0&amp;gt;}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;handling-events&quot;&gt;Handling Events&lt;/h2&gt;
&lt;p&gt;As you can see from the error, the Auction LiveView doesn’t currently know how to handle an event. As part of your button code, you added &lt;code&gt;phx-click&lt;/code&gt;; this is a &lt;strong&gt;binding&lt;/strong&gt; that sends a particular event like &lt;code&gt;donate-1&lt;/code&gt; back to your LiveView.&lt;/p&gt;
&lt;p&gt;Your next step is adding a new definition of &lt;code&gt;handle_event/3&lt;/code&gt; for each one of your events. Go ahead and add the first function definition to the handle of the $1 donation button event:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-1&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;handle_event/3&lt;/code&gt; function takes three parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The name of the event, in this case &lt;code&gt;donate-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;metadata&lt;/code&gt; about the event, that you can safely ignore for now&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;socket&lt;/code&gt;, which, if you remember, holds the state of your LiveView process&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inside your &lt;code&gt;handle_event/3&lt;/code&gt;, you’re doing two things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Retrieving the current &lt;code&gt;raised&lt;/code&gt; value from the &lt;code&gt;socket.assigns&lt;/code&gt; and increment it by &lt;code&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Assigning the new value back to the socket&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you reload your page and click on the $1 donation button, you should see the value correctly incrementing.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/WA1gHtv.gif&quot; alt=&quot;Button working&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Button working&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Make sure to add the following code to handle the remaining events:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-5&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-6&quot;&gt;&lt;a href=&quot;#cb22-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-7&quot;&gt;&lt;a href=&quot;#cb22-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-8&quot;&gt;&lt;a href=&quot;#cb22-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-10&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-9&quot;&gt;&lt;a href=&quot;#cb22-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-10&quot;&gt;&lt;a href=&quot;#cb22-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-11&quot;&gt;&lt;a href=&quot;#cb22-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-12&quot;&gt;&lt;a href=&quot;#cb22-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-13&quot;&gt;&lt;a href=&quot;#cb22-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-100&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-14&quot;&gt;&lt;a href=&quot;#cb22-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-15&quot;&gt;&lt;a href=&quot;#cb22-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-16&quot;&gt;&lt;a href=&quot;#cb22-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-17&quot;&gt;&lt;a href=&quot;#cb22-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;understanding-the-liveview-life-cycle&quot;&gt;Understanding the LiveView Life Cycle&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/rk4dJHg.png&quot; alt=&quot;LiveView Life Cycle&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;LiveView Life Cycle&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Let’s recap what you’ve done so far to better understand the LiveView life cycle:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Your application receives a request for a LiveView route.&lt;/li&gt;
&lt;li&gt;Your app will invoke that view &lt;code&gt;mount/2&lt;/code&gt; function and set the initial socket state.&lt;/li&gt;
&lt;li&gt;Next, it will call &lt;code&gt;render/1&lt;/code&gt; to render the static HTML to send back to the client.&lt;/li&gt;
&lt;li&gt;Opening a LiveView socket will pass the rendered HTML.&lt;/li&gt;
&lt;li&gt;The socket will remain open to receive events and handle updates on the LiveView process state.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It is in this life cycle where one of the more powerful and interesting features of LiveView lies. As mentioned, LiveView is listening to your socket for updates but &lt;em&gt;it will only rerender the portions of the page that needed updating&lt;/em&gt;. In the case of this tutorial, the meter is the only piece that gets an update.&lt;/p&gt;
&lt;p&gt;This is one of the key features that makes Phoenix and LiveView extremely well suited for real-time applications.&lt;/p&gt;
&lt;h2 id=&quot;broadcasting-with-pubsub&quot;&gt;Broadcasting with PubSub&lt;/h2&gt;
&lt;p&gt;So far, you’ve built an app that can leverage Phoenix LiveView to allow users to donate in real time, but so far, there’s a caveat: updates are not shared across users or even tabs. Wouldn’t it be nice to get the donations to show in real time for everyone who has the page open?&lt;/p&gt;
&lt;p&gt;Next, you’ll leverage &lt;a href=&quot;https://github.com/phoenixframework/phoenix_pubsub&quot;&gt;PubSub&lt;/a&gt; to broadcast real-time updates to all LiveView clients, not just the one that triggers the event.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Publish-subscribe is a messaging pattern where senders of messages, called publishers, do not program the messages to be sent directly to specific receivers, called subscribers, but instead categorize published messages into classes without knowledge of which subscribers, if any, there may be. Similarly, subscribers express interest in one or more classes and only receive messages that are of interest, without knowledge of which publishers, if any, there are.” –&lt;a href=&quot;https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern&quot;&gt;Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In short, PubSub is a messaging pattern that will allow us to implement real-time asynchronous communication with any clients listening for events in our application. In the case of this tutorial, that will be every user with a fundraising page open.&lt;/p&gt;
&lt;h3 id=&quot;configure-phoenix-pubsub&quot;&gt;Configure Phoenix PubSub&lt;/h3&gt;
&lt;p&gt;First, you need to configure your app endpoint to use the &lt;code&gt;Phoenix.PubSub.PG2&lt;/code&gt; adapter. Add the following configuration to your &lt;code&gt;lib/phoenix_fund/application.ex&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;{&lt;span class=&quot;cn&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;, [&lt;span class=&quot;va&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFund&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;adapter:&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PG2&lt;/span&gt;]},&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;subscribing-to-a-topic&quot;&gt;Subscribing to a Topic&lt;/h3&gt;
&lt;p&gt;Next, tell your LiveView process to subscribe to a specific topic when the LiveView mounts. You can leverage &lt;code&gt;Phoenix.PubSub.subscribe/3&lt;/code&gt; for that:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;im&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:live_view&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;auction&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; mount(params, session, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;subscribe(&lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;)&lt;/span&gt;
&lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:ok&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)}&lt;/span&gt;
&lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You’ll use a generic &lt;code&gt;auction&lt;/code&gt; topic, as you’re only dealing with a single auction.&lt;/p&gt;
&lt;h3 id=&quot;broadcasting-to-all-subscribers&quot;&gt;Broadcasting to All Subscribers&lt;/h3&gt;
&lt;p&gt;Your next step is to modify each of your &lt;code&gt;handle_event/3&lt;/code&gt; definitions to broadcast. The updated code looks like:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-1&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-5&quot;&gt;&lt;a href=&quot;#cb25-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-6&quot;&gt;&lt;a href=&quot;#cb25-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-7&quot;&gt;&lt;a href=&quot;#cb25-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-5&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-8&quot;&gt;&lt;a href=&quot;#cb25-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-9&quot;&gt;&lt;a href=&quot;#cb25-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-10&quot;&gt;&lt;a href=&quot;#cb25-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-11&quot;&gt;&lt;a href=&quot;#cb25-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-12&quot;&gt;&lt;a href=&quot;#cb25-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-13&quot;&gt;&lt;a href=&quot;#cb25-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-10&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-14&quot;&gt;&lt;a href=&quot;#cb25-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-15&quot;&gt;&lt;a href=&quot;#cb25-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-16&quot;&gt;&lt;a href=&quot;#cb25-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-17&quot;&gt;&lt;a href=&quot;#cb25-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-18&quot;&gt;&lt;a href=&quot;#cb25-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-19&quot;&gt;&lt;a href=&quot;#cb25-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-100&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-20&quot;&gt;&lt;a href=&quot;#cb25-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-21&quot;&gt;&lt;a href=&quot;#cb25-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-22&quot;&gt;&lt;a href=&quot;#cb25-22&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-23&quot;&gt;&lt;a href=&quot;#cb25-23&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You’re using the &lt;code&gt;Phoenix.PubSub.broadcast_from/4&lt;/code&gt; function, which allows you to broadcast a message describing a new socket state to all the LiveView clients that are subscribed to a topic. Notice that you’re not triggering the click event on the other clients, just letting them know that the socket state has changed.&lt;/p&gt;
&lt;p&gt;Finally, now that you’re broadcasting the socket updates, you need to tell your LiveView process how to handle the incoming broadcasts. For this, add a &lt;code&gt;handle_info/2&lt;/code&gt; that will pattern match against the broadcast struct:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_info(%{&lt;span class=&quot;va&quot;&gt;topic:&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;payload:&lt;/span&gt; raised}, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you start up your application and open two browser windows side by side, you should see the donation meter updating on all windows as soon anyone clicks any of the donation buttons.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/tiqB8O5.gif&quot; alt=&quot;Broadcast in real time&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Broadcast in real time&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;in-summary&quot;&gt;In Summary&lt;/h2&gt;
&lt;p&gt;As you’ve learned, Phoenix offers a powerful set of libraries, making it relatively easy to create real-time applications with very little code and, even more surprisingly, no JavaScript at all. With LiveView, you can create fully fledged real-time features using only server-side code, and when you add Phoenix PubSub, you can open those same features to all app users in real time.&lt;/p&gt;
&lt;p&gt;Of course, we’ve only begun to scratch the surface here of what you can do with Phoenix, LiveView, and PubSub. If you want to keep going with this project, I would recommend tackling adding persistence next, and the ability to create multiple auctions with &lt;a href=&quot;https://hexdocs.pm/ecto/getting-started.html&quot;&gt;Ecto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Both Ecto and the Phoenix project use &lt;a href=&quot;https://earthly.dev&quot;&gt;Earthly&lt;/a&gt; for defining their continuous integration process, so examining &lt;a href=&quot;https://github.com/elixir-ecto/ecto/blob/master/Earthfile&quot;&gt;those&lt;/a&gt; &lt;a href=&quot;https://github.com/phoenixframework/phoenix/blob/master/Earthfile&quot;&gt;projects&lt;/a&gt; can be a great way to learn more about Earthly.&lt;/p&gt;
&lt;h3 id=&quot;additional-resources&quot;&gt;Additional Resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://pragmaticstudio.com/phoenix-liveview&quot;&gt;The Pragmatic Studio: Phoenix LiveView Course&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pragprog.com/titles/liveview/programming-phoenix-liveview/&quot;&gt;&lt;em&gt;Programming Phoenix LiveView&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/amacgregor/phoenix_fund&quot;&gt;Full source code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Allan MacGregor</name></author><category term="Tutorials" /><summary type="html">The Elixir language, along with the Phoenix framework, has been growing in popularity at a quick pace, and with good reason. Phoenix offers productivity levels comparable to frameworks like Ruby on Rails while being one of the fastest web frameworks available.</summary></entry><entry><title type="html">Welcoming Wes McKinney as an advisor to Earthly</title><link href="https://earthly.dev/blog/wes-mckinney/" rel="alternate" type="text/html" title="Welcoming Wes McKinney as an advisor to Earthly" /><published>2021-04-15T00:00:00-04:00</published><updated>2020-04-15T00:00:00-04:00</updated><id>https://earthly.dev/blog/wes-mckinney</id><content type="html" xml:base="https://earthly.dev/blog/wes-mckinney/">&lt;p&gt;In our journey to bring repeatable builds to the world, we have had the pleasure to talk to a number of industry veterans about the challenges surrounding CIs today. One person that was particularly excited about our mission is &lt;a href=&quot;https://en.wikipedia.org/wiki/Wes_McKinney&quot;&gt;Wes McKinney&lt;/a&gt;, the author of &lt;a href=&quot;https://www.oreilly.com/library/view/python-for-data/9781449323592/&quot;&gt;Python for Data Analysis&lt;/a&gt;, the creator of the very popular &lt;a href=&quot;https://github.com/pandas-dev/pandas&quot;&gt;pandas&lt;/a&gt; Python package, co-creator of &lt;a href=&quot;https://arrow.apache.org/&quot;&gt;Apache Arrow&lt;/a&gt;, and CEO of &lt;a href=&quot;https://ursacomputing.com/&quot;&gt;Ursa Computing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Wes immediately recognized the issues of modern builds, including the need for better and more scalable tooling for monorepos, the need for reducing duplication, and the need to improve build speeds through the use of distributed compute and distributed caching.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I’ve seen the many ways that a large project’s CI/CD systems can hit a scalability wall and bring down the productivity of the whole development team. In Apache Arrow, with its many programming languages and the need to test a wide variety of integrations in a reproducible way, we created a complex homegrown CI framework to meet our needs. Building and maintaining this system has almost been a full-time job. When I learned about Earthly, I was excited to see innovative work happening in containerized build and testing automation. I’m hopeful that complex projects like ours will be able to save time in the future by building on better off-the-shelf tools like Earthly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p style=&quot;text-align: right&quot;&gt;
– Wes McKinney
&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/wes-mckinney/Wes_McKinney_Headshot.jpg&quot; alt=&quot;Wes McKinney&quot; width=&quot;250px&quot; style=&quot;float: left; margin: 30px;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Wes will be helping us better understand the challenges of software builds in data engineering communities and also will help Earthly be successful in these circles.&lt;/p&gt;
&lt;p&gt;We are grateful and proud to have Wes McKinney onboard as an advisor. The world of software engineering is vast and industry veterans such as Wes allow us to tune our technology to the needs of the various communities out there. The more we connect with great minds in tech, the more Earthly gets better for everyone else.&lt;/p&gt;
&lt;p&gt;If you are an Earthly user, please join me in welcoming Wes to the Earthly family! &lt;a href=&quot;https://twitter.com/wesmckinn&quot;&gt;Follow Wes on Twitter&lt;/a&gt; and let him know why you’re excited about Earthly. If you aren’t a user yet, you’re missing out! ;-) Come give Earthly a try at &lt;a href=&quot;https://earthly.dev&quot;&gt;earthly.dev&lt;/a&gt;.&lt;/p&gt;</content><author><name>Vlad A. Ionescu</name></author><category term="News" /><category term="advisor" /><category term="data-engineering" /><summary type="html">&quot;When I learned about Earthly, I was excited to see innovative work happening in containerized build and testing automation.&quot;</summary></entry><entry><title type="html">Addressing Slow Performance in Jenkins</title><link href="https://earthly.dev/blog/slow-performance-in-jenkins/" rel="alternate" type="text/html" title="Addressing Slow Performance in Jenkins" /><published>2021-04-12T00:00:00-04:00</published><updated>2021-04-12T00:00:00-04:00</updated><id>https://earthly.dev/blog/slow-performance-in-jenkins</id><content type="html" xml:base="https://earthly.dev/blog/slow-performance-in-jenkins/">&lt;p&gt;There’s nothing more frustrating than a sluggish continuous integration system. It slows down feedback loops and prevents code from reaching production quickly. While quick fixes like using a bigger CI server can buy you time, you ultimately have to invest in maintaining the performance of your continuous integration workflow.&lt;/p&gt;
&lt;p&gt;Jenkins is one of the most popular CI/CD tools out there, but its users often &lt;a href=&quot;https://issues.jenkins.io/browse/JENKINS-56243?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel&quot;&gt;experience lagging and responsiveness issues over time&lt;/a&gt;. In this guide, I’ll share an overview of some of the biggest Jenkins performance issues and some tips for significantly improving performance without necessarily upgrading your hardware.&lt;/p&gt;
&lt;h2 id=&quot;why-is-jenkins-such-a-popular-option-for-cicd&quot;&gt;Why Is Jenkins Such a Popular Option for CI/CD?&lt;/h2&gt;
&lt;p&gt;Jenkins is a Java-based, open-source tool that is leveraged by &lt;a href=&quot;https://www.businesswire.com/news/home/20181024005509/en/Jenkins-Community-Achieves-Record-Growth-Driven-by-Major-Innovation&quot;&gt;tens of thousands&lt;/a&gt; of developers on hundreds of thousands of installations, making it the most popular automation server. This widespread use means that it’s easy to find support and tips for Jenkins, but that’s not the only reason it’s so widely used.&lt;/p&gt;
&lt;p&gt;Jenkins brought a lot of interesting paradigms to CI workflows, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Faster deployment.&lt;/strong&gt; Gone are the days when a build was tested and deployed once after all the developers committed their code. With Jenkins’ automated CI/CD pipeline, whenever a developer commits code, it’s built and tested throughout the day across multiple cycles.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.jenkins.io/doc/book/scaling/architecting-for-scale/&quot;&gt;Scalable master-agent architecture&lt;/a&gt;.&lt;/strong&gt; When it comes to managing distributed builds at scale, Jenkins can be a good choice. Jenkins’ primary server is the master that schedules build jobs and assigns them to agents (formerly, slaves) for execution. This pattern allows you to run Jenkins on one or hundreds of servers to speed up your builds.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Thousands of plugins:&lt;/strong&gt; Being an open-source platform, Jenkins provides a plethora of plugins for continuous integration built by other developers. This allows you to extend the base functionality without writing or maintaining much extra code in-house.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;overcoming-common-jenkins-performance-issues&quot;&gt;Overcoming Common Jenkins Performance Issues&lt;/h2&gt;
&lt;p&gt;Over time, increased build frequency, multiple jobs running in parallel, and increasing build complexity can lead to performance issues in Jenkins. Your experience will likely vary based on your use case, but some common issues include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“Hangups” where the build seems “stuck” on a specific step each time it runs.&lt;/li&gt;
&lt;li&gt;Hitting memory limits on individual machines or the master node.&lt;/li&gt;
&lt;li&gt;CPU bottlenecks that slow down specific parts of a build.&lt;/li&gt;
&lt;li&gt;Bugs or inefficient code in plugins or scripts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since these issues can be caused by a wide variety of root causes, it’s hard to generalize the solutions, but there are a few things that Jenkins users might want to look into. Here are some of the most universal ways you can improve your Jenkins build performance and limit the frequency of issues like those above.&lt;/p&gt;
&lt;h3 id=&quot;avoid-complex-groovy-script-in-your-pipelines&quot;&gt;1. Avoid Complex Groovy Script In Your Pipelines&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.jenkins.io/doc/book/managing/script-console/&quot;&gt;Jenkins Groovy script console&lt;/a&gt; is executed on the master node and directly uses master resources such as CPU and memory. Therefore, it’s recommended that you reduce the number as well as the complexity of Groovy scripts in your pipelines and instead favor plugins that can be run on each agent directly.&lt;/p&gt;
&lt;p&gt;The most common Groovy methods to avoid in Jenkins are JsonSlurper, Jenkins.getInstance, and HttpRequest. Jenkins has more suggestions for &lt;a href=&quot;https://www.jenkins.io/blog/2017/02/01/pipeline-scalability-best-practice/&quot;&gt;scalable pipeline code and the operations to avoid on its blog&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;keep-builds-minimal-at-the-master-node&quot;&gt;2. Keep Builds Minimal at the Master Node&lt;/h3&gt;
&lt;p&gt;Jenkins’ master node sits at the epicenter of the whole CI/CD process, where the application runs. Hence, the number of builds on the master node significantly affects resource usage. Keeping fewer builds on the master node will leave enough CPU and memory for agent nodes to schedule and trigger jobs.&lt;/p&gt;
&lt;p&gt;You can use the “&lt;a href=&quot;https://stackoverflow.com/questions/13946929/ci-with-jenkins-how-to-force-building-happen-on-slaves-instead-of-master&quot;&gt;Restrict where project can be run&lt;/a&gt;” option in your job. While Jenkins will still run &lt;a href=&quot;https://support.cloudbees.com/hc/en-us/articles/360012808951-Pipeline-Difference-between-flyweight-and-heavyweight-Executors&quot;&gt;a flyweight executor&lt;/a&gt; on the master node, your heavyweight executors will run on the agent nodes.&lt;/p&gt;
&lt;p&gt;Think of the master node as the brain of your Jenkins. Unlike agents, the master node can’t be purged or replaced. So, to ensure optimum CI/CD functioning, consider doing some performance tuning on your Jenkins and free up the master node from unnecessary tasks. This will leave you with ample memory and CPU for effective scheduling and build triggers over agents.&lt;/p&gt;
&lt;h3 id=&quot;dont-bloat-the-jenkins-master-installation&quot;&gt;3. Don’t Bloat the Jenkins Master Installation&lt;/h3&gt;
&lt;p&gt;DevOps professionals often work across multiple teams and projects for CI/CD-related tasks. If that’s your situation, take care not to burden a single Jenkins master. Instead, create multiple masters. Multiple masters will ensure project-specific resource allocation to masters, and you’ll also avoid plugin collision.&lt;/p&gt;
&lt;p&gt;Moreover, rather than setting up a long build that might fail anywhere in the cycle, remember to break your build into multiple smaller jobs.&lt;/p&gt;
&lt;h3 id=&quot;make-agent-management-effortless&quot;&gt;4. Make Agent Management Effortless&lt;/h3&gt;
&lt;p&gt;While setting up Jenkins, it’s important to set up the agents correctly. You want to make sure that when the time comes, you can add new agents or replace existing ones easily. To achieve this, consider creating a virtual machine image for the agent. You might also consider running Jenkins inside a &lt;a href=&quot;https://devopscube.com/docker-containers-as-build-slaves-jenkins/&quot;&gt;Docker container&lt;/a&gt; in a scalable cluster like Kubernetes or Amazon EKS where scaling agents is simple.&lt;/p&gt;
&lt;p&gt;It’s also a good idea to make agents generic and versatile; an agent should run multiple different jobs and utilize resources to the fullest extent.&lt;/p&gt;
&lt;h3 id=&quot;remove-older-builds&quot;&gt;5. Remove Older Builds&lt;/h3&gt;
&lt;p&gt;After a while, Jenkins builds can pile up, and disk consumption may get out of hand. Developers often overlook Jenkins’ &lt;a href=&quot;https://plugins.jenkins.io/discard-old-build/&quot;&gt;Discard Old Builds&lt;/a&gt; option. Set metrics, such as the number of builds and days to keep builds and artifacts are under the Jenkins Log Rotation menu.&lt;/p&gt;
&lt;p&gt;Rather than letting old builds accumulate and consume a file system, developers can enable &lt;em&gt;Discard Old Builds&lt;/em&gt; and enjoy automated resource usage cleanup once a Jenkins job finishes. You can also use the &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html&quot;&gt;G1 garbage collector&lt;/a&gt; instead of Java 8’s default &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html&quot;&gt;Parallel GC&lt;/a&gt; since the former is a server-style garbage collector with a lower GC pause time.&lt;/p&gt;
&lt;p&gt;Builds can also be removed &lt;a href=&quot;https://superuser.com/a/1418896/92661&quot;&gt;manually&lt;/a&gt; via the Jenkins command line or using a &lt;a href=&quot;https://opensource.com/article/17/11/how-use-cron-linux&quot;&gt;cron job&lt;/a&gt; that periodically cleans up old builds. You can find other options for discarding old build data &lt;a href=&quot;https://support.cloudbees.com/hc/en-us/articles/215549798-Deleting-Old-Builds-Best-Strategy-for-Cleanup-and-disk-space-management&quot;&gt;in this reference post&lt;/a&gt;.&lt;/p&gt;
&lt;h5 id=&quot;prevent-resource-collision-in-parallel-jobs&quot;&gt;Prevent Resource Collision in Parallel Jobs&lt;/h5&gt;
&lt;p&gt;Jobs running in parallel might want exclusive access to ports or resources. This may cause a collision, fail a build and further slow down your Jenkins pipeline. For example, if you run multiple builds in parallel, there’s a high chance they might collide while accessing a resource, say, Postgres’s database port 5432.&lt;/p&gt;
&lt;p&gt;Jenkins offers the &lt;a href=&quot;https://plugins.jenkins.io/throttle-concurrents/&quot;&gt;Throttle Concurrent Builds&lt;/a&gt; plugin to help regulate the number of concurrent builds on Jenkins nodes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Throttle a single operation
throttle([&amp;#39;test_1&amp;#39;]) {
    node() {
        sh &amp;quot;sleep 100&amp;quot;
        echo &amp;quot;Done&amp;quot;
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll need to do some testing to see how many parallel builds your system can handle, but knowing how to set this limit and modify it will help you get started.&lt;/p&gt;
&lt;h3 id=&quot;lower-heap-size&quot;&gt;6. Lower Heap Size&lt;/h3&gt;
&lt;p&gt;Do you want to create CI/CD pipelines that are performance-oriented and never fail with a memory leak or out-of-memory errors? Pay attention to the &lt;em&gt;heap size&lt;/em&gt;. As the number of Jenkins builds grows, the default heap size can be a limiting factor leading to out-of-memory errors if not attended to.&lt;/p&gt;
&lt;p&gt;A majority of modern Java applications start with the maximum heap size configuration during startup. For Jenkins to run smoothly, lower the maximum heap size property to a maximum of &lt;a href=&quot;https://docs.cloudbees.com/docs/admin-resources/latest/jvm-troubleshooting/#_heap_size&quot;&gt;4 GB&lt;/a&gt; for starters. You can increase the heap size over time, depending on the Jenkins builds.&lt;/p&gt;
&lt;p&gt;To set the heap size to 4 GB:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refer to &lt;code&gt;/etc/default/jenkins&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Pass &lt;code&gt;JAVA_ARGS=&quot;-Xmx4096m&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;avoid-plugin-overload&quot;&gt;7. Avoid Plugin Overload&lt;/h3&gt;
&lt;p&gt;With over a thousand plugins available, Jenkins offers its users many capabilities for empowering their CI/CD pipelines. However, keep performance in mind when adding plugins and external services to your pipeline. Integrating Jenkins with external services will often slow down the Jenkins UI and lead to adverse effects, like dropped agents or disconnections.&lt;/p&gt;
&lt;p&gt;In order to determine if a plugin is causing your builds to slow down, you can try running your builds with all or some plugins disabled. Gradually add each back to determine which is causing the bottleneck. Once you find the plugin (or combination of plugins) causing the performance issue, you have a few options:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;strong&gt;Find a replacement plugin&lt;/strong&gt; by searching the &lt;a href=&quot;https://plugins.jenkins.io/&quot;&gt;Jenkins Plugin Index&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;See if Jenkins has added native support&lt;/strong&gt; for this feature by checking &lt;a href=&quot;https://www.jenkins.io/changelog/&quot;&gt;the changelog&lt;/a&gt;. You may have to upgrade Jenkins to get the latest features, but this is generally a good idea for performance anyway.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Replace the plugin with a custom script&lt;/strong&gt; bearing in mind that this could introduce new performance issues. Still, if you install a complex plugin, but only use one or two small features, a script might be more efficient.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Remove the plugin&lt;/strong&gt; if you can live without it. Sometimes this is a worthwhile tradeoff.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;tracking-jenkins-performance&quot;&gt;Tracking Jenkins Performance&lt;/h2&gt;
&lt;p&gt;As you start tuning your Jenkins performance, you might be interested in adding a plugin to help monitor and improve performance. For example, you can leverage the &lt;a href=&quot;https://plugins.jenkins.io/monitoring/&quot;&gt;Jenkins Monitoring plugin&lt;/a&gt; to get deep insights into your CI/CD pipeline, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Errors and logs&lt;/li&gt;
&lt;li&gt;Charts for CPU, memory, and average system load&lt;/li&gt;
&lt;li&gt;Reports on HTTP sessions and HTTP response time&lt;/li&gt;
&lt;li&gt;Detailed statistics for build time and build steps&lt;/li&gt;
&lt;li&gt;Aggregated heap histogram for all nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/mE6fSdy.png&quot; alt=&quot;Jenkins Performance Monitoring Tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Jenkins Performance Monitoring Tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This can help you assess the effectiveness of your performance tweaks and guide you as you continue to improve your Jenkins installation.&lt;/p&gt;
&lt;h2 id=&quot;wrapping-it-up&quot;&gt;Wrapping It Up&lt;/h2&gt;
&lt;p&gt;Jenkins’ responsiveness issues are common, especially when dealing with heavier builds. Broken Jenkins CI/CD pipelines can stall your development teams and create unnecessary dependencies. The tips discussed in this article should help you boost the performance of your Jenkins CI/CD pipeline significantly.&lt;/p&gt;
&lt;p&gt;Looking to make your builds more repeatable? &lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt; replaces clunky bash scripts and makefiles by giving you a single understandable, consistent definition for your CI/CD builds and it works great with Jekyll. Learn more &lt;a href=&quot;https://earthly.dev/&quot;&gt;at Earthly.dev&lt;/a&gt;.&lt;/p&gt;</content><author><name>Milan Bhardwaj</name></author><category term="Tutorials" /><summary type="html">There’s nothing more frustrating than a sluggish continuous integration system. It slows down feedback loops and prevents code from reaching production quickly. While quick fixes like using a bigger CI server can buy you time, you ultimately have to invest in maintaining the performance of your continuous integration workflow.</summary></entry></feed>