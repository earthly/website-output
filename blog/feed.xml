<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://earthly.dev/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://earthly.dev/blog/" rel="alternate" type="text/html" /><updated>2021-04-16T20:37:13-04:00</updated><id>https://earthly.dev/blog/feed.xml</id><title type="html">Earthly Blog</title><subtitle>Build automation for the container era.</subtitle><entry><title type="html">Example Graphs</title><link href="https://earthly.dev/blog/example-plot/" rel="alternate" type="text/html" title="Example Graphs" /><published>2029-01-01T00:00:00-05:00</published><updated>2020-01-07T00:00:00-05:00</updated><id>https://earthly.dev/blog/example-plot</id><content type="html" xml:base="https://earthly.dev/blog/example-plot/">&lt;p&gt;You can embedded graphs into the markdown like this:&lt;/p&gt;
&lt;h3 id=&quot;simple-graph&quot;&gt;Simple Graph&lt;/h3&gt;
&lt;p&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;
&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;
  &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;
&lt;!-- Created with matplotlib (https://matplotlib.org/) --&gt;
&lt;svg height=&quot;345.6pt&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 460.8 345.6&quot; width=&quot;460.8pt&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;
 &lt;defs&gt;
  &lt;style type=&quot;text/css&quot;&gt;
*{stroke-linecap:butt;stroke-linejoin:round;}
  &lt;/style&gt;
 &lt;/defs&gt;
 &lt;g id=&quot;figure_1&quot;&gt;
  &lt;g id=&quot;patch_1&quot;&gt;
   &lt;path d=&quot;M 0 345.6 
L 460.8 345.6 
L 460.8 0 
L 0 0 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_1&quot;&gt;
   &lt;g id=&quot;patch_2&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 414.72 307.584 
L 414.72 41.472 
L 57.6 41.472 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_1&quot;&gt;
    &lt;g id=&quot;xtick_1&quot;&gt;
     &lt;g id=&quot;line2d_1&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L 0 3.5 
&quot; id=&quot;me31f2ee80a&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;73.832727&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_1&quot;&gt;
      &lt;!-- 0.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 31.78125 66.40625 
Q 24.171875 66.40625 20.328125 58.90625 
Q 16.5 51.421875 16.5 36.375 
Q 16.5 21.390625 20.328125 13.890625 
Q 24.171875 6.390625 31.78125 6.390625 
Q 39.453125 6.390625 43.28125 13.890625 
Q 47.125 21.390625 47.125 36.375 
Q 47.125 51.421875 43.28125 58.90625 
Q 39.453125 66.40625 31.78125 66.40625 
z
M 31.78125 74.21875 
Q 44.046875 74.21875 50.515625 64.515625 
Q 56.984375 54.828125 56.984375 36.375 
Q 56.984375 17.96875 50.515625 8.265625 
Q 44.046875 -1.421875 31.78125 -1.421875 
Q 19.53125 -1.421875 13.0625 8.265625 
Q 6.59375 17.96875 6.59375 36.375 
Q 6.59375 54.828125 13.0625 64.515625 
Q 19.53125 74.21875 31.78125 74.21875 
z
&quot; id=&quot;DejaVuSans-48&quot;/&gt;
       &lt;path d=&quot;M 10.6875 12.40625 
L 21 12.40625 
L 21 0 
L 10.6875 0 
z
&quot; id=&quot;DejaVuSans-46&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(65.881165 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_2&quot;&gt;
     &lt;g id=&quot;line2d_2&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;114.414545&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_2&quot;&gt;
      &lt;!-- 0.5 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 10.796875 72.90625 
L 49.515625 72.90625 
L 49.515625 64.59375 
L 19.828125 64.59375 
L 19.828125 46.734375 
Q 21.96875 47.46875 24.109375 47.828125 
Q 26.265625 48.1875 28.421875 48.1875 
Q 40.625 48.1875 47.75 41.5 
Q 54.890625 34.8125 54.890625 23.390625 
Q 54.890625 11.625 47.5625 5.09375 
Q 40.234375 -1.421875 26.90625 -1.421875 
Q 22.3125 -1.421875 17.546875 -0.640625 
Q 12.796875 0.140625 7.71875 1.703125 
L 7.71875 11.625 
Q 12.109375 9.234375 16.796875 8.0625 
Q 21.484375 6.890625 26.703125 6.890625 
Q 35.15625 6.890625 40.078125 11.328125 
Q 45.015625 15.765625 45.015625 23.390625 
Q 45.015625 31 40.078125 35.4375 
Q 35.15625 39.890625 26.703125 39.890625 
Q 22.75 39.890625 18.8125 39.015625 
Q 14.890625 38.140625 10.796875 36.28125 
z
&quot; id=&quot;DejaVuSans-53&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(106.462983 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_3&quot;&gt;
     &lt;g id=&quot;line2d_3&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;154.996364&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_3&quot;&gt;
      &lt;!-- 1.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 12.40625 8.296875 
L 28.515625 8.296875 
L 28.515625 63.921875 
L 10.984375 60.40625 
L 10.984375 69.390625 
L 28.421875 72.90625 
L 38.28125 72.90625 
L 38.28125 8.296875 
L 54.390625 8.296875 
L 54.390625 0 
L 12.40625 0 
z
&quot; id=&quot;DejaVuSans-49&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(147.044801 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_4&quot;&gt;
     &lt;g id=&quot;line2d_4&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;195.578182&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_4&quot;&gt;
      &lt;!-- 1.5 --&gt;
      &lt;g transform=&quot;translate(187.626619 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_5&quot;&gt;
     &lt;g id=&quot;line2d_5&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;236.16&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_5&quot;&gt;
      &lt;!-- 2.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 19.1875 8.296875 
L 53.609375 8.296875 
L 53.609375 0 
L 7.328125 0 
L 7.328125 8.296875 
Q 12.9375 14.109375 22.625 23.890625 
Q 32.328125 33.6875 34.8125 36.53125 
Q 39.546875 41.84375 41.421875 45.53125 
Q 43.3125 49.21875 43.3125 52.78125 
Q 43.3125 58.59375 39.234375 62.25 
Q 35.15625 65.921875 28.609375 65.921875 
Q 23.96875 65.921875 18.8125 64.3125 
Q 13.671875 62.703125 7.8125 59.421875 
L 7.8125 69.390625 
Q 13.765625 71.78125 18.9375 73 
Q 24.125 74.21875 28.421875 74.21875 
Q 39.75 74.21875 46.484375 68.546875 
Q 53.21875 62.890625 53.21875 53.421875 
Q 53.21875 48.921875 51.53125 44.890625 
Q 49.859375 40.875 45.40625 35.40625 
Q 44.1875 33.984375 37.640625 27.21875 
Q 31.109375 20.453125 19.1875 8.296875 
z
&quot; id=&quot;DejaVuSans-50&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(228.208438 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_6&quot;&gt;
     &lt;g id=&quot;line2d_6&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;276.741818&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_6&quot;&gt;
      &lt;!-- 2.5 --&gt;
      &lt;g transform=&quot;translate(268.790256 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_7&quot;&gt;
     &lt;g id=&quot;line2d_7&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;317.323636&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_7&quot;&gt;
      &lt;!-- 3.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 40.578125 39.3125 
Q 47.65625 37.796875 51.625 33 
Q 55.609375 28.21875 55.609375 21.1875 
Q 55.609375 10.40625 48.1875 4.484375 
Q 40.765625 -1.421875 27.09375 -1.421875 
Q 22.515625 -1.421875 17.65625 -0.515625 
Q 12.796875 0.390625 7.625 2.203125 
L 7.625 11.71875 
Q 11.71875 9.328125 16.59375 8.109375 
Q 21.484375 6.890625 26.8125 6.890625 
Q 36.078125 6.890625 40.9375 10.546875 
Q 45.796875 14.203125 45.796875 21.1875 
Q 45.796875 27.640625 41.28125 31.265625 
Q 36.765625 34.90625 28.71875 34.90625 
L 20.21875 34.90625 
L 20.21875 43.015625 
L 29.109375 43.015625 
Q 36.375 43.015625 40.234375 45.921875 
Q 44.09375 48.828125 44.09375 54.296875 
Q 44.09375 59.90625 40.109375 62.90625 
Q 36.140625 65.921875 28.71875 65.921875 
Q 24.65625 65.921875 20.015625 65.03125 
Q 15.375 64.15625 9.8125 62.3125 
L 9.8125 71.09375 
Q 15.4375 72.65625 20.34375 73.4375 
Q 25.25 74.21875 29.59375 74.21875 
Q 40.828125 74.21875 47.359375 69.109375 
Q 53.90625 64.015625 53.90625 55.328125 
Q 53.90625 49.265625 50.4375 45.09375 
Q 46.96875 40.921875 40.578125 39.3125 
z
&quot; id=&quot;DejaVuSans-51&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(309.372074 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_8&quot;&gt;
     &lt;g id=&quot;line2d_8&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;357.905455&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_8&quot;&gt;
      &lt;!-- 3.5 --&gt;
      &lt;g transform=&quot;translate(349.953892 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_9&quot;&gt;
     &lt;g id=&quot;line2d_9&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;398.487273&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_9&quot;&gt;
      &lt;!-- 4.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 37.796875 64.3125 
L 12.890625 25.390625 
L 37.796875 25.390625 
z
M 35.203125 72.90625 
L 47.609375 72.90625 
L 47.609375 25.390625 
L 58.015625 25.390625 
L 58.015625 17.1875 
L 47.609375 17.1875 
L 47.609375 0 
L 37.796875 0 
L 37.796875 17.1875 
L 4.890625 17.1875 
L 4.890625 26.703125 
z
&quot; id=&quot;DejaVuSans-52&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(390.53571 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_2&quot;&gt;
    &lt;g id=&quot;ytick_1&quot;&gt;
     &lt;g id=&quot;line2d_10&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L -3.5 0 
&quot; id=&quot;m000eefb66b&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;295.488&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_10&quot;&gt;
      &lt;!-- 1.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 299.287219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_2&quot;&gt;
     &lt;g id=&quot;line2d_11&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;265.248&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_11&quot;&gt;
      &lt;!-- 1.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 269.047219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_3&quot;&gt;
     &lt;g id=&quot;line2d_12&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;235.008&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_12&quot;&gt;
      &lt;!-- 2.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 238.807219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_4&quot;&gt;
     &lt;g id=&quot;line2d_13&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;204.768&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_13&quot;&gt;
      &lt;!-- 2.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 208.567219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_5&quot;&gt;
     &lt;g id=&quot;line2d_14&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;174.528&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_14&quot;&gt;
      &lt;!-- 3.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 178.327219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_6&quot;&gt;
     &lt;g id=&quot;line2d_15&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;144.288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_15&quot;&gt;
      &lt;!-- 3.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 148.087219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_7&quot;&gt;
     &lt;g id=&quot;line2d_16&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;114.048&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_16&quot;&gt;
      &lt;!-- 4.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 117.847219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_8&quot;&gt;
     &lt;g id=&quot;line2d_17&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;83.808&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_17&quot;&gt;
      &lt;!-- 4.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 87.607219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_9&quot;&gt;
     &lt;g id=&quot;line2d_18&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;53.568&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_18&quot;&gt;
      &lt;!-- 5.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 57.367219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;line2d_19&quot;&gt;
    &lt;path clip-path=&quot;url(#p7ddf02e083)&quot; d=&quot;M 73.832727 295.488 
L 154.996364 235.008 
L 236.16 174.528 
L 317.323636 114.048 
L 398.487273 53.568 
&quot; style=&quot;fill:none;stroke:#1f77b4;stroke-linecap:square;stroke-width:1.5;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_3&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 57.6 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_4&quot;&gt;
    &lt;path d=&quot;M 414.72 307.584 
L 414.72 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_5&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 414.72 307.584 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_6&quot;&gt;
    &lt;path d=&quot;M 57.6 41.472 
L 414.72 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;text_19&quot;&gt;
    &lt;!-- This is an example figure --&gt;
    &lt;defs&gt;
     &lt;path d=&quot;M -0.296875 72.90625 
L 61.375 72.90625 
L 61.375 64.59375 
L 35.5 64.59375 
L 35.5 0 
L 25.59375 0 
L 25.59375 64.59375 
L -0.296875 64.59375 
z
&quot; id=&quot;DejaVuSans-84&quot;/&gt;
     &lt;path d=&quot;M 54.890625 33.015625 
L 54.890625 0 
L 45.90625 0 
L 45.90625 32.71875 
Q 45.90625 40.484375 42.875 44.328125 
Q 39.84375 48.1875 33.796875 48.1875 
Q 26.515625 48.1875 22.3125 43.546875 
Q 18.109375 38.921875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 75.984375 
L 18.109375 75.984375 
L 18.109375 46.1875 
Q 21.34375 51.125 25.703125 53.5625 
Q 30.078125 56 35.796875 56 
Q 45.21875 56 50.046875 50.171875 
Q 54.890625 44.34375 54.890625 33.015625 
z
&quot; id=&quot;DejaVuSans-104&quot;/&gt;
     &lt;path d=&quot;M 9.421875 54.6875 
L 18.40625 54.6875 
L 18.40625 0 
L 9.421875 0 
z
M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 64.59375 
L 9.421875 64.59375 
z
&quot; id=&quot;DejaVuSans-105&quot;/&gt;
     &lt;path d=&quot;M 44.28125 53.078125 
L 44.28125 44.578125 
Q 40.484375 46.53125 36.375 47.5 
Q 32.28125 48.484375 27.875 48.484375 
Q 21.1875 48.484375 17.84375 46.4375 
Q 14.5 44.390625 14.5 40.28125 
Q 14.5 37.15625 16.890625 35.375 
Q 19.28125 33.59375 26.515625 31.984375 
L 29.59375 31.296875 
Q 39.15625 29.25 43.1875 25.515625 
Q 47.21875 21.78125 47.21875 15.09375 
Q 47.21875 7.46875 41.1875 3.015625 
Q 35.15625 -1.421875 24.609375 -1.421875 
Q 20.21875 -1.421875 15.453125 -0.5625 
Q 10.6875 0.296875 5.421875 2 
L 5.421875 11.28125 
Q 10.40625 8.6875 15.234375 7.390625 
Q 20.0625 6.109375 24.8125 6.109375 
Q 31.15625 6.109375 34.5625 8.28125 
Q 37.984375 10.453125 37.984375 14.40625 
Q 37.984375 18.0625 35.515625 20.015625 
Q 33.0625 21.96875 24.703125 23.78125 
L 21.578125 24.515625 
Q 13.234375 26.265625 9.515625 29.90625 
Q 5.8125 33.546875 5.8125 39.890625 
Q 5.8125 47.609375 11.28125 51.796875 
Q 16.75 56 26.8125 56 
Q 31.78125 56 36.171875 55.265625 
Q 40.578125 54.546875 44.28125 53.078125 
z
&quot; id=&quot;DejaVuSans-115&quot;/&gt;
     &lt;path id=&quot;DejaVuSans-32&quot;/&gt;
     &lt;path d=&quot;M 34.28125 27.484375 
Q 23.390625 27.484375 19.1875 25 
Q 14.984375 22.515625 14.984375 16.5 
Q 14.984375 11.71875 18.140625 8.90625 
Q 21.296875 6.109375 26.703125 6.109375 
Q 34.1875 6.109375 38.703125 11.40625 
Q 43.21875 16.703125 43.21875 25.484375 
L 43.21875 27.484375 
z
M 52.203125 31.203125 
L 52.203125 0 
L 43.21875 0 
L 43.21875 8.296875 
Q 40.140625 3.328125 35.546875 0.953125 
Q 30.953125 -1.421875 24.3125 -1.421875 
Q 15.921875 -1.421875 10.953125 3.296875 
Q 6 8.015625 6 15.921875 
Q 6 25.140625 12.171875 29.828125 
Q 18.359375 34.515625 30.609375 34.515625 
L 43.21875 34.515625 
L 43.21875 35.40625 
Q 43.21875 41.609375 39.140625 45 
Q 35.0625 48.390625 27.6875 48.390625 
Q 23 48.390625 18.546875 47.265625 
Q 14.109375 46.140625 10.015625 43.890625 
L 10.015625 52.203125 
Q 14.9375 54.109375 19.578125 55.046875 
Q 24.21875 56 28.609375 56 
Q 40.484375 56 46.34375 49.84375 
Q 52.203125 43.703125 52.203125 31.203125 
z
&quot; id=&quot;DejaVuSans-97&quot;/&gt;
     &lt;path d=&quot;M 54.890625 33.015625 
L 54.890625 0 
L 45.90625 0 
L 45.90625 32.71875 
Q 45.90625 40.484375 42.875 44.328125 
Q 39.84375 48.1875 33.796875 48.1875 
Q 26.515625 48.1875 22.3125 43.546875 
Q 18.109375 38.921875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 21.34375 51.125 25.703125 53.5625 
Q 30.078125 56 35.796875 56 
Q 45.21875 56 50.046875 50.171875 
Q 54.890625 44.34375 54.890625 33.015625 
z
&quot; id=&quot;DejaVuSans-110&quot;/&gt;
     &lt;path d=&quot;M 56.203125 29.59375 
L 56.203125 25.203125 
L 14.890625 25.203125 
Q 15.484375 15.921875 20.484375 11.0625 
Q 25.484375 6.203125 34.421875 6.203125 
Q 39.59375 6.203125 44.453125 7.46875 
Q 49.3125 8.734375 54.109375 11.28125 
L 54.109375 2.78125 
Q 49.265625 0.734375 44.1875 -0.34375 
Q 39.109375 -1.421875 33.890625 -1.421875 
Q 20.796875 -1.421875 13.15625 6.1875 
Q 5.515625 13.8125 5.515625 26.8125 
Q 5.515625 40.234375 12.765625 48.109375 
Q 20.015625 56 32.328125 56 
Q 43.359375 56 49.78125 48.890625 
Q 56.203125 41.796875 56.203125 29.59375 
z
M 47.21875 32.234375 
Q 47.125 39.59375 43.09375 43.984375 
Q 39.0625 48.390625 32.421875 48.390625 
Q 24.90625 48.390625 20.390625 44.140625 
Q 15.875 39.890625 15.1875 32.171875 
z
&quot; id=&quot;DejaVuSans-101&quot;/&gt;
     &lt;path d=&quot;M 54.890625 54.6875 
L 35.109375 28.078125 
L 55.90625 0 
L 45.3125 0 
L 29.390625 21.484375 
L 13.484375 0 
L 2.875 0 
L 24.125 28.609375 
L 4.6875 54.6875 
L 15.28125 54.6875 
L 29.78125 35.203125 
L 44.28125 54.6875 
z
&quot; id=&quot;DejaVuSans-120&quot;/&gt;
     &lt;path d=&quot;M 52 44.1875 
Q 55.375 50.25 60.0625 53.125 
Q 64.75 56 71.09375 56 
Q 79.640625 56 84.28125 50.015625 
Q 88.921875 44.046875 88.921875 33.015625 
L 88.921875 0 
L 79.890625 0 
L 79.890625 32.71875 
Q 79.890625 40.578125 77.09375 44.375 
Q 74.3125 48.1875 68.609375 48.1875 
Q 61.625 48.1875 57.5625 43.546875 
Q 53.515625 38.921875 53.515625 30.90625 
L 53.515625 0 
L 44.484375 0 
L 44.484375 32.71875 
Q 44.484375 40.625 41.703125 44.40625 
Q 38.921875 48.1875 33.109375 48.1875 
Q 26.21875 48.1875 22.15625 43.53125 
Q 18.109375 38.875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 21.1875 51.21875 25.484375 53.609375 
Q 29.78125 56 35.6875 56 
Q 41.65625 56 45.828125 52.96875 
Q 50 49.953125 52 44.1875 
z
&quot; id=&quot;DejaVuSans-109&quot;/&gt;
     &lt;path d=&quot;M 18.109375 8.203125 
L 18.109375 -20.796875 
L 9.078125 -20.796875 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.390625 
Q 20.953125 51.265625 25.265625 53.625 
Q 29.59375 56 35.59375 56 
Q 45.5625 56 51.78125 48.09375 
Q 58.015625 40.1875 58.015625 27.296875 
Q 58.015625 14.40625 51.78125 6.484375 
Q 45.5625 -1.421875 35.59375 -1.421875 
Q 29.59375 -1.421875 25.265625 0.953125 
Q 20.953125 3.328125 18.109375 8.203125 
z
M 48.6875 27.296875 
Q 48.6875 37.203125 44.609375 42.84375 
Q 40.53125 48.484375 33.40625 48.484375 
Q 26.265625 48.484375 22.1875 42.84375 
Q 18.109375 37.203125 18.109375 27.296875 
Q 18.109375 17.390625 22.1875 11.75 
Q 26.265625 6.109375 33.40625 6.109375 
Q 40.53125 6.109375 44.609375 11.75 
Q 48.6875 17.390625 48.6875 27.296875 
z
&quot; id=&quot;DejaVuSans-112&quot;/&gt;
     &lt;path d=&quot;M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 0 
L 9.421875 0 
z
&quot; id=&quot;DejaVuSans-108&quot;/&gt;
     &lt;path d=&quot;M 37.109375 75.984375 
L 37.109375 68.5 
L 28.515625 68.5 
Q 23.6875 68.5 21.796875 66.546875 
Q 19.921875 64.59375 19.921875 59.515625 
L 19.921875 54.6875 
L 34.71875 54.6875 
L 34.71875 47.703125 
L 19.921875 47.703125 
L 19.921875 0 
L 10.890625 0 
L 10.890625 47.703125 
L 2.296875 47.703125 
L 2.296875 54.6875 
L 10.890625 54.6875 
L 10.890625 58.5 
Q 10.890625 67.625 15.140625 71.796875 
Q 19.390625 75.984375 28.609375 75.984375 
z
&quot; id=&quot;DejaVuSans-102&quot;/&gt;
     &lt;path d=&quot;M 45.40625 27.984375 
Q 45.40625 37.75 41.375 43.109375 
Q 37.359375 48.484375 30.078125 48.484375 
Q 22.859375 48.484375 18.828125 43.109375 
Q 14.796875 37.75 14.796875 27.984375 
Q 14.796875 18.265625 18.828125 12.890625 
Q 22.859375 7.515625 30.078125 7.515625 
Q 37.359375 7.515625 41.375 12.890625 
Q 45.40625 18.265625 45.40625 27.984375 
z
M 54.390625 6.78125 
Q 54.390625 -7.171875 48.1875 -13.984375 
Q 42 -20.796875 29.203125 -20.796875 
Q 24.46875 -20.796875 20.265625 -20.09375 
Q 16.0625 -19.390625 12.109375 -17.921875 
L 12.109375 -9.1875 
Q 16.0625 -11.328125 19.921875 -12.34375 
Q 23.78125 -13.375 27.78125 -13.375 
Q 36.625 -13.375 41.015625 -8.765625 
Q 45.40625 -4.15625 45.40625 5.171875 
L 45.40625 9.625 
Q 42.625 4.78125 38.28125 2.390625 
Q 33.9375 0 27.875 0 
Q 17.828125 0 11.671875 7.65625 
Q 5.515625 15.328125 5.515625 27.984375 
Q 5.515625 40.671875 11.671875 48.328125 
Q 17.828125 56 27.875 56 
Q 33.9375 56 38.28125 53.609375 
Q 42.625 51.21875 45.40625 46.390625 
L 45.40625 54.6875 
L 54.390625 54.6875 
z
&quot; id=&quot;DejaVuSans-103&quot;/&gt;
     &lt;path d=&quot;M 8.5 21.578125 
L 8.5 54.6875 
L 17.484375 54.6875 
L 17.484375 21.921875 
Q 17.484375 14.15625 20.5 10.265625 
Q 23.53125 6.390625 29.59375 6.390625 
Q 36.859375 6.390625 41.078125 11.03125 
Q 45.3125 15.671875 45.3125 23.6875 
L 45.3125 54.6875 
L 54.296875 54.6875 
L 54.296875 0 
L 45.3125 0 
L 45.3125 8.40625 
Q 42.046875 3.421875 37.71875 1 
Q 33.40625 -1.421875 27.6875 -1.421875 
Q 18.265625 -1.421875 13.375 4.4375 
Q 8.5 10.296875 8.5 21.578125 
z
M 31.109375 56 
z
&quot; id=&quot;DejaVuSans-117&quot;/&gt;
     &lt;path d=&quot;M 41.109375 46.296875 
Q 39.59375 47.171875 37.8125 47.578125 
Q 36.03125 48 33.890625 48 
Q 26.265625 48 22.1875 43.046875 
Q 18.109375 38.09375 18.109375 28.8125 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 20.953125 51.171875 25.484375 53.578125 
Q 30.03125 56 36.53125 56 
Q 37.453125 56 38.578125 55.875 
Q 39.703125 55.765625 41.0625 55.515625 
z
&quot; id=&quot;DejaVuSans-114&quot;/&gt;
    &lt;/defs&gt;
    &lt;g transform=&quot;translate(160.5225 35.472)scale(0.12 -0.12)&quot;&gt;
     &lt;use xlink:href=&quot;#DejaVuSans-84&quot;/&gt;
     &lt;use x=&quot;61.083984&quot; xlink:href=&quot;#DejaVuSans-104&quot;/&gt;
     &lt;use x=&quot;124.462891&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;152.246094&quot; xlink:href=&quot;#DejaVuSans-115&quot;/&gt;
     &lt;use x=&quot;204.345703&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;236.132812&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;263.916016&quot; xlink:href=&quot;#DejaVuSans-115&quot;/&gt;
     &lt;use x=&quot;316.015625&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;347.802734&quot; xlink:href=&quot;#DejaVuSans-97&quot;/&gt;
     &lt;use x=&quot;409.082031&quot; xlink:href=&quot;#DejaVuSans-110&quot;/&gt;
     &lt;use x=&quot;472.460938&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;504.248047&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
     &lt;use x=&quot;565.755859&quot; xlink:href=&quot;#DejaVuSans-120&quot;/&gt;
     &lt;use x=&quot;624.935547&quot; xlink:href=&quot;#DejaVuSans-97&quot;/&gt;
     &lt;use x=&quot;686.214844&quot; xlink:href=&quot;#DejaVuSans-109&quot;/&gt;
     &lt;use x=&quot;783.626953&quot; xlink:href=&quot;#DejaVuSans-112&quot;/&gt;
     &lt;use x=&quot;847.103516&quot; xlink:href=&quot;#DejaVuSans-108&quot;/&gt;
     &lt;use x=&quot;874.886719&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
     &lt;use x=&quot;936.410156&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;968.197266&quot; xlink:href=&quot;#DejaVuSans-102&quot;/&gt;
     &lt;use x=&quot;1003.402344&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;1031.185547&quot; xlink:href=&quot;#DejaVuSans-103&quot;/&gt;
     &lt;use x=&quot;1094.662109&quot; xlink:href=&quot;#DejaVuSans-117&quot;/&gt;
     &lt;use x=&quot;1158.041016&quot; xlink:href=&quot;#DejaVuSans-114&quot;/&gt;
     &lt;use x=&quot;1199.123047&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
    &lt;/g&gt;
   &lt;/g&gt;
  &lt;/g&gt;
 &lt;/g&gt;
 &lt;defs&gt;
  &lt;clipPath id=&quot;p7ddf02e083&quot;&gt;
   &lt;rect height=&quot;266.112&quot; width=&quot;357.12&quot; x=&quot;57.6&quot; y=&quot;41.472&quot;/&gt;
  &lt;/clipPath&gt;
 &lt;/defs&gt;
&lt;/svg&gt;
&lt;/p&gt;
&lt;h3 id=&quot;more-complex&quot;&gt;More Complex&lt;/h3&gt;
&lt;p&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;
&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;
  &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;
&lt;!-- Created with matplotlib (https://matplotlib.org/) --&gt;
&lt;svg height=&quot;345.6pt&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 460.8 345.6&quot; width=&quot;460.8pt&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;
 &lt;defs&gt;
  &lt;style type=&quot;text/css&quot;&gt;
*{stroke-linecap:butt;stroke-linejoin:round;}
  &lt;/style&gt;
 &lt;/defs&gt;
 &lt;g id=&quot;figure_1&quot;&gt;
  &lt;g id=&quot;patch_1&quot;&gt;
   &lt;path d=&quot;M 0 345.6 
L 460.8 345.6 
L 460.8 0 
L 0 0 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_1&quot;&gt;
   &lt;g id=&quot;patch_2&quot;&gt;
    &lt;path d=&quot;M 66.729821 84.859826 
L 153.505473 84.859826 
L 153.505473 41.472 
L 66.729821 41.472 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#pa1be8c4ae7)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image58e050d4a0&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;66.729821&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAAA5lJREFUeJztXN1OmkEQ3T8FrFAV0aCm/mubaBOT9hn6Rn3Kpia2lta2qcFKUVFUQEC+3e31cubCKzMXc+6+k9n5lhyW2ZnZRX/Y+RjVGPzsi3FK2dsH4OJULnk2rTuw8dU59NVsA5dVZ4FzZ1fAhftO+s5KGWzUYIjjejh/nZvEsRSyDKi4Uk0Jg8PihEXy6CdQxFDBc0NEYAARgQFEBAZwvjyN5OkFcNnaInC2kwbArNFEm34ffW0u40w+fUO74HFuG2vJc7T4PYqlKeDMlUa7mSJwejhCu9wE2tUb6XMJfYX2LY7bWsW5ASN4dogIDCAiMICIwADO/cPsNXS6wOnhPHC+mGbM+uA1jmvdA2dqpziTQh6oOMTMN5tPA6AeBfRFfLWyC8y+7QiDsMrjPFQhB5Tv9tJXRig8KL2EmxnVbAElK4EBRAQGEBEYQERgAEeVkNVZA7nDY6DM2zQQm+4AbAIRECmYxQqSHoOu/1xLnu1yFWyy+l/0v7+L/k/xc4YVDKa6/wicLaclep3H4B1buOlRFSzty0pgABGBAUQEBhARGMCZLgYds4DZcbjF/rHO0sAZiBJyLG8DZ4ksOlxiJhkfiYz24E1q8wuDsHq/h74CkdFOYok6TGJfWB/X8R176eeKORxnO9irH68yKCUrgQVEBAYQERhARGAApwNRCqYwQfRZ79KSd6zMPMlVVikBZx+wF63nXgIXjk5SooS+XP0SuFgkguT1DY6dJuwM9qftTbq58A3sy1P9b723BZysBAYQERhARGAAp4i2HPX7r1bxrJAfS1D0EM8JKYc623YP7YjfbEUkWCaXJjtxGauvofYbOL2A1WL9DpO68AUP7Kp9TDjDID0krHc3cK4PWFVW59LeZAkRgQFEBAYQERjA+e+/gLQLGOxi3gGnv6Zj9SYedtV3eENGtbEiG9aXgDMnWL2M6+kGQY9wM0BVTJWhrtI8cVOiMVkzY4kq5cs3MYHThQL6wjcKnhsiAgOICAwgIjCAs9uY6el7PBBMtiR31lIiIyqyxNmbSNze0bU/6J+4umqv03nEAWalZgarr55qWx7+QG6OqAT3sc06fl7LNbAiS81DF/FmlKwEBhARGEBEYAARgQGcoq6gEm1FKiM0nTTAZos4zkY8w6TPiVbgI3H+aeMV2o0TXdxEKIfZPQXKv+7hpkF54irvRVqOp/7Dw/TwphF1lkpWAgOICAwgIjCAiMAA/wEWoBG0oIAf/QAAAABJRU5ErkJggg==&quot; y=&quot;-40.759826&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_1&quot;&gt;
    &lt;g id=&quot;xtick_1&quot;&gt;
     &lt;g id=&quot;line2d_1&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L 0 3.5 
&quot; id=&quot;m8d52673788&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;68.899212&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_2&quot;&gt;
     &lt;g id=&quot;line2d_2&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;112.287038&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_2&quot;&gt;
    &lt;g id=&quot;ytick_1&quot;&gt;
     &lt;g id=&quot;line2d_3&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L -3.5 0 
&quot; id=&quot;m3f9876b7cc&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;43.641391&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_1&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 31.78125 66.40625 
Q 24.171875 66.40625 20.328125 58.90625 
Q 16.5 51.421875 16.5 36.375 
Q 16.5 21.390625 20.328125 13.890625 
Q 24.171875 6.390625 31.78125 6.390625 
Q 39.453125 6.390625 43.28125 13.890625 
Q 47.125 21.390625 47.125 36.375 
Q 47.125 51.421875 43.28125 58.90625 
Q 39.453125 66.40625 31.78125 66.40625 
z
M 31.78125 74.21875 
Q 44.046875 74.21875 50.515625 64.515625 
Q 56.984375 54.828125 56.984375 36.375 
Q 56.984375 17.96875 50.515625 8.265625 
Q 44.046875 -1.421875 31.78125 -1.421875 
Q 19.53125 -1.421875 13.0625 8.265625 
Q 6.59375 17.96875 6.59375 36.375 
Q 6.59375 54.828125 13.0625 64.515625 
Q 19.53125 74.21875 31.78125 74.21875 
z
&quot; id=&quot;DejaVuSans-48&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(53.367321 47.44061)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_2&quot;&gt;
     &lt;g id=&quot;line2d_4&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;65.335304&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_2&quot;&gt;
      &lt;!-- 5 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 10.796875 72.90625 
L 49.515625 72.90625 
L 49.515625 64.59375 
L 19.828125 64.59375 
L 19.828125 46.734375 
Q 21.96875 47.46875 24.109375 47.828125 
Q 26.265625 48.1875 28.421875 48.1875 
Q 40.625 48.1875 47.75 41.5 
Q 54.890625 34.8125 54.890625 23.390625 
Q 54.890625 11.625 47.5625 5.09375 
Q 40.234375 -1.421875 26.90625 -1.421875 
Q 22.3125 -1.421875 17.546875 -0.640625 
Q 12.796875 0.140625 7.71875 1.703125 
L 7.71875 11.625 
Q 12.109375 9.234375 16.796875 8.0625 
Q 21.484375 6.890625 26.703125 6.890625 
Q 35.15625 6.890625 40.078125 11.328125 
Q 45.015625 15.765625 45.015625 23.390625 
Q 45.015625 31 40.078125 35.4375 
Q 35.15625 39.890625 26.703125 39.890625 
Q 22.75 39.890625 18.8125 39.015625 
Q 14.890625 38.140625 10.796875 36.28125 
z
&quot; id=&quot;DejaVuSans-53&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(53.367321 69.134523)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_3&quot;&gt;
    &lt;path d=&quot;M 66.729821 84.859826 
L 66.729821 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_4&quot;&gt;
    &lt;path d=&quot;M 153.505473 84.859826 
L 153.505473 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_5&quot;&gt;
    &lt;path d=&quot;M 66.729821 84.859826 
L 153.505473 84.859826 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_6&quot;&gt;
    &lt;path d=&quot;M 66.729821 41.472 
L 153.505473 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_2&quot;&gt;
   &lt;g id=&quot;patch_7&quot;&gt;
    &lt;path d=&quot;M 192.772174 84.859826 
L 279.547826 84.859826 
L 279.547826 41.472 
L 192.772174 41.472 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#pa6ebbb048c)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;imageed3b3405ea&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;192.772174&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAAA/5JREFUeJztmz1vHFUUhmd2Zsf75f02wTZ2PkRiB0cgI7BCBHEKAggpQfkDqaDmL9BR5R+koIXKRYqkQlGEAlIkiEUiB2yUmJBItvfDu55d7+7MDvX1c4tU0SnO251XZ+6du6/uvnPm3HG/mPs2cY4gfHfmKOV4gzG44NcNIx6tLCCndXqCYw1BOfW1x+CS4QicO/umEcd//4Oc8eoyuINZ3kf17jZvJJUC1bj4FvNcM0xcFymF/7jQOMvxySheO1QEAVARBEBFEADfSeDLTm/KB1d6egguOXPCiNMt5tQe0dDT23vg9q6+wzk3e+BaCzkjruczyIlTNMk4sHB7DXA2BCEfVMaeOV5M33cyWzvgkgwTdScIgIogACqCAKgIAuDbKkSbCTcXaICTz00Dtxn61B1WtEkUgbMZW/rZLrhidtqcc66AnINpD5zL5w+n+xUr69IfnNPl7TrjCdOYR1kaf+v8LLjJn34DpztBAFQEAVARBEBFEAA/yQQgowyN7dg9VrlRxaxe3ZjuN1ikOdng8VnAScIQ3MR2y4hTx4rIqd96CK53bQVc0KbjJlnL72Ex3aOvsuvrB0hJtcjtfH2eeRxd8bqhIgiAiiAAKoIAuKuXv4ebZh6y97p/6RS40s+bRnz4/knkeP0YXOcEq+/q2p/gDi+wZ+2HpplGhTRyJvb64Nwnz8j5rPC7l86Ay73keIOaWeKPfUuP+ZctcI7Hhx7dCQKgIgiAiiAAKoIA+ME9iyF+cg5civ7qxKfM3mscUNPeGzQ/19LX3v9yCVxx7XdOeu5tI2yfziIluM01DT7/AFyUp0n2K1xD/tYGuFzenHf3Gnvk+b7lNYAFuhMEQEUQABVBANzlb27gD7p28z4S/eNz4MIl83DuoMT/2EyTbyqDfR6UdSOeT4oKfKM5LJsek33BQsoLLSeOLUi2X4DrX1wEl7lDb0qVS+ZYM1OvNufjTXC6EwRARRAAFUEAVAQBcC9/+B2M2dvdR2LjY7YpyxtdI24vTiKnevsvTprLgXN8mrozoqmPjpsG2DzLYm3yOa/rzLNoTPdYNBa3aPTdk5yj8sA8n+SGvC4pWNYZs+rVnSAAKoIAqAgCoCIIgO81uiDbK/wypfzjA169fNYIowxbfG6RZt24MA2udvdfcLufzoOr/GBW89Xxe8hpLtEQU/wa1yk/4tqHNbZegw6reafZNsKdK2yLVjb4pVF/muPrThAAFUEAVAQBUBEEwP0sf51l45hGNPqI7bvOvHn2pn6fn4yGCzVOGnHK7Ese/h2vPwEXr5pGHKw/5fiWitx28Hk0UwJ3WGWeN+TvMU6bDyGDIit+2yfA/k4HnO4EAVARBEBFEAAVQQD+B/wBDnM8dokiAAAAAElFTkSuQmCC&quot; y=&quot;-40.759826&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_3&quot;&gt;
    &lt;g id=&quot;xtick_3&quot;&gt;
     &lt;g id=&quot;line2d_5&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;194.941565&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_4&quot;&gt;
     &lt;g id=&quot;line2d_6&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;238.329391&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_4&quot;&gt;
    &lt;g id=&quot;ytick_3&quot;&gt;
     &lt;g id=&quot;line2d_7&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;43.641391&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_4&quot;&gt;
     &lt;g id=&quot;line2d_8&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;65.335304&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_8&quot;&gt;
    &lt;path d=&quot;M 192.772174 84.859826 
L 192.772174 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_9&quot;&gt;
    &lt;path d=&quot;M 279.547826 84.859826 
L 279.547826 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_10&quot;&gt;
    &lt;path d=&quot;M 192.772174 84.859826 
L 279.547826 84.859826 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_11&quot;&gt;
    &lt;path d=&quot;M 192.772174 41.472 
L 279.547826 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_3&quot;&gt;
   &lt;g id=&quot;patch_12&quot;&gt;
    &lt;path d=&quot;M 318.814527 84.859826 
L 405.590179 84.859826 
L 405.590179 41.472 
L 318.814527 41.472 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p54f3472bca)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image0b58a52681&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;318.814527&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABC9JREFUeJztm1tsk2UYx7+vh7Wd7bp2He0O3dhGOQ8WzBZAA2oCgQSIRi7UmHAJegGJdwYvTLgwQeMFV4QLIxpjSExMSPDC4IHERAEjMmShgx2FduLadaOj7Q4t129/3zV5Lp7/3fvL853277fne573fe1dRz+tWXUKTi3WI8s9Mwc2/U63MY6kVxCz0O0BW+zAJa3U2TRYZaAHrOa2jbFruYoY75/3wUp7NoKtBFxgwbEimDXyAGjszA5jnLy6jBjfbyNghde3gfEuVM9daoIAqQkCpCYIkKfqtQGfdjSCNdqM67r0rzGe29WBGNcSk3Df6Ztgo58MgqU+Hgarbuk1xuNvBhET7tsK1nrpHzCrtxOo1M7zBZb5gRC/bn4QzAw2ICZZ6ANrHi6A6ZsgQGqCAKkJAqQmCJB9IHkKmXP21S4ERr5lMl19qd8c+9yI8f8xCjZ/YDNY0+W/eXPhJrDx99cZ48YZJv7EtRyPe6sFzJfnx0bbtXmwzGthsKftdZU6b8OK8ZGs2QEyfRMESE0QIDVBgNQEAbL3B48xpbjoTf4NVqGROwsmcDPRrYRYSU7v94F1/rTEm3NIdu6S2S6fOsjqPjTN4wI5tryLbfyQSHx1B6z0MtvgMzu9xjg6wvPPbeDfMXqPcfomCJCaIEBqggCpCQLkmT65HbD7wj2wcguTbmFLyBj786uICfx6F6zTvYnnSjGBP1kLZK37xpz/jg37ERO+yio9d4jJNfSQc+IP3+sHS37B+e+ugtkGz+x9gTE/cr76vyG2yvVNECA1QYDUBAFSEwTI0/CEMPs2k9gSu7lW+y9mxTx+lEGRCBc7NX93C6y66UWwmpvVZfaVqDEuxVlW++Y5t7vQww+LxA0eW24hqxW5GK5+EVrynEPfusr7D8d08ZdIqQkCpCYIkCd+/gZg5tQQmC/Pg1dCZjc0NMWYlp8nwYr7WCAGZvn/0+9wzej1rDFefTCBmOwHu8GWmh3On2FCTJ19DGZHmsFy/QFjnEizWFvY0wvmLbKg1TdBgNQEAVITBEhNECB7w0efozpJ3ORUo9OC1/o4/yR386RPtIL1XOb5/x9gN7Tja3Zz69ciPTrUjphVzp5asWFe011hsm7IcN1RfojPUGmq+/2yFrQSX94Ge3ScHyX6JgiQmiBAaoIAqQkC5PGyQWjVXA67cn5gwrLruoTZfXHExG6xKzlxhEl+/UUm9dEP14OFJszfTSWCEMckuRzkGiPfbAls7NgasOhdPoOnbLL5FK/pijOhl9Y4LPPioarnLTVBgNQEAVITBMgefPcz7tQZYGZbe6UCNnnYTLA935cRU25l+epdZDvXP8WtpdZj7rgp7jUzYKWJCddpKrPtd1bM/ttcOew0lWl3c2twNWAuCM5t466i2F8Oz5Rm613fBAFSEwRITRAgNUGAngHUDBkQD1QKdQAAAABJRU5ErkJggg==&quot; y=&quot;-40.759826&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_5&quot;&gt;
    &lt;g id=&quot;xtick_5&quot;&gt;
     &lt;g id=&quot;line2d_9&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;320.983918&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_6&quot;&gt;
     &lt;g id=&quot;line2d_10&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;364.371744&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;84.859826&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_6&quot;&gt;
    &lt;g id=&quot;ytick_5&quot;&gt;
     &lt;g id=&quot;line2d_11&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;43.641391&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_6&quot;&gt;
     &lt;g id=&quot;line2d_12&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;65.335304&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_13&quot;&gt;
    &lt;path d=&quot;M 318.814527 84.859826 
L 318.814527 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_14&quot;&gt;
    &lt;path d=&quot;M 405.590179 84.859826 
L 405.590179 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_15&quot;&gt;
    &lt;path d=&quot;M 318.814527 84.859826 
L 405.590179 84.859826 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_16&quot;&gt;
    &lt;path d=&quot;M 318.814527 41.472 
L 405.590179 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_4&quot;&gt;
   &lt;g id=&quot;patch_17&quot;&gt;
    &lt;path d=&quot;M 66.729821 136.925217 
L 153.505473 136.925217 
L 153.505473 93.537391 
L 66.729821 93.537391 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p1481aebe2e)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image12d3b201e8&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;66.729821&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABAVJREFUeJztnElvFEcUx3up6dnHs3gGnIANOArYLHZwYlmKokREEeISwheAfJuc8iFyiMQBIXHjlkVRpCy2gYigEEEMCQ4wtofMvnZzrvn1OXqH97/VT8/V3fp3zatXXWX3o4+/iJwpuSGQ43+3DRa+v2K1TbOPmPZbM2C5xy2w/VXGuSGQU3rQttrR5u+815kCWH/tBFj6z5dgrdU5sEnggmWf2c86qCQRM057YMXv/wJjlOp/l5ogQGqCAKkJAmQSzQHgJJsAa1zdAJvZsZOT1+ohprDZ4VUHQ6DZW/8yzmNCrF8+abVrz5lIn186Clb9agssWjgClrl9F8x/4zBYb3HWaqd3+Zz1dzlBcHwfSEeCAKkJAqQmCJCaIECm+2YGML/5DKw0qIDtn85a7erWAWLcw1Ww7jITXebJf2B767xmZbtptXtL7Kv4iIk/XDsFNg6YJAOXk4HwH04aRu/Y1039/Ddi3NXTYJNaCUxHggCpCQKkJgiQmiBAJvcjl1bH9TqY3+cydSkxb7UPPjuDmPTeGCyz9QRs/+IiWPnrTbDexVWrHbfsPiwZsOwu18U7cwFY+8gsWLBUBhsU7Pc3F/E+MnsTMOe3P4B0JAiQmiBAaoIAqQkCZJwak44xrCQbHx4Dm/4GnNtlpdqvcFk8PFoDS3SZOFtXzoMVHtoVc2chhxjTZ1/eD3fA8hvnwIZlJuvUS05KnChtNV3DyUDcpCcK2L+OBAFSEwRITRAgNUGATH+OiW1yghuxkg1Wvuk7T6121GojxpxhJey94vfYyM2CTW+wchzHiRL2pCFMcOnZ9JiYG9f4jbxynRvazMYy2CTFpNut2veRneeSepjk30U+33sdCQKkJgiQmiBAZpxjYZZsjMCCR9w82zvL/T3T6h5iseaN+ftvBvwdbx5PgZVu3rPayfwSYlrzLIj8AVc53cUFsMQvXOUcrZ8EC1p2fwfnioiJW0FO3v4VTEeCAKkJAqQmCJCaIEDGGzFhJeoxxVSGSbJ53E6A08nKcRwn/5QbjoPHL9h/h9dsXeBeITdvF5dxSTjuhM/MTRZmnU9WwNyFmFM+ZU5eQmMXif6Qzx75LCR7n74HpiNBgNQEAVITBEhNECB37fMvkVG8MZNMYYcrmv72Q6s9Pv82YkZ5VsxxCSvRZnXZqzHpFn+yNyuHRa4Cd47lweKOs8Yl8PwtJnAvzUnJaMU+kmtiKu3uhZh9WC94mklHggCpCQKkJgiQmiBApnLjHuCry2fBJilWjSawk+4kE7MR9wGr487yIbAgpkoP7vP0S/MDOyH6MZ8yRxm+W+Vvd8DiFJ7i/8AYzPI0U/Ku3d9wndV95pv7YF6Vp490JAiQmiBAaoIAqQkC9BpEAQ1rQpZZUQAAAABJRU5ErkJggg==&quot; y=&quot;-92.825217&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_7&quot;&gt;
    &lt;g id=&quot;xtick_7&quot;&gt;
     &lt;g id=&quot;line2d_13&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;68.899212&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_8&quot;&gt;
     &lt;g id=&quot;line2d_14&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;112.287038&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_8&quot;&gt;
    &lt;g id=&quot;ytick_7&quot;&gt;
     &lt;g id=&quot;line2d_15&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;95.706783&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_3&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(53.367321 99.506001)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_8&quot;&gt;
     &lt;g id=&quot;line2d_16&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;117.400696&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_4&quot;&gt;
      &lt;!-- 5 --&gt;
      &lt;g transform=&quot;translate(53.367321 121.199914)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_18&quot;&gt;
    &lt;path d=&quot;M 66.729821 136.925217 
L 66.729821 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_19&quot;&gt;
    &lt;path d=&quot;M 153.505473 136.925217 
L 153.505473 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_20&quot;&gt;
    &lt;path d=&quot;M 66.729821 136.925217 
L 153.505473 136.925217 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_21&quot;&gt;
    &lt;path d=&quot;M 66.729821 93.537391 
L 153.505473 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_5&quot;&gt;
   &lt;g id=&quot;patch_22&quot;&gt;
    &lt;path d=&quot;M 192.772174 136.925217 
L 279.547826 136.925217 
L 279.547826 93.537391 
L 192.772174 93.537391 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#pb7f26f0e0f)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;imageddf8d35771&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;192.772174&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABCRJREFUeJztnD1sW1UUx++zn7/wR+yATdyWxA4NKbQ0aQumLEBRlQwwoKqqYGBAaoXEzoS6sJeNnQWEgMLAgDIgPgsSoiSqQKSN0xDbdZzYTePWseM4eY/5vt+bqzuc/3Z/On65z3/fnHfOvbY1efkjV3kUeuAlSh34fhNs7cywNk5V9xDjBC2w1vEgWPqWA9YdCYDZ2/p083N1Tra3A7T83jhY8eoWmLt4GywwehDszmsj+rx6eBtV7rO/wfZOHub1QUQPXWKCARITDJCYYIDswudrpFv3gaxkAsz1WNgu2IhJ1vbBxq8wYdUuHQPbTXFq4bY+bswcQEznEF9nOXxAsCoNsL3Tz4D1kiEw7717x0opVb/4LNjuEONkJRggMcEAiQkGSEwwQHb1XB4wf80ne7isCA99q1erK28xST5SZ/Xaf34CbHhxAFZ7lZX1IKF/btJlVundET4g7Ec4f2ec8w38NA+2d+E055HUx7EWQlTuT5/Wg8POgKwEAyQmGCAxwQCJCQbIHlpmRXu/GAXbPMqKM/9bRBvn5plc7bvbYLcvZsHSi5xcgJdT2wf1BOvYTMKj3zEh1l9OgrWmWZJnEifAdtI+936tr42jfywhZv3No2DZ+Q6YrAQDJCYYIDHBAIkJBsg6a51nKVliC9Zusr29dEmvOA9/soGYtbOPg+W/ZBLbPfYE2CDBpNso6VV04fLviAlMPQ1Wm8mApf7jQ0n611Uwv25B57kxbRzqsHIPLyzzda9MgslKMEBiggESEwyQmGCArOl3ryDr+FV1945wjznU09uym0fYei58/C9Yr/QkWGWWSThe42cku6BXqvaPC4jpz54EC7d3wdZLcbDUKpO1YsGs4iv6e7T0Nivy0Tkm62iDHQRZCQZITDBAYoIBsrt5/sPrr0bAMl/8BWZ5OpjNqeOIufUBi5PMP/ybiVUyJwyk1kueuZVeQIxfZzj2cxlsOMUzRpEfboB1Xp8Ga5b0Dmy0yfnHKm0wtS/bm0ZKTDBAYoIBEhMMkF38lAeC+6PDYJX3T4FZnvzntx1Z/PA62IM3uIXYfoqfh3Cbyc71oLGveKi3/A47t0NzLCS911JKqfY5zm1rgnOLNfUaN3uDN++U2ZENxGNknIboYUtMMEBiggESEwyQ3Z14DDC+UAXLRbn9GPtFPyzkTo4hZvASt0pD26wax7/uggWbrDg3zuhfZ3VjLKuHuHuqrBS7nBun+A2ceN3n4LDPYeLMTb0rG6neQ0x3ZorXv14Bk5VggMQEAyQmGCAxwQDZsSoPzw4KrDib00xiY+WcNg60eDap8SK/z5q8w1bz8nlunwZ3mEzdoKdSvcrftnj05grYvsPk6tp8kMh+w5PJqRP8XYxwS9+mXJsdQYzDt0wN4kUwWQkGSEwwQGKCARITDND/PCwYDIx1974AAAAASUVORK5CYII=&quot; y=&quot;-92.825217&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_9&quot;&gt;
    &lt;g id=&quot;xtick_9&quot;&gt;
     &lt;g id=&quot;line2d_17&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;194.941565&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_10&quot;&gt;
     &lt;g id=&quot;line2d_18&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;238.329391&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_10&quot;&gt;
    &lt;g id=&quot;ytick_9&quot;&gt;
     &lt;g id=&quot;line2d_19&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;95.706783&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_10&quot;&gt;
     &lt;g id=&quot;line2d_20&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;117.400696&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_23&quot;&gt;
    &lt;path d=&quot;M 192.772174 136.925217 
L 192.772174 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_24&quot;&gt;
    &lt;path d=&quot;M 279.547826 136.925217 
L 279.547826 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_25&quot;&gt;
    &lt;path d=&quot;M 192.772174 136.925217 
L 279.547826 136.925217 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_26&quot;&gt;
    &lt;path d=&quot;M 192.772174 93.537391 
L 279.547826 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_6&quot;&gt;
   &lt;g id=&quot;patch_27&quot;&gt;
    &lt;path d=&quot;M 318.814527 136.925217 
L 405.590179 136.925217 
L 405.590179 93.537391 
L 318.814527 93.537391 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p7a70d5d40d)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;imagec305dfbc78&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;318.814527&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABDdJREFUeJztm01oXFUYhu+dufOfTDJJTCYxyZhkQtNUhWLbVCQKrS5cuGjRjf0BabNooYXiyoVQsEQRrRiQbtqFuqjiH6G0IkKhIlgalVKodcyYpME0zd8kM5lkZjLpjOuT567Lt/je3Xn55twz973nfuc937l2YuSjqrUFiWubWykr2+UDV9ifN9p1oxHERGbL4KaPPQIXuBMGF5rD0Kxct9ku11cQ49mwyZXJ1e5YAhc/XQKXOtfA/rzmf2i/yPszf7LIa35Ty77AKB47VAQBUBEEQEUQACewTB2mDpBLjLok65JjtKMTBcSMHw2A83uZrDu/nwP396kmcB0/mck6fOMeYuyAH9zspSfAeb9tBJf+YA2cZzIILjl81+z/yNOISby9CO6vd7gA0ZkgACqCAKgIAqAiCIDddfkcbGnv0DgCSy9sBxe6+8BoV5ZXEFPt7wbn+Wca3OaOLnDlKF1opt9Muk9emUWMXaHTrkSZEGfOMm51vgZcx1W6bV/edMzB9Dxi0kPt4IKLLm4ejOKxQ0UQABVBAFQEAbBfeuV9ZCdvidvDq510voVmU8NcL111w20vuMwuxrX/yOdhZh8oq/f0LaOdPTSAmOgkt5D/fYOu1xtfB7e5EAK3/fxD9vdWm9GO3+R/cruP+Ta6eZ0JAqAiCICKIAAqggDY2949j8QcmaGTXI/T6UWnzMQTvXwTMUtDz4OrMFdbHpadLafAcSy+ataAIxEm4ZYPmfx8E0yuSy/Tpdd/9Tu4ybO7wTXtMrfec9fjiFnrZ726uTkLTmeCAKgIAqAiCICKIABOaIB10OIN1nZLjXR/hbypYfXQXsTkenjRepaFrXwHE/9TX7Pu3PCnWde+d6YOMbF69l9NtoKbG+RqINu9B1y5jnG+EbM+/eg5XrP9B65AAit6+EskVAQBUBEEwE4OfwxH5Gamaqb5zm792TRAlRruQKYP8x0Y25YB5/88Bs4p0qw9HDAH53bQt1zL/BXI8HmLpfiur3rZ30oPfxtYNscWWuI1vRscf2j0FjidCQKgIgiAiiAAKoIAOBtNLMv1XeCh2Jl9Lg7IZxqnhT1RXoBdWWu/0Qyu9zIu8R3P8lQGzYO9Xe/9gZjUyLPsP8zE6R/IgWs9zq93Iv+1gfOUzPs2foY7t4kvuMKZHOauss4EAVARBEBFEAAVQQAce5M6TLzOnckwz91aC3vNncTMTjrQxjEmJ6fIJDk3SM6aZWIOLjQbbbuPB447r9D1hqeYhC0Xd1wtslyafpNnlraixeXQcHAsBc5+sQ+czgQBUBEEQEUQABVBAJyWbpY36167Dy712U5wyS/NT2EzzzCBxVL8rNYNjb9wHNwItqzWX00LXnX4HOU6HXCFE1w0rI7xs9pSjIuSvk+5QJg+aJ4zyiY51pifXxr1fMJkrTNBAFQEAVARBEBFEID/AeEdGwg30SUmAAAAAElFTkSuQmCC&quot; y=&quot;-92.825217&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_11&quot;&gt;
    &lt;g id=&quot;xtick_11&quot;&gt;
     &lt;g id=&quot;line2d_21&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;320.983918&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_12&quot;&gt;
     &lt;g id=&quot;line2d_22&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;364.371744&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;136.925217&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_12&quot;&gt;
    &lt;g id=&quot;ytick_11&quot;&gt;
     &lt;g id=&quot;line2d_23&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;95.706783&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_12&quot;&gt;
     &lt;g id=&quot;line2d_24&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;117.400696&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_28&quot;&gt;
    &lt;path d=&quot;M 318.814527 136.925217 
L 318.814527 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_29&quot;&gt;
    &lt;path d=&quot;M 405.590179 136.925217 
L 405.590179 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_30&quot;&gt;
    &lt;path d=&quot;M 318.814527 136.925217 
L 405.590179 136.925217 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_31&quot;&gt;
    &lt;path d=&quot;M 318.814527 93.537391 
L 405.590179 93.537391 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_7&quot;&gt;
   &lt;g id=&quot;patch_32&quot;&gt;
    &lt;path d=&quot;M 66.729821 188.990609 
L 153.505473 188.990609 
L 153.505473 145.602783 
L 66.729821 145.602783 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#pc39e4459ac)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image66ee86ce36&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;66.729821&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABB1JREFUeJztnD9MG3cUx+9iY58xGIxdO2ACDo4dWppWiUSTSlXTASVDpySqMnRrh0pV5mTM2GQglbJmqlp16J8lUzs0qkpVdUCVMkCgISSAKcQx2NgYcwbfZf7x8Vy94X2330fvfvc7vhzv3rvfYV+Of+5bR9Q6mzuKLPvAAytNdhtjp4yprOSjFbDiJ1mwRobHnr73HMw9PWSMw89KiCl/dAKs1WuDpR/Mgh18eAbMWdgA27lgnsPr4vyhehtsa6IL7BiI6n+XmiBAaoIAqQkCFNz4dAIw4DJJOlUm5v2kGecFmJzWrmfBhr9Z4EqOvwH0/LMxsPRsyxi3U32Iaaa4jsxvVTB7oB+sNhICK7+d5XzfmdfgN/YQ47/JB5zBShBM7wQBUhMESE0QIDVBgOypwHVkYf99Vo2Wz2R9zD00xvWxHsTs5AJg8UVWkocOk+l+nL8jobq5jjbzqJX68xXYytUUWHSD19SKcR3hKuN611xjvJMNI6YyweNCVV6T3gkCpCYIkJogQGqCANmF2/eQPbLTjxG4/sW7YN0ls4puDNFTj3nZipSYsGp5xgV3mSQTc2ZSr57iCSKvOP9+gnP1FNkFiK7vg3VtNcA2LyaN8fGZbcR4i8/ALFsTs0ipCQKkJgiQmiBA9sXLd5DFKnmWoe4AD26HzENPPHIRE376EqxxZgjMKTMhbr/FCjy2Yp6jNspKNfmQrfKnt8bB/A4PDQFegpWb5nx2T9QYF6+NICYx3wJz+7WVLVJqggCpCQKkJghQMDL3H+D2eBYs83sTLLReMcYHab7v9fuYXCN/zIMdnmXJXD/ZoWL+adEcb3Ojlz86COY5rKJPfc9KuPReL5jls7L24uZ1xVbZnnf+4ea15iVep94JAqQmCJCaIEDBygcsMtL3/wKzJ/nKcy9vdhK75zcR40dYTDWmuNcp+qJOthYBW7r9jjHO/biLmNVL/Lvet8Cc4CYcsE57rrwmC8nmSMwY9yxz/S+vFcA6dXP1ThAgNUGA1AQBUhMEKBj7mV+r2NEo2IuPmey8gJnEoidZODkVJrpqgd6Ht5jAgx2SZH56+cgiGJOe5Vylc+wMR39hh7c2mgHzzrEDWx82W7DtMH8+sZVDsNS3c2B6JwiQmiBAaoIAqQkCFFz6ahKw8ICfpYYqQFZiznx9VxlnQuz/lR3T3h9qYMt3L3Ad91fBNq6aX7/YbF5a6ZkyWTsGVrwyDDbw5IBxU3xQ6VsyO6udNj67HTY0558kwPROECA1QYDUBAFSEwQomLv5N+Di1+fBsg+5IWdrwkzE9TG+Bhwc5BcyxS87tLKLXNy/N9hmt4+cIsY3iNZuIQ7mlLkHyOO/mbCcGT5IZJpsSW+eN9vsycecfy/NE/g1tt71ThAgNUGA1AQBUhME6DVHaiGj7QaCtAAAAABJRU5ErkJggg==&quot; y=&quot;-144.890609&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_13&quot;&gt;
    &lt;g id=&quot;xtick_13&quot;&gt;
     &lt;g id=&quot;line2d_25&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;68.899212&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_14&quot;&gt;
     &lt;g id=&quot;line2d_26&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;112.287038&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_14&quot;&gt;
    &lt;g id=&quot;ytick_13&quot;&gt;
     &lt;g id=&quot;line2d_27&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;147.772174&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_5&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(53.367321 151.571393)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_14&quot;&gt;
     &lt;g id=&quot;line2d_28&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;169.466087&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_6&quot;&gt;
      &lt;!-- 5 --&gt;
      &lt;g transform=&quot;translate(53.367321 173.265306)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_33&quot;&gt;
    &lt;path d=&quot;M 66.729821 188.990609 
L 66.729821 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_34&quot;&gt;
    &lt;path d=&quot;M 153.505473 188.990609 
L 153.505473 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_35&quot;&gt;
    &lt;path d=&quot;M 66.729821 188.990609 
L 153.505473 188.990609 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_36&quot;&gt;
    &lt;path d=&quot;M 66.729821 145.602783 
L 153.505473 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_8&quot;&gt;
   &lt;g id=&quot;patch_37&quot;&gt;
    &lt;path d=&quot;M 192.772174 188.990609 
L 279.547826 188.990609 
L 279.547826 145.602783 
L 192.772174 145.602783 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#pb48c8498d2)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image6a87116cb2&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;192.772174&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABDxJREFUeJztnE9ok3cYx99/bWKbtjaxrTNpbRObNE6XFec2xMFkgzEEERFRcAp62dDDYIO5w8BBcWwwYQeVMg/bDs5ddtkOmzjPQwKWdWtHtRFtbZs1bd42pn1j82fnn5+cw+/wfG/Ph+f912/ePnme368130l8UjOeU2ak5XlkdN0ky+2yldh7oYwcw8bpDcMh2zmSA6s8mQczh6Jq/IzXnH+rC8zdUwKL/OLw1ooVsOLWJrDVmBpvv3gXOXMfvQbW9MYSmAUiarjEBA0kJmggMUEDmfGLl1ElrQ0mVlmbjN5bRSUuDGxCTvuNP8Gc3gjY5IUwWPzDe2BmQi3MXjiAnJUB3qyzDmS47xbBNorNYJ1pni+/Wy3gLbMs8uXUU7Do6SkweRM0kJiggcQEDSQmaCCzb/QrFOZQ2kZi6eAK2NO82kUnv3SR8+iSDyz8NYuYUaexXt/qB7O9qhLPnWYnbGRagbruVcHaf5sAm7q2Ayx2lceuxNRnL/SZyCkH+FD+JH9G8iZoIDFBA4kJGkhM0EDOzi84Lp78vBus/wq74eIhtYCvvBRCTukhC1bhs0WwplEe++QAkGGY6uemZYwdc+T2Kg+byIAtnHkZLPhHnW8IJtttq6Lm2SU+p7WH9xG42cE8XlHUaIkJGkhM0EBiggYykxc4yt5+4zESZ4/2gW27Pq7E05/uQo5VZ9k5+sMCb6TE+Xl5Zhasti+lxG6ca9/5IV4zMMPC2ZrlerJdYmEOjM2BVRfVNfGl48PIye1lpx25xfPLm6CBxAQNJCZoIDFBAznF+DPA+x/0ggUnWGRMUy125Q7mJK5xBL6aYkde8bFwbrTwPtwDnhL3X+co2wtyBO69WQDrOTEJZgwngR6f4JcSa1+bEnd8xyKf+JZrzMb0DM/FLFGjJSZoIDFBAzlD39T5vWXRG2uJE8HssReVOJDh7/XSNk45y2e5Kbb6Ezfx2nVWLqvL6r6gsp91aP2VNbDB81mebHAA6N+TXBqtBVg3/WOdSuzL8ZpWdhnM2xtnHu9M1GiJCRpITNBAYoIGMqM/jmCs5/Nzohm5xKI7fUxtWCJ3ODJdTHEzbd/oP2DLB9kkdY5zj87C/qASb7zNZnCtwL1OVo4bfaM/e8xb47M/+JjHtqbV5V5vC6ejob/I1rrrfOkBETVcYoIGEhM0kJiggZzYZRZTO8tiN3WOE81aWC1szb+PIad0KgVWcXn+4N3/wKrt3OvkptTCaWfakGN0s8NtzvPz5uQ4LXh0hBPewffHwWpD/UqcT3IysPnONNj8SD+YvAkaSEzQQGKCBhITNJDz8DALW+hvFhknxiLW9qua5773OnI2pdlp25u5KXZxfw9Y8Hv+v4hQ+lUl7rnNPUGZU/xz3IqP3as7vAVsPcxlyrkzu8H8efV8bgIpxlIqBmYHOJ+XN0EDiQkaSEzQQGKCBvofat8hiHHWRocAAAAASUVORK5CYII=&quot; y=&quot;-144.890609&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_15&quot;&gt;
    &lt;g id=&quot;xtick_15&quot;&gt;
     &lt;g id=&quot;line2d_29&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;194.941565&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_16&quot;&gt;
     &lt;g id=&quot;line2d_30&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;238.329391&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_16&quot;&gt;
    &lt;g id=&quot;ytick_15&quot;&gt;
     &lt;g id=&quot;line2d_31&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;147.772174&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_16&quot;&gt;
     &lt;g id=&quot;line2d_32&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;169.466087&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_38&quot;&gt;
    &lt;path d=&quot;M 192.772174 188.990609 
L 192.772174 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_39&quot;&gt;
    &lt;path d=&quot;M 279.547826 188.990609 
L 279.547826 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_40&quot;&gt;
    &lt;path d=&quot;M 192.772174 188.990609 
L 279.547826 188.990609 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_41&quot;&gt;
    &lt;path d=&quot;M 192.772174 145.602783 
L 279.547826 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_9&quot;&gt;
   &lt;g id=&quot;patch_42&quot;&gt;
    &lt;path d=&quot;M 318.814527 188.990609 
L 405.590179 188.990609 
L 405.590179 145.602783 
L 318.814527 145.602783 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p4bedb7eec4)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image9b29b89f9b&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;318.814527&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABFFJREFUeJztnF1sk2UUx9+3a4GuG+vGRp376DbGpsgwOidxLMIsIQIhc2AI6IUXGj9AMXhhFE0IokYUxQsVl5gQJTFB8UIJm5EPxw3gyiAE0s2xTaDbsrGPwtjm2rWr189+85aci/O/O7+ct32Sf5+c9zwftQPVe5PWDCXczpnIqvjsMlhbZdyIe9+pRo4vGAXrqZ0DVvVUG9jNfWVg9rQZu5suIqf7wyqw0sMjYLVHLoCd3sJnI5/GwUq9Q0Y8WHMXOUMvPQ42FhgHc4Co7rnUBAFSEwRITRAgp+WwAfM+ugYW/KQSbPJYxIzbUeOt2HwW+fTrHEjw1INgRcdawP5tKjTiRz+IIWekbwhs2j0X7Jebj4B5vpwAG+i8D2z4ao4Rrw8GkXNpdwIs0p8KpjNBgNQEAVITBEhNECB76c4vUE0dU0yM1o6CxTvSjdjTxyI/mc3PKmnoBousLAIb3cwuNG9TyIh7ji5BTr73DpjjrXSw6/WZYP5f+WxyP9lobEah/yEHOVl/9YNN+TI4NhDVPZeaIEBqggCpCQLkdK+5BTgQZsHKS2MnmbiSZsRjBSzMJd92gbl/ZifZxhVpyxWaDxbe9YQRO8/yuaXPcVl8wWEuIYd/DIBN5rKjnWffBkt1mW8v0SmuFow/wGK9ZX8jmM4EAVITBEhNECA1QYC4zvw/Ksng8nDXC2ac/zb3jkMfF4CtnsPCaWWwTS89MAi2obHViJsj5cg5c3A5mP3MMFhhA8fha+J+ct48Fuaffq8x4m17mpDTPMSxHel9DExnggCpCQKkJgiQmiBA9qJ9n6PVc/ez803OYtfkQvPRaRe7xpUrroKVeQbAmqu5jxv+vhDMv8MskokcL3L+fpVdr2uY7yCZs7wfuEdYmOc28pCYs9hvxO07OP6y966Ade9aBqYzQYDUBAFSEwTIuTpwCbDzTTYZ1150gWVeMFlqHVdk+5/ldl6fNx+s46AbbPHWEFisyjyf1PUyf0d2JAUs+zLr1fQsrWpPLZ/1vVEMVpkdNuJQy0KO434fWMFJHpDWmSBAaoIAqQkCpCYIkL3sdZ47irNGWuV1HWA1WZ1GfOi7dciJspey/Lu5Jzmz+bEsy7JiXFlNjpvblDdeewg5z289BXZ87yowbyubxvg/N8Dyz3nAwjsXGbGdZOG/VZkGlnuC36kzQYDUBAFSEwRITRAg++nc7agoq052IvGP7U+CpYybhTP3Kxa1lt8qwCaKWXCzgmxfU9hcWqPrx4y4ZA9v6twt59uA/Qq7+WQDu9xoOn+Xgyu4slq1xDzU3H2I130n1vJAc6KdB5N1JgiQmiBAaoIAqQkC5Gx7vwgwGWD31/s1i6ndah7YddSx1fas5WfVbz4PdvEAr9AOLl8AtnGx+R8b5wp4xqjiXf4Px+0Yx3anhUXdmqXzfXgbb+qc+dPcpsyo57km52leU/J/w5PPOhMESE0QIDVBgNQEAfoPsJAoyzAzlHAAAAAASUVORK5CYII=&quot; y=&quot;-144.890609&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_17&quot;&gt;
    &lt;g id=&quot;xtick_17&quot;&gt;
     &lt;g id=&quot;line2d_33&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;320.983918&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_18&quot;&gt;
     &lt;g id=&quot;line2d_34&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;364.371744&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;188.990609&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_18&quot;&gt;
    &lt;g id=&quot;ytick_17&quot;&gt;
     &lt;g id=&quot;line2d_35&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;147.772174&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_18&quot;&gt;
     &lt;g id=&quot;line2d_36&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;169.466087&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_43&quot;&gt;
    &lt;path d=&quot;M 318.814527 188.990609 
L 318.814527 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_44&quot;&gt;
    &lt;path d=&quot;M 405.590179 188.990609 
L 405.590179 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_45&quot;&gt;
    &lt;path d=&quot;M 318.814527 188.990609 
L 405.590179 188.990609 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_46&quot;&gt;
    &lt;path d=&quot;M 318.814527 145.602783 
L 405.590179 145.602783 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_10&quot;&gt;
   &lt;g id=&quot;patch_47&quot;&gt;
    &lt;path d=&quot;M 66.729821 241.056 
L 153.505473 241.056 
L 153.505473 197.668174 
L 66.729821 197.668174 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p8131c4d4d1)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image88150a6274&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;66.729821&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABDhJREFUeJztnEtonFUUx+83M5lMM5M0yUxnMm06ScxzqlTtw4LiSooUQaWo0EURdKNoBSEVGxCroAUF7UIRtC5EFy4qCBILUnDRRaWkFfsabR40r5nQPMxknMm84/rO71uXszj/3flz5n43339u/vfccxPn4IV3t0wDwq/kGimz+FI/uHJrA+FBimm9i+FN+MIdcEsvDoHr+KcMbuXhZiuO/ZFHzvQbnMjwhxvg1vft4PiPOOAeeP8auNWfeqy46ftO5Gz0cR6BVb4Pl9emuN9QEQRARRAAFUEAfKXxKMjbH7eDGzxHA/SUa1Y8f7gNOR23aYj19SwnUuDk8qPM85+3zdS5/Bdy4jsPgZt/NgYutFgHV9tVBFd8ai+48OlNex5V/pyV41VwO44vg9OVIAAqggCoCAKgIgiA8/TQOyjh5p/vQmJniibjz1WsuClNI02NdYBrvdEMzrBQNf8laJydN+zEQowf9JY4lofTN5uHuNkYHKVx5g50g1t72f5s5JsW5JTeWgO3cp0bIV0JAqAiCICKIAAqggD47rxGo6g318AlfkyDq2WWrHhu9DHk9JyvgFvdw4mEFmjChf2sXmsB2wD7vp1GTqU/Ds4zkQI3F9zP8aN08Jqf5l9YCFnx7At8ZybDTYnXq0fZIqEiCICKIAAqggD4akEa4shJmtjy0YfARcbt49xyG02n9CarRvM7j5W3XL4OtaIPXMX2Q5Ma60VOzzhNMn9sH7jec1PgMl+zVxwfWwfX9susFc+89yhyPCUaevRPGr+uBAFQEQRARRAAFUEAnOSpz+CmbiZZTG6C2xa0L2fl7wWRM/IFe6+Tp7aBG/iclfXaBzyTXkuFrTh8neb37xE2rPs/4ljlKOeb2+0HF7l8D1xjzzqY4QZn+SAoV+hKEAAVQQBUBAFw9p6gJ9SbmLgxxCIjPOG14ny3S4+S9Ztpn+Lvz/abLIg8OfqQcexnLDy3EymFLj60bc8qn3m28UazMZnH2Xp1XA5Io9dsD8v2srCMTvBi9ewzvJulK0EAVAQBUBEEQEUQAF/2AIuYkbdnwIUOD4OrNniY232fSpAmWWuigU8fYyvQGHK7L9oFYjHC8RO/8S98Al+xVbrlY4HY5fAUNf0kzTr9hG3E/Z/eQs7K0QfBhW/R5XUlCICKIAAqggCoCALg9Hx3Bs7WHKSxeSdYXXafvWrFnsQu5Ey9ylZm39gVcDNneGfJn3W57zNou//wl9wNzB1hVVrsoiEmP+FdqkKSl6HzMVbDgaw9XjnI73O1xaW9+TNbqroSBEBFEAAVQQBUBAHwbb/CajD+wyS4eokGuHjCvlDbfZHH0a0svo0vxv8p4R9gG9R3aTu45Mm7Vvz36QHkBJZAmcSvPD43dVbbLTdp1oFLLsfsEbuyrsZZ3U++TkMPpXs5FmemuN9QEQRARRAAFUEA/gfWyiTQI++xFQAAAABJRU5ErkJggg==&quot; y=&quot;-196.956&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_19&quot;&gt;
    &lt;g id=&quot;xtick_19&quot;&gt;
     &lt;g id=&quot;line2d_37&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;68.899212&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_7&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(65.717962 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_20&quot;&gt;
     &lt;g id=&quot;line2d_38&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;112.287038&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_8&quot;&gt;
      &lt;!-- 10 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 12.40625 8.296875 
L 28.515625 8.296875 
L 28.515625 63.921875 
L 10.984375 60.40625 
L 10.984375 69.390625 
L 28.421875 72.90625 
L 38.28125 72.90625 
L 38.28125 8.296875 
L 54.390625 8.296875 
L 54.390625 0 
L 12.40625 0 
z
&quot; id=&quot;DejaVuSans-49&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(105.924538 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_20&quot;&gt;
    &lt;g id=&quot;ytick_19&quot;&gt;
     &lt;g id=&quot;line2d_39&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;199.837565&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_9&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(53.367321 203.636784)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_20&quot;&gt;
     &lt;g id=&quot;line2d_40&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;66.729821&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;221.531478&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_10&quot;&gt;
      &lt;!-- 5 --&gt;
      &lt;g transform=&quot;translate(53.367321 225.330697)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_48&quot;&gt;
    &lt;path d=&quot;M 66.729821 241.056 
L 66.729821 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_49&quot;&gt;
    &lt;path d=&quot;M 153.505473 241.056 
L 153.505473 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_50&quot;&gt;
    &lt;path d=&quot;M 66.729821 241.056 
L 153.505473 241.056 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_51&quot;&gt;
    &lt;path d=&quot;M 66.729821 197.668174 
L 153.505473 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_11&quot;&gt;
   &lt;g id=&quot;patch_52&quot;&gt;
    &lt;path d=&quot;M 192.772174 241.056 
L 279.547826 241.056 
L 279.547826 197.668174 
L 192.772174 197.668174 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p6019d3ef88)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image72dd425044&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;192.772174&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABFdJREFUeJztnF1sU2UYx3tOW1raDSgOtnZu1kEYH8rQC+cHYxcKInUqkMAECdEoXhiNIRoTXIxLXJyGqMREnSRmxgudQDQYxlf4lK8sGggGtbNDtsEKm6zasjI62nr97tcLbyTPxfO/e395cvqe/s85z/u873uOtWhpa94xXpYF5OseAvv9lTKjvbr+BGIObn4Q7K/IKFioYwJYstIFlg6a3c07EeLYENkH9nnnErCZzWfB/HsmgmVy7Eff9iqjPf2nEcTE1nrZuQKy/1OU6n+VmiBAaoIAqQkCZD3iXM3EfN88RrYMA9kbi00Q/RMxy36Og23pXAZWfiQLln+Zg4Fr35uDgWTddcRUfMlEmqpwgyXm8tRnNTFZD66rAfMuv2K0h1N+xITfuQn297zJYHonCJCaIEBqggCpCQJkVW59D9nJWTSGwFzCA+YPpYx2xetMkvn4IFjoACvyoRtFYOdOh3k8l9ndxodOIubrrlowh5tJ2J7AwYAnyoo5EM2BxevM43mvsHSve+I0WN/zd7AfIKpbLjVBgNQEAVITBMh648wKZKxjzfcjMOOnX4HvzOoyn2WicwamgF14bgZYdkEKLBNnFeq5avbDmUGI48V1u8C+iD0ANvmzYjDfyW6wJcd7wdp+rTPa7lM8VqaW51TVlAbTO0GA1AQBUhMESE0QIFe5JwE4cYCVb3wFK1rH2pDRLH6XyWlKK5PaqqLDYNt67gFz9/MaKfnFzMTODKvZj6Y/BjZr0xmwyx1hsL6nOWiwGgJg2Q3m/5EtYUU+u5RT8fbWApU7iOqWS00QIDVBgNQEAbKqmz5ApsjVsNKr3MKp2sF7fUY7eIjr0MnNLGlLfTx+emMpmB3rB5u0y+xH91fViLEiV8GupbkRy/cjBxuuESZO/yDXiuc3m4n+hy4OLMoLTNknw/wf9U4QIDVBgNQEAXJlfXwGBtv5/FzcdhDscMNdRnsgUs5jPRMFu3MvC8SuiiqwSZe41NgVMwvEBWtiiEnf5ObiaW9x31Hfm0mw4G3Ma737w2Ae28wTgbN81l96vMAU76gWayKlJgiQmiBAaoIAudxJFhSuNJcp01nuOxqqN5Nk2VEmtbEOH1hvmr/Z2NIJ1n6eS5Izxm2TWvhpD2IONNwNdvEpbsRdX72fv7ltMZi3lucVTZnFZXImE65zmIMBe4znrneCAKkJAqQmCJCaIEDW/J1NyCiZU1MR6EkUqPTG5e9A40XE3Pg4CJZzMTkNLGLnvCG+lur3jlve/IZ9vV7Cays5mzOhgdA/YGXPckmy55PbwezfzBnY8HYm7z82ceah+DgHKnonCJCaIEBqggCpCQJkPTr1BWTchUcGEHjoJX6jYmWb+Q2Jb1/lfp8LT3KKd877PL7D5vXQ/yGTWKjFfD020n4UMTte43csRoJ8rTbxML+xkR1lf+e+fRks2jrNaC+fw31NO3dzY3VNPTcc650gQGqCAKkJAqQmCNC/xkkjXs3sKMUAAAAASUVORK5CYII=&quot; y=&quot;-196.956&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_21&quot;&gt;
    &lt;g id=&quot;xtick_21&quot;&gt;
     &lt;g id=&quot;line2d_41&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;194.941565&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_11&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(191.760315 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_22&quot;&gt;
     &lt;g id=&quot;line2d_42&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;238.329391&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_12&quot;&gt;
      &lt;!-- 10 --&gt;
      &lt;g transform=&quot;translate(231.966891 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_22&quot;&gt;
    &lt;g id=&quot;ytick_21&quot;&gt;
     &lt;g id=&quot;line2d_43&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;199.837565&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_22&quot;&gt;
     &lt;g id=&quot;line2d_44&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;192.772174&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;221.531478&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_53&quot;&gt;
    &lt;path d=&quot;M 192.772174 241.056 
L 192.772174 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_54&quot;&gt;
    &lt;path d=&quot;M 279.547826 241.056 
L 279.547826 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_55&quot;&gt;
    &lt;path d=&quot;M 192.772174 241.056 
L 279.547826 241.056 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_56&quot;&gt;
    &lt;path d=&quot;M 192.772174 197.668174 
L 279.547826 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_12&quot;&gt;
   &lt;g id=&quot;patch_57&quot;&gt;
    &lt;path d=&quot;M 318.814527 241.056 
L 405.590179 241.056 
L 405.590179 197.668174 
L 318.814527 197.668174 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g clip-path=&quot;url(#p5fa0f0f107)&quot;&gt;
    &lt;image height=&quot;44.1&quot; id=&quot;image99662ab998&quot; transform=&quot;scale(1 -1)translate(0 -44.1)&quot; width=&quot;87.3&quot; x=&quot;318.814527&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAGEAAAAxCAYAAADKiMdUAAAABHNCSVQICAgIfAhkiAAABGFJREFUeJztm11QlGUUx3fd5WM32E0kCBgMcBR1mkgUzMZiyKaZYEEtdJRiMLIhUiaS6YOoLmyKzEg0o0lxLJWLsrFMsxnMpGm0BsmYDOMjKHNzBwEJBInFXbp++N035+L8785vzrvvu/zn4TznvM9a78vdNmWZJmtwOrFYVtaeBDu462Ejjv55FDldpWFgt8cPgQ0MRYItmn0ZLOPWP434o857kDN13g2WnnsR7OKBBWAzu/xg9uo+sLo5nxrxY29VIiem9TpY2t5fwWaAqP53qQkCpCYIkJogQPa/cujDMU8d2Pq2ErDJOKsZ94QiJzXZB3bz9Vgwh80K9krDV2D/BMONuKnufuRM2f4Fa4lgEXZ7BsHsW7mReDPlCNgFf5wRH67ajpzN+U+BfdbMjYSuBAFSEwRITRAgNUGA7K5OG+DGs8+BhYWxcH639R0jfuTHZ5HzwZxPwFamvwDm/iMAVllUBma/PmHE1zLDkTPFr2SJO8PPHxyOBjvx+W4wX4Bd9Jrj64w49cULvGkKhhGWoIPjCF0JAqQmCJCaIEBqggBZf7mUgOpR8uoWJB5+gx1haZ7ZEcZ/yNGzwzYJdrIpHayl+F2wwiWrwPr3uYz4oYQO5EwE7WDf7FsGFjLGwjkWzw1I26b3wLIqNxmx5+XTyDlWkw2WW9UMpitBgNQEAVITBEhNECD7gSEWrP6l7Oo2bKwAs7nMLvSZ2G+RU13wBJgrjQ+SX8Zuu/L7Q2D1hY8acWPZUuTML/8NLPpLbhpCN7Awlza1guV0cIPg7DO76IoodswH564AO7NsFpiuBAFSEwRITRAgNUGArEuKa1GdRvJ4iKth8cdgRV+bo2Z3O2fIAQdvmtjYA9azK4bX9kaAdRS9b8R5XR5el30FzFt1L1h7eT1YzoNrwUYWzASzj5ubl2AoO+3Ha46DHfEtAtOVIEBqggCpCQJkPdU7DzUh3MrJ52tFT4JdTXca8bmXOG3cPrgQrMB9Hqx7kk1MRhjPBa163jx464/g/+Kk4m6wgXHWF+daHkwOzJsNdiWLh5VjW82zTXfUdCGnPpGT1dXZ68B0JQiQmiBAaoIAqQkCZH+6sRTw7fVszBJrfwcrcPca8Z7hJOScqlgOFqxjMT27nM3atXwW9Uifee7oRhq7wZ+6+RxHH+B5oorMzWD9ZTfAZu3hRmXGhDlBLrztB+QcGkkE8+bxMLSuBAFSEwRITRAgNUGArCUtxeiYm0/fhcTkoyxYC3e3G/GJpgzkxJ7jq9KQUR7ODa/i5PPvL5LAIr3mtaHDN5HTl8lf20R4+Sozo5yd+523eMG2NeeCJaQMmJ9fzQ1CwMlfLvWu5rPpShAgNUGA1AQBUhMEyJ7sGAC8O5+v5eavYeFc4TCLZPdOjqP9jSxOow0JYJd97JjnNvWDWa5OG2/H8J7jqRw9+10siJ1b2JF79reBWYPs8EN2RBmxc8cl5Ixl8W+7uCYKTFeCAKkJAqQmCJCaIED/AZweKCZ5ZWawAAAAAElFTkSuQmCC&quot; y=&quot;-196.956&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_23&quot;&gt;
    &lt;g id=&quot;xtick_23&quot;&gt;
     &lt;g id=&quot;line2d_45&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;320.983918&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_13&quot;&gt;
      &lt;!-- 0 --&gt;
      &lt;g transform=&quot;translate(317.802668 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_24&quot;&gt;
     &lt;g id=&quot;line2d_46&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;364.371744&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;241.056&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_14&quot;&gt;
      &lt;!-- 10 --&gt;
      &lt;g transform=&quot;translate(358.009244 255.654437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_24&quot;&gt;
    &lt;g id=&quot;ytick_23&quot;&gt;
     &lt;g id=&quot;line2d_47&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;199.837565&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_24&quot;&gt;
     &lt;g id=&quot;line2d_48&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;318.814527&quot; xlink:href=&quot;#m3f9876b7cc&quot; y=&quot;221.531478&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_58&quot;&gt;
    &lt;path d=&quot;M 318.814527 241.056 
L 318.814527 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_59&quot;&gt;
    &lt;path d=&quot;M 405.590179 241.056 
L 405.590179 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_60&quot;&gt;
    &lt;path d=&quot;M 318.814527 241.056 
L 405.590179 241.056 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_61&quot;&gt;
    &lt;path d=&quot;M 318.814527 197.668174 
L 405.590179 197.668174 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_13&quot;&gt;
   &lt;g id=&quot;patch_62&quot;&gt;
    &lt;path clip-path=&quot;url(#p27aa0683e3)&quot; d=&quot;M 57.6 298.8288 
L 58.995 298.8288 
L 413.325 298.8288 
L 414.72 298.8288 
L 414.72 280.9728 
L 413.325 280.9728 
L 58.995 280.9728 
L 57.6 280.9728 
z
&quot; style=&quot;fill:#ffffff;stroke:#ffffff;stroke-linejoin:miter;stroke-width:0.01;&quot;/&gt;
   &lt;/g&gt;
   &lt;image height=&quot;18&quot; id=&quot;image09d0b2f249&quot; transform=&quot;scale(1 -1)translate(0 -18)&quot; width=&quot;357.3&quot; x=&quot;57.6&quot; xlink:href=&quot;data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAY0AAAAUCAYAAABxuWHuAAAABHNCSVQICAgIfAhkiAAAAYFJREFUeJzt1UGuwzAIRdH37K39Jfz9LyXuIAnGqSPR+T2TIozBrSrhP/8PuUmS3KxdrGbJvvItYrXr3D5rJNktYtlrrVP+ce+s/Z639pjxiJy2tcM+z3b5x71hS561I90bzj301SNia6mdseI75txb7Wu+zTh6OfVd8i9xzNi9+bce2/P0vq/ej9pfZ29zlTct56P8DnnMvHa1Y33bJr+rdXrHck+55hFftU797vz51841I1rf93Nti/g93zTz0nl21z7jWTuiR/6MWGOfTz3O/LH2WO4d6kt+1nbNmshF7RE9eo59xOzuI+7mXmuc5x3bHve8vsw7Is5v6in/7NE11NKMnn6jmJ1+m/v8zCn1uGJL/fpXNEndd+yU91Vrtetmk9V9xy3uAwBQwtIAAJSxNAAAZSwNAEAZSwMAUMbSAACUsTQAAGUsDQBAGUsDAFDG0gAAlLE0AABlLA0AQBlLAwBQxtIAAJSxNAAAZSwNAEAZSwMAUMbSAACUsTQAAGUfWxGJMDnIPMsAAAAASUVORK5CYII=&quot; y=&quot;-280.8&quot;/&gt;
   &lt;g id=&quot;matplotlib.axis_25&quot;&gt;
    &lt;g id=&quot;xtick_25&quot;&gt;
     &lt;g id=&quot;line2d_49&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;117.713843&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;298.8288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_15&quot;&gt;
      &lt;!-- 0.1 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 10.6875 12.40625 
L 21 12.40625 
L 21 0 
L 10.6875 0 
z
&quot; id=&quot;DejaVuSans-46&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(109.76228 313.427237)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_26&quot;&gt;
     &lt;g id=&quot;line2d_50&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;177.976658&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;298.8288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_16&quot;&gt;
      &lt;!-- 0.2 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 19.1875 8.296875 
L 53.609375 8.296875 
L 53.609375 0 
L 7.328125 0 
L 7.328125 8.296875 
Q 12.9375 14.109375 22.625 23.890625 
Q 32.328125 33.6875 34.8125 36.53125 
Q 39.546875 41.84375 41.421875 45.53125 
Q 43.3125 49.21875 43.3125 52.78125 
Q 43.3125 58.59375 39.234375 62.25 
Q 35.15625 65.921875 28.609375 65.921875 
Q 23.96875 65.921875 18.8125 64.3125 
Q 13.671875 62.703125 7.8125 59.421875 
L 7.8125 69.390625 
Q 13.765625 71.78125 18.9375 73 
Q 24.125 74.21875 28.421875 74.21875 
Q 39.75 74.21875 46.484375 68.546875 
Q 53.21875 62.890625 53.21875 53.421875 
Q 53.21875 48.921875 51.53125 44.890625 
Q 49.859375 40.875 45.40625 35.40625 
Q 44.1875 33.984375 37.640625 27.21875 
Q 31.109375 20.453125 19.1875 8.296875 
z
&quot; id=&quot;DejaVuSans-50&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(170.025095 313.427237)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_27&quot;&gt;
     &lt;g id=&quot;line2d_51&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;238.239472&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;298.8288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_17&quot;&gt;
      &lt;!-- 0.3 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 40.578125 39.3125 
Q 47.65625 37.796875 51.625 33 
Q 55.609375 28.21875 55.609375 21.1875 
Q 55.609375 10.40625 48.1875 4.484375 
Q 40.765625 -1.421875 27.09375 -1.421875 
Q 22.515625 -1.421875 17.65625 -0.515625 
Q 12.796875 0.390625 7.625 2.203125 
L 7.625 11.71875 
Q 11.71875 9.328125 16.59375 8.109375 
Q 21.484375 6.890625 26.8125 6.890625 
Q 36.078125 6.890625 40.9375 10.546875 
Q 45.796875 14.203125 45.796875 21.1875 
Q 45.796875 27.640625 41.28125 31.265625 
Q 36.765625 34.90625 28.71875 34.90625 
L 20.21875 34.90625 
L 20.21875 43.015625 
L 29.109375 43.015625 
Q 36.375 43.015625 40.234375 45.921875 
Q 44.09375 48.828125 44.09375 54.296875 
Q 44.09375 59.90625 40.109375 62.90625 
Q 36.140625 65.921875 28.71875 65.921875 
Q 24.65625 65.921875 20.015625 65.03125 
Q 15.375 64.15625 9.8125 62.3125 
L 9.8125 71.09375 
Q 15.4375 72.65625 20.34375 73.4375 
Q 25.25 74.21875 29.59375 74.21875 
Q 40.828125 74.21875 47.359375 69.109375 
Q 53.90625 64.015625 53.90625 55.328125 
Q 53.90625 49.265625 50.4375 45.09375 
Q 46.96875 40.921875 40.578125 39.3125 
z
&quot; id=&quot;DejaVuSans-51&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(230.28791 313.427237)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_28&quot;&gt;
     &lt;g id=&quot;line2d_52&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;298.502287&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;298.8288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_18&quot;&gt;
      &lt;!-- 0.4 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 37.796875 64.3125 
L 12.890625 25.390625 
L 37.796875 25.390625 
z
M 35.203125 72.90625 
L 47.609375 72.90625 
L 47.609375 25.390625 
L 58.015625 25.390625 
L 58.015625 17.1875 
L 47.609375 17.1875 
L 47.609375 0 
L 37.796875 0 
L 37.796875 17.1875 
L 4.890625 17.1875 
L 4.890625 26.703125 
z
&quot; id=&quot;DejaVuSans-52&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(290.550724 313.427237)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_29&quot;&gt;
     &lt;g id=&quot;line2d_53&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;358.765101&quot; xlink:href=&quot;#m8d52673788&quot; y=&quot;298.8288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_19&quot;&gt;
      &lt;!-- 0.5 --&gt;
      &lt;g transform=&quot;translate(350.813539 313.427237)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_26&quot;/&gt;
   &lt;g id=&quot;patch_63&quot;&gt;
    &lt;path d=&quot;M 57.6 298.8288 
L 58.995 298.8288 
L 413.325 298.8288 
L 414.72 298.8288 
L 414.72 280.9728 
L 413.325 280.9728 
L 58.995 280.9728 
L 57.6 280.9728 
z
&quot; style=&quot;fill:none;stroke:#000000;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
  &lt;g id=&quot;text_20&quot;&gt;
   &lt;!-- Multiple images --&gt;
   &lt;defs&gt;
    &lt;path d=&quot;M 9.8125 72.90625 
L 24.515625 72.90625 
L 43.109375 23.296875 
L 61.8125 72.90625 
L 76.515625 72.90625 
L 76.515625 0 
L 66.890625 0 
L 66.890625 64.015625 
L 48.09375 14.015625 
L 38.1875 14.015625 
L 19.390625 64.015625 
L 19.390625 0 
L 9.8125 0 
z
&quot; id=&quot;DejaVuSans-77&quot;/&gt;
    &lt;path d=&quot;M 8.5 21.578125 
L 8.5 54.6875 
L 17.484375 54.6875 
L 17.484375 21.921875 
Q 17.484375 14.15625 20.5 10.265625 
Q 23.53125 6.390625 29.59375 6.390625 
Q 36.859375 6.390625 41.078125 11.03125 
Q 45.3125 15.671875 45.3125 23.6875 
L 45.3125 54.6875 
L 54.296875 54.6875 
L 54.296875 0 
L 45.3125 0 
L 45.3125 8.40625 
Q 42.046875 3.421875 37.71875 1 
Q 33.40625 -1.421875 27.6875 -1.421875 
Q 18.265625 -1.421875 13.375 4.4375 
Q 8.5 10.296875 8.5 21.578125 
z
M 31.109375 56 
z
&quot; id=&quot;DejaVuSans-117&quot;/&gt;
    &lt;path d=&quot;M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 0 
L 9.421875 0 
z
&quot; id=&quot;DejaVuSans-108&quot;/&gt;
    &lt;path d=&quot;M 18.3125 70.21875 
L 18.3125 54.6875 
L 36.8125 54.6875 
L 36.8125 47.703125 
L 18.3125 47.703125 
L 18.3125 18.015625 
Q 18.3125 11.328125 20.140625 9.421875 
Q 21.96875 7.515625 27.59375 7.515625 
L 36.8125 7.515625 
L 36.8125 0 
L 27.59375 0 
Q 17.1875 0 13.234375 3.875 
Q 9.28125 7.765625 9.28125 18.015625 
L 9.28125 47.703125 
L 2.6875 47.703125 
L 2.6875 54.6875 
L 9.28125 54.6875 
L 9.28125 70.21875 
z
&quot; id=&quot;DejaVuSans-116&quot;/&gt;
    &lt;path d=&quot;M 9.421875 54.6875 
L 18.40625 54.6875 
L 18.40625 0 
L 9.421875 0 
z
M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 64.59375 
L 9.421875 64.59375 
z
&quot; id=&quot;DejaVuSans-105&quot;/&gt;
    &lt;path d=&quot;M 18.109375 8.203125 
L 18.109375 -20.796875 
L 9.078125 -20.796875 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.390625 
Q 20.953125 51.265625 25.265625 53.625 
Q 29.59375 56 35.59375 56 
Q 45.5625 56 51.78125 48.09375 
Q 58.015625 40.1875 58.015625 27.296875 
Q 58.015625 14.40625 51.78125 6.484375 
Q 45.5625 -1.421875 35.59375 -1.421875 
Q 29.59375 -1.421875 25.265625 0.953125 
Q 20.953125 3.328125 18.109375 8.203125 
z
M 48.6875 27.296875 
Q 48.6875 37.203125 44.609375 42.84375 
Q 40.53125 48.484375 33.40625 48.484375 
Q 26.265625 48.484375 22.1875 42.84375 
Q 18.109375 37.203125 18.109375 27.296875 
Q 18.109375 17.390625 22.1875 11.75 
Q 26.265625 6.109375 33.40625 6.109375 
Q 40.53125 6.109375 44.609375 11.75 
Q 48.6875 17.390625 48.6875 27.296875 
z
&quot; id=&quot;DejaVuSans-112&quot;/&gt;
    &lt;path d=&quot;M 56.203125 29.59375 
L 56.203125 25.203125 
L 14.890625 25.203125 
Q 15.484375 15.921875 20.484375 11.0625 
Q 25.484375 6.203125 34.421875 6.203125 
Q 39.59375 6.203125 44.453125 7.46875 
Q 49.3125 8.734375 54.109375 11.28125 
L 54.109375 2.78125 
Q 49.265625 0.734375 44.1875 -0.34375 
Q 39.109375 -1.421875 33.890625 -1.421875 
Q 20.796875 -1.421875 13.15625 6.1875 
Q 5.515625 13.8125 5.515625 26.8125 
Q 5.515625 40.234375 12.765625 48.109375 
Q 20.015625 56 32.328125 56 
Q 43.359375 56 49.78125 48.890625 
Q 56.203125 41.796875 56.203125 29.59375 
z
M 47.21875 32.234375 
Q 47.125 39.59375 43.09375 43.984375 
Q 39.0625 48.390625 32.421875 48.390625 
Q 24.90625 48.390625 20.390625 44.140625 
Q 15.875 39.890625 15.1875 32.171875 
z
&quot; id=&quot;DejaVuSans-101&quot;/&gt;
    &lt;path id=&quot;DejaVuSans-32&quot;/&gt;
    &lt;path d=&quot;M 52 44.1875 
Q 55.375 50.25 60.0625 53.125 
Q 64.75 56 71.09375 56 
Q 79.640625 56 84.28125 50.015625 
Q 88.921875 44.046875 88.921875 33.015625 
L 88.921875 0 
L 79.890625 0 
L 79.890625 32.71875 
Q 79.890625 40.578125 77.09375 44.375 
Q 74.3125 48.1875 68.609375 48.1875 
Q 61.625 48.1875 57.5625 43.546875 
Q 53.515625 38.921875 53.515625 30.90625 
L 53.515625 0 
L 44.484375 0 
L 44.484375 32.71875 
Q 44.484375 40.625 41.703125 44.40625 
Q 38.921875 48.1875 33.109375 48.1875 
Q 26.21875 48.1875 22.15625 43.53125 
Q 18.109375 38.875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 21.1875 51.21875 25.484375 53.609375 
Q 29.78125 56 35.6875 56 
Q 41.65625 56 45.828125 52.96875 
Q 50 49.953125 52 44.1875 
z
&quot; id=&quot;DejaVuSans-109&quot;/&gt;
    &lt;path d=&quot;M 34.28125 27.484375 
Q 23.390625 27.484375 19.1875 25 
Q 14.984375 22.515625 14.984375 16.5 
Q 14.984375 11.71875 18.140625 8.90625 
Q 21.296875 6.109375 26.703125 6.109375 
Q 34.1875 6.109375 38.703125 11.40625 
Q 43.21875 16.703125 43.21875 25.484375 
L 43.21875 27.484375 
z
M 52.203125 31.203125 
L 52.203125 0 
L 43.21875 0 
L 43.21875 8.296875 
Q 40.140625 3.328125 35.546875 0.953125 
Q 30.953125 -1.421875 24.3125 -1.421875 
Q 15.921875 -1.421875 10.953125 3.296875 
Q 6 8.015625 6 15.921875 
Q 6 25.140625 12.171875 29.828125 
Q 18.359375 34.515625 30.609375 34.515625 
L 43.21875 34.515625 
L 43.21875 35.40625 
Q 43.21875 41.609375 39.140625 45 
Q 35.0625 48.390625 27.6875 48.390625 
Q 23 48.390625 18.546875 47.265625 
Q 14.109375 46.140625 10.015625 43.890625 
L 10.015625 52.203125 
Q 14.9375 54.109375 19.578125 55.046875 
Q 24.21875 56 28.609375 56 
Q 40.484375 56 46.34375 49.84375 
Q 52.203125 43.703125 52.203125 31.203125 
z
&quot; id=&quot;DejaVuSans-97&quot;/&gt;
    &lt;path d=&quot;M 45.40625 27.984375 
Q 45.40625 37.75 41.375 43.109375 
Q 37.359375 48.484375 30.078125 48.484375 
Q 22.859375 48.484375 18.828125 43.109375 
Q 14.796875 37.75 14.796875 27.984375 
Q 14.796875 18.265625 18.828125 12.890625 
Q 22.859375 7.515625 30.078125 7.515625 
Q 37.359375 7.515625 41.375 12.890625 
Q 45.40625 18.265625 45.40625 27.984375 
z
M 54.390625 6.78125 
Q 54.390625 -7.171875 48.1875 -13.984375 
Q 42 -20.796875 29.203125 -20.796875 
Q 24.46875 -20.796875 20.265625 -20.09375 
Q 16.0625 -19.390625 12.109375 -17.921875 
L 12.109375 -9.1875 
Q 16.0625 -11.328125 19.921875 -12.34375 
Q 23.78125 -13.375 27.78125 -13.375 
Q 36.625 -13.375 41.015625 -8.765625 
Q 45.40625 -4.15625 45.40625 5.171875 
L 45.40625 9.625 
Q 42.625 4.78125 38.28125 2.390625 
Q 33.9375 0 27.875 0 
Q 17.828125 0 11.671875 7.65625 
Q 5.515625 15.328125 5.515625 27.984375 
Q 5.515625 40.671875 11.671875 48.328125 
Q 17.828125 56 27.875 56 
Q 33.9375 56 38.28125 53.609375 
Q 42.625 51.21875 45.40625 46.390625 
L 45.40625 54.6875 
L 54.390625 54.6875 
z
&quot; id=&quot;DejaVuSans-103&quot;/&gt;
    &lt;path d=&quot;M 44.28125 53.078125 
L 44.28125 44.578125 
Q 40.484375 46.53125 36.375 47.5 
Q 32.28125 48.484375 27.875 48.484375 
Q 21.1875 48.484375 17.84375 46.4375 
Q 14.5 44.390625 14.5 40.28125 
Q 14.5 37.15625 16.890625 35.375 
Q 19.28125 33.59375 26.515625 31.984375 
L 29.59375 31.296875 
Q 39.15625 29.25 43.1875 25.515625 
Q 47.21875 21.78125 47.21875 15.09375 
Q 47.21875 7.46875 41.1875 3.015625 
Q 35.15625 -1.421875 24.609375 -1.421875 
Q 20.21875 -1.421875 15.453125 -0.5625 
Q 10.6875 0.296875 5.421875 2 
L 5.421875 11.28125 
Q 10.40625 8.6875 15.234375 7.390625 
Q 20.0625 6.109375 24.8125 6.109375 
Q 31.15625 6.109375 34.5625 8.28125 
Q 37.984375 10.453125 37.984375 14.40625 
Q 37.984375 18.0625 35.515625 20.015625 
Q 33.0625 21.96875 24.703125 23.78125 
L 21.578125 24.515625 
Q 13.234375 26.265625 9.515625 29.90625 
Q 5.8125 33.546875 5.8125 39.890625 
Q 5.8125 47.609375 11.28125 51.796875 
Q 16.75 56 26.8125 56 
Q 31.78125 56 36.171875 55.265625 
Q 40.578125 54.546875 44.28125 53.078125 
z
&quot; id=&quot;DejaVuSans-115&quot;/&gt;
   &lt;/defs&gt;
   &lt;g transform=&quot;translate(182.845313 16.030125)scale(0.12 -0.12)&quot;&gt;
    &lt;use xlink:href=&quot;#DejaVuSans-77&quot;/&gt;
    &lt;use x=&quot;86.279297&quot; xlink:href=&quot;#DejaVuSans-117&quot;/&gt;
    &lt;use x=&quot;149.658203&quot; xlink:href=&quot;#DejaVuSans-108&quot;/&gt;
    &lt;use x=&quot;177.441406&quot; xlink:href=&quot;#DejaVuSans-116&quot;/&gt;
    &lt;use x=&quot;216.650391&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
    &lt;use x=&quot;244.433594&quot; xlink:href=&quot;#DejaVuSans-112&quot;/&gt;
    &lt;use x=&quot;307.910156&quot; xlink:href=&quot;#DejaVuSans-108&quot;/&gt;
    &lt;use x=&quot;335.693359&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
    &lt;use x=&quot;397.216797&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
    &lt;use x=&quot;429.003906&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
    &lt;use x=&quot;456.787109&quot; xlink:href=&quot;#DejaVuSans-109&quot;/&gt;
    &lt;use x=&quot;554.199219&quot; xlink:href=&quot;#DejaVuSans-97&quot;/&gt;
    &lt;use x=&quot;615.478516&quot; xlink:href=&quot;#DejaVuSans-103&quot;/&gt;
    &lt;use x=&quot;678.955078&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
    &lt;use x=&quot;740.478516&quot; xlink:href=&quot;#DejaVuSans-115&quot;/&gt;
   &lt;/g&gt;
  &lt;/g&gt;
 &lt;/g&gt;
 &lt;defs&gt;
  &lt;clipPath id=&quot;pa1be8c4ae7&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;66.729821&quot; y=&quot;41.472&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;pa6ebbb048c&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;192.772174&quot; y=&quot;41.472&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p54f3472bca&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;318.814527&quot; y=&quot;41.472&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p1481aebe2e&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;66.729821&quot; y=&quot;93.537391&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;pb7f26f0e0f&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;192.772174&quot; y=&quot;93.537391&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p7a70d5d40d&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;318.814527&quot; y=&quot;93.537391&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;pc39e4459ac&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;66.729821&quot; y=&quot;145.602783&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;pb48c8498d2&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;192.772174&quot; y=&quot;145.602783&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p4bedb7eec4&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;318.814527&quot; y=&quot;145.602783&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p8131c4d4d1&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;66.729821&quot; y=&quot;197.668174&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p6019d3ef88&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;192.772174&quot; y=&quot;197.668174&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p5fa0f0f107&quot;&gt;
   &lt;rect height=&quot;43.387826&quot; width=&quot;86.775652&quot; x=&quot;318.814527&quot; y=&quot;197.668174&quot;/&gt;
  &lt;/clipPath&gt;
  &lt;clipPath id=&quot;p27aa0683e3&quot;&gt;
   &lt;rect height=&quot;17.856&quot; width=&quot;357.12&quot; x=&quot;57.6&quot; y=&quot;280.9728&quot;/&gt;
  &lt;/clipPath&gt;
 &lt;/defs&gt;
&lt;/svg&gt;
&lt;/p&gt;
&lt;h2 id=&quot;how-to-install-pandoc-plot&quot;&gt;How to install pandoc-plot&lt;/h2&gt;
&lt;p&gt;If you are using the docker container and jekyll, it should just work.&lt;/p&gt;
&lt;p&gt;Manual Mac setup:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;brew install pandoc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;brew install pandoc-plot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;install specific libs: &lt;code&gt;pandoc-plot toolkits&lt;/code&gt; to list
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pip3 install matplotlib&lt;/code&gt; for matplotlib&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;how-to-run-pandoc-plot&quot;&gt;How to run pandoc-plot&lt;/h2&gt;
&lt;p&gt;The site will run pandoc-plot itself, but if you want to run it manually here is how:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; pandoc blog/_posts/2029-01-01-example-plot.md --filter pandoc-plot -f markdown -t html -s -o plot.html&lt;/code&gt;&lt;/pre&gt;</content><author><name>Adam Gordon Bell</name></author><category term="Tutorials" /><summary type="html">You can embedded graphs into the markdown like this:</summary></entry><entry><title type="html">Example Post</title><link href="https://earthly.dev/blog/example/" rel="alternate" type="text/html" title="Example Post" /><published>2029-01-01T00:00:00-05:00</published><updated>2020-01-07T00:00:00-05:00</updated><id>https://earthly.dev/blog/example</id><content type="html" xml:base="https://earthly.dev/blog/example/">&lt;p&gt;This post is in the future, and wont show up in the published site&lt;/p&gt;
&lt;h2 id=&quot;image-without-figure&quot;&gt;Image without figure&lt;/h2&gt;
&lt;p&gt;An image with the alt text hidden.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;some alt text&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;An image with alt text printed below.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;some alt text&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;some alt text&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-with-explicit-figure&quot;&gt;Image with explicit figure&lt;/h2&gt;
&lt;figure class&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot;
       alt=&quot;handddrawn cartoon for a person talking to a computer server&quot;&gt;
&lt;figcaption&gt;
&lt;p&gt;Alex likes to draw and add a caption&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-with-implicit-figure&quot;&gt;Image with implicit figure&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;This is my alt text and my figure. The alt text is used as the default figure if not specified.&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;This is my alt text and my figure. The alt text is used as the default figure if not specified.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;image-wide&quot;&gt;Image Wide&lt;/h2&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/example/alex-draw.png&quot; alt=&quot;This should be wide&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;This should be wide&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id=&quot;graph-using-matplotlib&quot;&gt;graph using matplotlib&lt;/h3&gt;
&lt;p&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?&gt;
&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot;
  &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;
&lt;!-- Created with matplotlib (https://matplotlib.org/) --&gt;
&lt;svg height=&quot;345.6pt&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 460.8 345.6&quot; width=&quot;460.8pt&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;
 &lt;defs&gt;
  &lt;style type=&quot;text/css&quot;&gt;
*{stroke-linecap:butt;stroke-linejoin:round;}
  &lt;/style&gt;
 &lt;/defs&gt;
 &lt;g id=&quot;figure_1&quot;&gt;
  &lt;g id=&quot;patch_1&quot;&gt;
   &lt;path d=&quot;M 0 345.6 
L 460.8 345.6 
L 460.8 0 
L 0 0 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
  &lt;/g&gt;
  &lt;g id=&quot;axes_1&quot;&gt;
   &lt;g id=&quot;patch_2&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 414.72 307.584 
L 414.72 41.472 
L 57.6 41.472 
z
&quot; style=&quot;fill:#ffffff;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_1&quot;&gt;
    &lt;g id=&quot;xtick_1&quot;&gt;
     &lt;g id=&quot;line2d_1&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L 0 3.5 
&quot; id=&quot;me31f2ee80a&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;73.832727&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_1&quot;&gt;
      &lt;!-- 0.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 31.78125 66.40625 
Q 24.171875 66.40625 20.328125 58.90625 
Q 16.5 51.421875 16.5 36.375 
Q 16.5 21.390625 20.328125 13.890625 
Q 24.171875 6.390625 31.78125 6.390625 
Q 39.453125 6.390625 43.28125 13.890625 
Q 47.125 21.390625 47.125 36.375 
Q 47.125 51.421875 43.28125 58.90625 
Q 39.453125 66.40625 31.78125 66.40625 
z
M 31.78125 74.21875 
Q 44.046875 74.21875 50.515625 64.515625 
Q 56.984375 54.828125 56.984375 36.375 
Q 56.984375 17.96875 50.515625 8.265625 
Q 44.046875 -1.421875 31.78125 -1.421875 
Q 19.53125 -1.421875 13.0625 8.265625 
Q 6.59375 17.96875 6.59375 36.375 
Q 6.59375 54.828125 13.0625 64.515625 
Q 19.53125 74.21875 31.78125 74.21875 
z
&quot; id=&quot;DejaVuSans-48&quot;/&gt;
       &lt;path d=&quot;M 10.6875 12.40625 
L 21 12.40625 
L 21 0 
L 10.6875 0 
z
&quot; id=&quot;DejaVuSans-46&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(65.881165 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_2&quot;&gt;
     &lt;g id=&quot;line2d_2&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;114.414545&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_2&quot;&gt;
      &lt;!-- 0.5 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 10.796875 72.90625 
L 49.515625 72.90625 
L 49.515625 64.59375 
L 19.828125 64.59375 
L 19.828125 46.734375 
Q 21.96875 47.46875 24.109375 47.828125 
Q 26.265625 48.1875 28.421875 48.1875 
Q 40.625 48.1875 47.75 41.5 
Q 54.890625 34.8125 54.890625 23.390625 
Q 54.890625 11.625 47.5625 5.09375 
Q 40.234375 -1.421875 26.90625 -1.421875 
Q 22.3125 -1.421875 17.546875 -0.640625 
Q 12.796875 0.140625 7.71875 1.703125 
L 7.71875 11.625 
Q 12.109375 9.234375 16.796875 8.0625 
Q 21.484375 6.890625 26.703125 6.890625 
Q 35.15625 6.890625 40.078125 11.328125 
Q 45.015625 15.765625 45.015625 23.390625 
Q 45.015625 31 40.078125 35.4375 
Q 35.15625 39.890625 26.703125 39.890625 
Q 22.75 39.890625 18.8125 39.015625 
Q 14.890625 38.140625 10.796875 36.28125 
z
&quot; id=&quot;DejaVuSans-53&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(106.462983 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_3&quot;&gt;
     &lt;g id=&quot;line2d_3&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;154.996364&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_3&quot;&gt;
      &lt;!-- 1.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 12.40625 8.296875 
L 28.515625 8.296875 
L 28.515625 63.921875 
L 10.984375 60.40625 
L 10.984375 69.390625 
L 28.421875 72.90625 
L 38.28125 72.90625 
L 38.28125 8.296875 
L 54.390625 8.296875 
L 54.390625 0 
L 12.40625 0 
z
&quot; id=&quot;DejaVuSans-49&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(147.044801 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_4&quot;&gt;
     &lt;g id=&quot;line2d_4&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;195.578182&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_4&quot;&gt;
      &lt;!-- 1.5 --&gt;
      &lt;g transform=&quot;translate(187.626619 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_5&quot;&gt;
     &lt;g id=&quot;line2d_5&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;236.16&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_5&quot;&gt;
      &lt;!-- 2.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 19.1875 8.296875 
L 53.609375 8.296875 
L 53.609375 0 
L 7.328125 0 
L 7.328125 8.296875 
Q 12.9375 14.109375 22.625 23.890625 
Q 32.328125 33.6875 34.8125 36.53125 
Q 39.546875 41.84375 41.421875 45.53125 
Q 43.3125 49.21875 43.3125 52.78125 
Q 43.3125 58.59375 39.234375 62.25 
Q 35.15625 65.921875 28.609375 65.921875 
Q 23.96875 65.921875 18.8125 64.3125 
Q 13.671875 62.703125 7.8125 59.421875 
L 7.8125 69.390625 
Q 13.765625 71.78125 18.9375 73 
Q 24.125 74.21875 28.421875 74.21875 
Q 39.75 74.21875 46.484375 68.546875 
Q 53.21875 62.890625 53.21875 53.421875 
Q 53.21875 48.921875 51.53125 44.890625 
Q 49.859375 40.875 45.40625 35.40625 
Q 44.1875 33.984375 37.640625 27.21875 
Q 31.109375 20.453125 19.1875 8.296875 
z
&quot; id=&quot;DejaVuSans-50&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(228.208438 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_6&quot;&gt;
     &lt;g id=&quot;line2d_6&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;276.741818&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_6&quot;&gt;
      &lt;!-- 2.5 --&gt;
      &lt;g transform=&quot;translate(268.790256 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_7&quot;&gt;
     &lt;g id=&quot;line2d_7&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;317.323636&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_7&quot;&gt;
      &lt;!-- 3.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 40.578125 39.3125 
Q 47.65625 37.796875 51.625 33 
Q 55.609375 28.21875 55.609375 21.1875 
Q 55.609375 10.40625 48.1875 4.484375 
Q 40.765625 -1.421875 27.09375 -1.421875 
Q 22.515625 -1.421875 17.65625 -0.515625 
Q 12.796875 0.390625 7.625 2.203125 
L 7.625 11.71875 
Q 11.71875 9.328125 16.59375 8.109375 
Q 21.484375 6.890625 26.8125 6.890625 
Q 36.078125 6.890625 40.9375 10.546875 
Q 45.796875 14.203125 45.796875 21.1875 
Q 45.796875 27.640625 41.28125 31.265625 
Q 36.765625 34.90625 28.71875 34.90625 
L 20.21875 34.90625 
L 20.21875 43.015625 
L 29.109375 43.015625 
Q 36.375 43.015625 40.234375 45.921875 
Q 44.09375 48.828125 44.09375 54.296875 
Q 44.09375 59.90625 40.109375 62.90625 
Q 36.140625 65.921875 28.71875 65.921875 
Q 24.65625 65.921875 20.015625 65.03125 
Q 15.375 64.15625 9.8125 62.3125 
L 9.8125 71.09375 
Q 15.4375 72.65625 20.34375 73.4375 
Q 25.25 74.21875 29.59375 74.21875 
Q 40.828125 74.21875 47.359375 69.109375 
Q 53.90625 64.015625 53.90625 55.328125 
Q 53.90625 49.265625 50.4375 45.09375 
Q 46.96875 40.921875 40.578125 39.3125 
z
&quot; id=&quot;DejaVuSans-51&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(309.372074 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_8&quot;&gt;
     &lt;g id=&quot;line2d_8&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;357.905455&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_8&quot;&gt;
      &lt;!-- 3.5 --&gt;
      &lt;g transform=&quot;translate(349.953892 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;xtick_9&quot;&gt;
     &lt;g id=&quot;line2d_9&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;398.487273&quot; xlink:href=&quot;#me31f2ee80a&quot; y=&quot;307.584&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_9&quot;&gt;
      &lt;!-- 4.0 --&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 37.796875 64.3125 
L 12.890625 25.390625 
L 37.796875 25.390625 
z
M 35.203125 72.90625 
L 47.609375 72.90625 
L 47.609375 25.390625 
L 58.015625 25.390625 
L 58.015625 17.1875 
L 47.609375 17.1875 
L 47.609375 0 
L 37.796875 0 
L 37.796875 17.1875 
L 4.890625 17.1875 
L 4.890625 26.703125 
z
&quot; id=&quot;DejaVuSans-52&quot;/&gt;
      &lt;/defs&gt;
      &lt;g transform=&quot;translate(390.53571 322.182437)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;matplotlib.axis_2&quot;&gt;
    &lt;g id=&quot;ytick_1&quot;&gt;
     &lt;g id=&quot;line2d_10&quot;&gt;
      &lt;defs&gt;
       &lt;path d=&quot;M 0 0 
L -3.5 0 
&quot; id=&quot;m000eefb66b&quot; style=&quot;stroke:#000000;stroke-width:0.8;&quot;/&gt;
      &lt;/defs&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;295.488&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_10&quot;&gt;
      &lt;!-- 1.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 299.287219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_2&quot;&gt;
     &lt;g id=&quot;line2d_11&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;265.248&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_11&quot;&gt;
      &lt;!-- 1.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 269.047219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-49&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_3&quot;&gt;
     &lt;g id=&quot;line2d_12&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;235.008&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_12&quot;&gt;
      &lt;!-- 2.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 238.807219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_4&quot;&gt;
     &lt;g id=&quot;line2d_13&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;204.768&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_13&quot;&gt;
      &lt;!-- 2.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 208.567219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-50&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_5&quot;&gt;
     &lt;g id=&quot;line2d_14&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;174.528&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_14&quot;&gt;
      &lt;!-- 3.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 178.327219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_6&quot;&gt;
     &lt;g id=&quot;line2d_15&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;144.288&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_15&quot;&gt;
      &lt;!-- 3.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 148.087219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-51&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_7&quot;&gt;
     &lt;g id=&quot;line2d_16&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;114.048&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_16&quot;&gt;
      &lt;!-- 4.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 117.847219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_8&quot;&gt;
     &lt;g id=&quot;line2d_17&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;83.808&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_17&quot;&gt;
      &lt;!-- 4.5 --&gt;
      &lt;g transform=&quot;translate(34.696875 87.607219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-52&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
    &lt;g id=&quot;ytick_9&quot;&gt;
     &lt;g id=&quot;line2d_18&quot;&gt;
      &lt;g&gt;
       &lt;use style=&quot;stroke:#000000;stroke-width:0.8;&quot; x=&quot;57.6&quot; xlink:href=&quot;#m000eefb66b&quot; y=&quot;53.568&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
     &lt;g id=&quot;text_18&quot;&gt;
      &lt;!-- 5.0 --&gt;
      &lt;g transform=&quot;translate(34.696875 57.367219)scale(0.1 -0.1)&quot;&gt;
       &lt;use xlink:href=&quot;#DejaVuSans-53&quot;/&gt;
       &lt;use x=&quot;63.623047&quot; xlink:href=&quot;#DejaVuSans-46&quot;/&gt;
       &lt;use x=&quot;95.410156&quot; xlink:href=&quot;#DejaVuSans-48&quot;/&gt;
      &lt;/g&gt;
     &lt;/g&gt;
    &lt;/g&gt;
   &lt;/g&gt;
   &lt;g id=&quot;line2d_19&quot;&gt;
    &lt;path clip-path=&quot;url(#p7ddf02e083)&quot; d=&quot;M 73.832727 295.488 
L 154.996364 235.008 
L 236.16 174.528 
L 317.323636 114.048 
L 398.487273 53.568 
&quot; style=&quot;fill:none;stroke:#1f77b4;stroke-linecap:square;stroke-width:1.5;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_3&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 57.6 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_4&quot;&gt;
    &lt;path d=&quot;M 414.72 307.584 
L 414.72 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_5&quot;&gt;
    &lt;path d=&quot;M 57.6 307.584 
L 414.72 307.584 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;patch_6&quot;&gt;
    &lt;path d=&quot;M 57.6 41.472 
L 414.72 41.472 
&quot; style=&quot;fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;&quot;/&gt;
   &lt;/g&gt;
   &lt;g id=&quot;text_19&quot;&gt;
    &lt;!-- This is an example figure --&gt;
    &lt;defs&gt;
     &lt;path d=&quot;M -0.296875 72.90625 
L 61.375 72.90625 
L 61.375 64.59375 
L 35.5 64.59375 
L 35.5 0 
L 25.59375 0 
L 25.59375 64.59375 
L -0.296875 64.59375 
z
&quot; id=&quot;DejaVuSans-84&quot;/&gt;
     &lt;path d=&quot;M 54.890625 33.015625 
L 54.890625 0 
L 45.90625 0 
L 45.90625 32.71875 
Q 45.90625 40.484375 42.875 44.328125 
Q 39.84375 48.1875 33.796875 48.1875 
Q 26.515625 48.1875 22.3125 43.546875 
Q 18.109375 38.921875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 75.984375 
L 18.109375 75.984375 
L 18.109375 46.1875 
Q 21.34375 51.125 25.703125 53.5625 
Q 30.078125 56 35.796875 56 
Q 45.21875 56 50.046875 50.171875 
Q 54.890625 44.34375 54.890625 33.015625 
z
&quot; id=&quot;DejaVuSans-104&quot;/&gt;
     &lt;path d=&quot;M 9.421875 54.6875 
L 18.40625 54.6875 
L 18.40625 0 
L 9.421875 0 
z
M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 64.59375 
L 9.421875 64.59375 
z
&quot; id=&quot;DejaVuSans-105&quot;/&gt;
     &lt;path d=&quot;M 44.28125 53.078125 
L 44.28125 44.578125 
Q 40.484375 46.53125 36.375 47.5 
Q 32.28125 48.484375 27.875 48.484375 
Q 21.1875 48.484375 17.84375 46.4375 
Q 14.5 44.390625 14.5 40.28125 
Q 14.5 37.15625 16.890625 35.375 
Q 19.28125 33.59375 26.515625 31.984375 
L 29.59375 31.296875 
Q 39.15625 29.25 43.1875 25.515625 
Q 47.21875 21.78125 47.21875 15.09375 
Q 47.21875 7.46875 41.1875 3.015625 
Q 35.15625 -1.421875 24.609375 -1.421875 
Q 20.21875 -1.421875 15.453125 -0.5625 
Q 10.6875 0.296875 5.421875 2 
L 5.421875 11.28125 
Q 10.40625 8.6875 15.234375 7.390625 
Q 20.0625 6.109375 24.8125 6.109375 
Q 31.15625 6.109375 34.5625 8.28125 
Q 37.984375 10.453125 37.984375 14.40625 
Q 37.984375 18.0625 35.515625 20.015625 
Q 33.0625 21.96875 24.703125 23.78125 
L 21.578125 24.515625 
Q 13.234375 26.265625 9.515625 29.90625 
Q 5.8125 33.546875 5.8125 39.890625 
Q 5.8125 47.609375 11.28125 51.796875 
Q 16.75 56 26.8125 56 
Q 31.78125 56 36.171875 55.265625 
Q 40.578125 54.546875 44.28125 53.078125 
z
&quot; id=&quot;DejaVuSans-115&quot;/&gt;
     &lt;path id=&quot;DejaVuSans-32&quot;/&gt;
     &lt;path d=&quot;M 34.28125 27.484375 
Q 23.390625 27.484375 19.1875 25 
Q 14.984375 22.515625 14.984375 16.5 
Q 14.984375 11.71875 18.140625 8.90625 
Q 21.296875 6.109375 26.703125 6.109375 
Q 34.1875 6.109375 38.703125 11.40625 
Q 43.21875 16.703125 43.21875 25.484375 
L 43.21875 27.484375 
z
M 52.203125 31.203125 
L 52.203125 0 
L 43.21875 0 
L 43.21875 8.296875 
Q 40.140625 3.328125 35.546875 0.953125 
Q 30.953125 -1.421875 24.3125 -1.421875 
Q 15.921875 -1.421875 10.953125 3.296875 
Q 6 8.015625 6 15.921875 
Q 6 25.140625 12.171875 29.828125 
Q 18.359375 34.515625 30.609375 34.515625 
L 43.21875 34.515625 
L 43.21875 35.40625 
Q 43.21875 41.609375 39.140625 45 
Q 35.0625 48.390625 27.6875 48.390625 
Q 23 48.390625 18.546875 47.265625 
Q 14.109375 46.140625 10.015625 43.890625 
L 10.015625 52.203125 
Q 14.9375 54.109375 19.578125 55.046875 
Q 24.21875 56 28.609375 56 
Q 40.484375 56 46.34375 49.84375 
Q 52.203125 43.703125 52.203125 31.203125 
z
&quot; id=&quot;DejaVuSans-97&quot;/&gt;
     &lt;path d=&quot;M 54.890625 33.015625 
L 54.890625 0 
L 45.90625 0 
L 45.90625 32.71875 
Q 45.90625 40.484375 42.875 44.328125 
Q 39.84375 48.1875 33.796875 48.1875 
Q 26.515625 48.1875 22.3125 43.546875 
Q 18.109375 38.921875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 21.34375 51.125 25.703125 53.5625 
Q 30.078125 56 35.796875 56 
Q 45.21875 56 50.046875 50.171875 
Q 54.890625 44.34375 54.890625 33.015625 
z
&quot; id=&quot;DejaVuSans-110&quot;/&gt;
     &lt;path d=&quot;M 56.203125 29.59375 
L 56.203125 25.203125 
L 14.890625 25.203125 
Q 15.484375 15.921875 20.484375 11.0625 
Q 25.484375 6.203125 34.421875 6.203125 
Q 39.59375 6.203125 44.453125 7.46875 
Q 49.3125 8.734375 54.109375 11.28125 
L 54.109375 2.78125 
Q 49.265625 0.734375 44.1875 -0.34375 
Q 39.109375 -1.421875 33.890625 -1.421875 
Q 20.796875 -1.421875 13.15625 6.1875 
Q 5.515625 13.8125 5.515625 26.8125 
Q 5.515625 40.234375 12.765625 48.109375 
Q 20.015625 56 32.328125 56 
Q 43.359375 56 49.78125 48.890625 
Q 56.203125 41.796875 56.203125 29.59375 
z
M 47.21875 32.234375 
Q 47.125 39.59375 43.09375 43.984375 
Q 39.0625 48.390625 32.421875 48.390625 
Q 24.90625 48.390625 20.390625 44.140625 
Q 15.875 39.890625 15.1875 32.171875 
z
&quot; id=&quot;DejaVuSans-101&quot;/&gt;
     &lt;path d=&quot;M 54.890625 54.6875 
L 35.109375 28.078125 
L 55.90625 0 
L 45.3125 0 
L 29.390625 21.484375 
L 13.484375 0 
L 2.875 0 
L 24.125 28.609375 
L 4.6875 54.6875 
L 15.28125 54.6875 
L 29.78125 35.203125 
L 44.28125 54.6875 
z
&quot; id=&quot;DejaVuSans-120&quot;/&gt;
     &lt;path d=&quot;M 52 44.1875 
Q 55.375 50.25 60.0625 53.125 
Q 64.75 56 71.09375 56 
Q 79.640625 56 84.28125 50.015625 
Q 88.921875 44.046875 88.921875 33.015625 
L 88.921875 0 
L 79.890625 0 
L 79.890625 32.71875 
Q 79.890625 40.578125 77.09375 44.375 
Q 74.3125 48.1875 68.609375 48.1875 
Q 61.625 48.1875 57.5625 43.546875 
Q 53.515625 38.921875 53.515625 30.90625 
L 53.515625 0 
L 44.484375 0 
L 44.484375 32.71875 
Q 44.484375 40.625 41.703125 44.40625 
Q 38.921875 48.1875 33.109375 48.1875 
Q 26.21875 48.1875 22.15625 43.53125 
Q 18.109375 38.875 18.109375 30.90625 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 21.1875 51.21875 25.484375 53.609375 
Q 29.78125 56 35.6875 56 
Q 41.65625 56 45.828125 52.96875 
Q 50 49.953125 52 44.1875 
z
&quot; id=&quot;DejaVuSans-109&quot;/&gt;
     &lt;path d=&quot;M 18.109375 8.203125 
L 18.109375 -20.796875 
L 9.078125 -20.796875 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.390625 
Q 20.953125 51.265625 25.265625 53.625 
Q 29.59375 56 35.59375 56 
Q 45.5625 56 51.78125 48.09375 
Q 58.015625 40.1875 58.015625 27.296875 
Q 58.015625 14.40625 51.78125 6.484375 
Q 45.5625 -1.421875 35.59375 -1.421875 
Q 29.59375 -1.421875 25.265625 0.953125 
Q 20.953125 3.328125 18.109375 8.203125 
z
M 48.6875 27.296875 
Q 48.6875 37.203125 44.609375 42.84375 
Q 40.53125 48.484375 33.40625 48.484375 
Q 26.265625 48.484375 22.1875 42.84375 
Q 18.109375 37.203125 18.109375 27.296875 
Q 18.109375 17.390625 22.1875 11.75 
Q 26.265625 6.109375 33.40625 6.109375 
Q 40.53125 6.109375 44.609375 11.75 
Q 48.6875 17.390625 48.6875 27.296875 
z
&quot; id=&quot;DejaVuSans-112&quot;/&gt;
     &lt;path d=&quot;M 9.421875 75.984375 
L 18.40625 75.984375 
L 18.40625 0 
L 9.421875 0 
z
&quot; id=&quot;DejaVuSans-108&quot;/&gt;
     &lt;path d=&quot;M 37.109375 75.984375 
L 37.109375 68.5 
L 28.515625 68.5 
Q 23.6875 68.5 21.796875 66.546875 
Q 19.921875 64.59375 19.921875 59.515625 
L 19.921875 54.6875 
L 34.71875 54.6875 
L 34.71875 47.703125 
L 19.921875 47.703125 
L 19.921875 0 
L 10.890625 0 
L 10.890625 47.703125 
L 2.296875 47.703125 
L 2.296875 54.6875 
L 10.890625 54.6875 
L 10.890625 58.5 
Q 10.890625 67.625 15.140625 71.796875 
Q 19.390625 75.984375 28.609375 75.984375 
z
&quot; id=&quot;DejaVuSans-102&quot;/&gt;
     &lt;path d=&quot;M 45.40625 27.984375 
Q 45.40625 37.75 41.375 43.109375 
Q 37.359375 48.484375 30.078125 48.484375 
Q 22.859375 48.484375 18.828125 43.109375 
Q 14.796875 37.75 14.796875 27.984375 
Q 14.796875 18.265625 18.828125 12.890625 
Q 22.859375 7.515625 30.078125 7.515625 
Q 37.359375 7.515625 41.375 12.890625 
Q 45.40625 18.265625 45.40625 27.984375 
z
M 54.390625 6.78125 
Q 54.390625 -7.171875 48.1875 -13.984375 
Q 42 -20.796875 29.203125 -20.796875 
Q 24.46875 -20.796875 20.265625 -20.09375 
Q 16.0625 -19.390625 12.109375 -17.921875 
L 12.109375 -9.1875 
Q 16.0625 -11.328125 19.921875 -12.34375 
Q 23.78125 -13.375 27.78125 -13.375 
Q 36.625 -13.375 41.015625 -8.765625 
Q 45.40625 -4.15625 45.40625 5.171875 
L 45.40625 9.625 
Q 42.625 4.78125 38.28125 2.390625 
Q 33.9375 0 27.875 0 
Q 17.828125 0 11.671875 7.65625 
Q 5.515625 15.328125 5.515625 27.984375 
Q 5.515625 40.671875 11.671875 48.328125 
Q 17.828125 56 27.875 56 
Q 33.9375 56 38.28125 53.609375 
Q 42.625 51.21875 45.40625 46.390625 
L 45.40625 54.6875 
L 54.390625 54.6875 
z
&quot; id=&quot;DejaVuSans-103&quot;/&gt;
     &lt;path d=&quot;M 8.5 21.578125 
L 8.5 54.6875 
L 17.484375 54.6875 
L 17.484375 21.921875 
Q 17.484375 14.15625 20.5 10.265625 
Q 23.53125 6.390625 29.59375 6.390625 
Q 36.859375 6.390625 41.078125 11.03125 
Q 45.3125 15.671875 45.3125 23.6875 
L 45.3125 54.6875 
L 54.296875 54.6875 
L 54.296875 0 
L 45.3125 0 
L 45.3125 8.40625 
Q 42.046875 3.421875 37.71875 1 
Q 33.40625 -1.421875 27.6875 -1.421875 
Q 18.265625 -1.421875 13.375 4.4375 
Q 8.5 10.296875 8.5 21.578125 
z
M 31.109375 56 
z
&quot; id=&quot;DejaVuSans-117&quot;/&gt;
     &lt;path d=&quot;M 41.109375 46.296875 
Q 39.59375 47.171875 37.8125 47.578125 
Q 36.03125 48 33.890625 48 
Q 26.265625 48 22.1875 43.046875 
Q 18.109375 38.09375 18.109375 28.8125 
L 18.109375 0 
L 9.078125 0 
L 9.078125 54.6875 
L 18.109375 54.6875 
L 18.109375 46.1875 
Q 20.953125 51.171875 25.484375 53.578125 
Q 30.03125 56 36.53125 56 
Q 37.453125 56 38.578125 55.875 
Q 39.703125 55.765625 41.0625 55.515625 
z
&quot; id=&quot;DejaVuSans-114&quot;/&gt;
    &lt;/defs&gt;
    &lt;g transform=&quot;translate(160.5225 35.472)scale(0.12 -0.12)&quot;&gt;
     &lt;use xlink:href=&quot;#DejaVuSans-84&quot;/&gt;
     &lt;use x=&quot;61.083984&quot; xlink:href=&quot;#DejaVuSans-104&quot;/&gt;
     &lt;use x=&quot;124.462891&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;152.246094&quot; xlink:href=&quot;#DejaVuSans-115&quot;/&gt;
     &lt;use x=&quot;204.345703&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;236.132812&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;263.916016&quot; xlink:href=&quot;#DejaVuSans-115&quot;/&gt;
     &lt;use x=&quot;316.015625&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;347.802734&quot; xlink:href=&quot;#DejaVuSans-97&quot;/&gt;
     &lt;use x=&quot;409.082031&quot; xlink:href=&quot;#DejaVuSans-110&quot;/&gt;
     &lt;use x=&quot;472.460938&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;504.248047&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
     &lt;use x=&quot;565.755859&quot; xlink:href=&quot;#DejaVuSans-120&quot;/&gt;
     &lt;use x=&quot;624.935547&quot; xlink:href=&quot;#DejaVuSans-97&quot;/&gt;
     &lt;use x=&quot;686.214844&quot; xlink:href=&quot;#DejaVuSans-109&quot;/&gt;
     &lt;use x=&quot;783.626953&quot; xlink:href=&quot;#DejaVuSans-112&quot;/&gt;
     &lt;use x=&quot;847.103516&quot; xlink:href=&quot;#DejaVuSans-108&quot;/&gt;
     &lt;use x=&quot;874.886719&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
     &lt;use x=&quot;936.410156&quot; xlink:href=&quot;#DejaVuSans-32&quot;/&gt;
     &lt;use x=&quot;968.197266&quot; xlink:href=&quot;#DejaVuSans-102&quot;/&gt;
     &lt;use x=&quot;1003.402344&quot; xlink:href=&quot;#DejaVuSans-105&quot;/&gt;
     &lt;use x=&quot;1031.185547&quot; xlink:href=&quot;#DejaVuSans-103&quot;/&gt;
     &lt;use x=&quot;1094.662109&quot; xlink:href=&quot;#DejaVuSans-117&quot;/&gt;
     &lt;use x=&quot;1158.041016&quot; xlink:href=&quot;#DejaVuSans-114&quot;/&gt;
     &lt;use x=&quot;1199.123047&quot; xlink:href=&quot;#DejaVuSans-101&quot;/&gt;
    &lt;/g&gt;
   &lt;/g&gt;
  &lt;/g&gt;
 &lt;/g&gt;
 &lt;defs&gt;
  &lt;clipPath id=&quot;p7ddf02e083&quot;&gt;
   &lt;rect height=&quot;266.112&quot; width=&quot;357.12&quot; x=&quot;57.6&quot; y=&quot;41.472&quot;/&gt;
  &lt;/clipPath&gt;
 &lt;/defs&gt;
&lt;/svg&gt;
&lt;/p&gt;
&lt;h3 id=&quot;code-blocks-with-syntax-highlighting&quot;&gt;Code blocks (with syntax highlighting)&lt;/h3&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode go&quot;&gt;&lt;code class=&quot;sourceCode go&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    syntax &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;proto3&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;package&lt;/span&gt; simplekeyvalue&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    option go_package &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;kvapi&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;/span&gt;
&lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;co&quot;&gt;// The key/value API contains two procedures for storing and retrieving data&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    service KeyValue &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;      rpc Set &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;SetRequest&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; returns &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;SetReply&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-8&quot;&gt;&lt;a href=&quot;#cb1-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;      rpc Get &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;GetRequest&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; returns &lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;GetReply&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-9&quot;&gt;&lt;a href=&quot;#cb1-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;raw-code-blocks&quot;&gt;Raw code blocks&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;
{{ raw template code}}
&lt;/code&gt;&lt;/pre&gt;
&lt;figcaption&gt;
Use &lt;code&gt;raw&lt;/code&gt; and &lt;code&gt;endraw&lt;/code&gt; for code that overlaps with the liquid templates
&lt;/figcaption&gt;
&lt;h2 id=&quot;fensed-code-blocks&quot;&gt;Fensed code blocks&lt;/h2&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode scala&quot;&gt;&lt;code class=&quot;sourceCode scala&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;object&lt;/span&gt; Main &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; App &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-3&quot;&gt;&lt;a href=&quot;#cb3-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;code-with-captions&quot;&gt;Code with Captions&lt;/h4&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode scala&quot;&gt;&lt;code class=&quot;sourceCode scala&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;object&lt;/span&gt; Main &lt;span class=&quot;kw&quot;&gt;extends&lt;/span&gt; App &lt;span class=&quot;op&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;fu&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-3&quot;&gt;&lt;a href=&quot;#cb4-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;figcaption&gt;
Main.scala
&lt;/figcaption&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Notice&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--info&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Notice Info&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here - one - two&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--success&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt;Success&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Markdown here&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;more-example-usage&quot;&gt;More Example Usage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mmistakes.github.io/minimal-mistakes/docs/quick-start-guide/&quot;&gt;Theme Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sample &lt;a href=&quot;https://mmistakes.github.io/minimal-mistakes/year-archive/&quot;&gt;Rendered Posts&lt;/a&gt; and &lt;a href=&quot;https://github.com/mmistakes/minimal-mistakes/tree/d6444412c63aea5e47241ef536509fb1bfef4830/docs/_posts&quot;&gt;Raw mardown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Markdown stuff (pandoc): &lt;a href=&quot;https://laurentrdc.github.io/pandoc-plot/&quot;&gt;Graphs&lt;/a&gt; and &lt;a href=&quot;https://pandoc.org/MANUAL.html#pandocs-markdown&quot;&gt;markdown&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Adam Gordon Bell</name></author><category term="News" /><category term="Tutorials" /><category term="Articles" /><category term="tag1" /><category term="tag2" /><category term="tag3" /><summary type="html">Here you can specify a description, if you don't like the default.</summary></entry><entry><title type="html">Building a Real-Time Application in the Phoenix Framework with Elixir</title><link href="https://earthly.dev/blog/real-time-phoenix-elixir/" rel="alternate" type="text/html" title="Building a Real-Time Application in the Phoenix Framework with Elixir" /><published>2021-04-21T00:00:00-04:00</published><updated>2021-04-21T00:00:00-04:00</updated><id>https://earthly.dev/blog/real-time-phoenix-elixir</id><content type="html" xml:base="https://earthly.dev/blog/real-time-phoenix-elixir/">&lt;p&gt;The Elixir language, along with the &lt;a href=&quot;https://phoenixframework.org/&quot;&gt;Phoenix framework&lt;/a&gt;, has been growing in popularity at a quick pace, and with good reason. Phoenix offers productivity levels comparable to frameworks like Ruby on Rails while being one of the &lt;a href=&quot;https://github.com/mroth/phoenix-showdown/blob/master/RESULTS_v3.md&quot;&gt;fastest web frameworks&lt;/a&gt; available.&lt;/p&gt;
&lt;p&gt;If youre currently working with a web framework like Ruby on Rails or even Laravel, you should definitely give Phoenix some attention due to the performance gains it promises. Additionally, Phoenix also has the capability to build highly responsive real-time applications.&lt;/p&gt;
&lt;h2 id=&quot;introducing-phoenix-liveview&quot;&gt;Introducing Phoenix LiveView&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view&quot;&gt;Phoenix LiveView&lt;/a&gt; is a relatively new library added to the Phoenix stack. Developers can build rich, real-time user experience with purely server-rendered HTML.&lt;/p&gt;
&lt;p&gt;Phoenix LiveView adds bi-directional communication via WebSockets between the server and the client, without needing dedicated JavaScript code on the frontend. This allows you to implement real-time functionality on your applications with ease.&lt;/p&gt;
&lt;h2 id=&quot;explaining-todays-tutorial&quot;&gt;Explaining Todays Tutorial&lt;/h2&gt;
&lt;p&gt;For this tutorial, we are going to be building a crowdfunding application that will leverage the real-time capabilities of Phoenix LiveView. Our application will allow users to support a funding goal in real-time and see the funding goal update as other users also commit to a specific amount. Well call it Phoenix Fund.&lt;/p&gt;
&lt;p&gt;The goal of this application is not to build a fully-featured crowdfunding platform but to get your feet wet with LiveView:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How LiveView views works and renders&lt;/li&gt;
&lt;li&gt;How Phoenix leverages WebSockets for communication&lt;/li&gt;
&lt;li&gt;How to implement real-time updates on your application&lt;/li&gt;
&lt;li&gt;How the LiveView life cycle works&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heres a sample of how the final application will work:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/q0L1xth.gif&quot; alt=&quot;The Crowdfunding App&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;The Crowdfunding App&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;prebuild-setup&quot;&gt;Prebuild Setup&lt;/h2&gt;
&lt;p&gt;For this tutorial, make sure you have a good working Elixir environment. The easiest way to do this is to follow the &lt;a href=&quot;https://elixir-lang.org/install.html&quot;&gt;official Elixir instructions&lt;/a&gt;, which will give you a couple of options for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Local installation on Linux, Windows, and macOS&lt;/li&gt;
&lt;li&gt;Dockerized versions of Elixir&lt;/li&gt;
&lt;li&gt;Package manager versions setups&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I would recommend focusing on the local install for this tutorial, as it might be the easiest one to get started. Additionally, you will need to have &lt;a href=&quot;https://www.npmjs.com/&quot;&gt;npm&lt;/a&gt; installed locally and a running version of PostgreSQL.&lt;/p&gt;
&lt;h3 id=&quot;npm&quot;&gt;npm&lt;/h3&gt;
&lt;p&gt;You can easily install Node.js from their &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;official instructions&lt;/a&gt;, but in most cases, its possible your system might already have Node preinstalled.&lt;/p&gt;
&lt;h3 id=&quot;postgres&quot;&gt;Postgres&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.postgresql.org/&quot;&gt;Postgres&lt;/a&gt; can be a little tricky to install depending on the operating system youre using. For this tutorial, you can leverage Docker and get a local version running by taking the following steps:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Create a folder to persist the DB data.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mkdir &lt;span class=&quot;va&quot;&gt;${HOME}&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;/phoenix-postgres-data/&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Run a Docker container with the Postgres image.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb2&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb2-1&quot;&gt;&lt;a href=&quot;#cb2-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker run &lt;span class=&quot;at&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-2&quot;&gt;&lt;a href=&quot;#cb2-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;--name&lt;/span&gt; phoenix-psql &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-3&quot;&gt;&lt;a href=&quot;#cb2-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-e&lt;/span&gt; POSTGRES_PASSWORD=Phoenix1234 &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-4&quot;&gt;&lt;a href=&quot;#cb2-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;${HOME}&lt;/span&gt;/phoenix-postgres-data/:/var/lib/postgresql/data &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-5&quot;&gt;&lt;a href=&quot;#cb2-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;at&quot;&gt;-p&lt;/span&gt; 5432:5432 &lt;span class=&quot;dt&quot;&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb2-6&quot;&gt;&lt;a href=&quot;#cb2-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    postgres&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Validate that the container is running.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; docker &lt;span class=&quot;fu&quot;&gt;ps&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-3&quot;&gt;&lt;a href=&quot;#cb3-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;CONTAINER&lt;/span&gt; ID   IMAGE      COMMAND                  CREATED         STATUS        PORTS                                  NAMES&lt;/span&gt;
&lt;span id=&quot;cb3-4&quot;&gt;&lt;a href=&quot;#cb3-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;11cbe1d2bc2f&lt;/span&gt;   postgres   &lt;span class=&quot;st&quot;&gt;&amp;quot;docker-entrypoint.s&amp;quot;&lt;/span&gt;   6 seconds ago   Up 5 seconds  5432/tcp, 0.0.0.0:5432-&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;5432/tcp       phoenix-psql&lt;/span&gt;
&lt;span id=&quot;cb3-5&quot;&gt;&lt;a href=&quot;#cb3-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;I&lt;/span&gt; can&lt;/span&gt;
&lt;span id=&quot;cb3-6&quot;&gt;&lt;a href=&quot;#cb3-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;that&lt;/span&gt; was&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Validate PostgreSQL is up and running.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; docker &lt;span class=&quot;bu&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-it&lt;/span&gt; phoenix-psql bash&lt;/span&gt;
&lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-3&quot;&gt;&lt;a href=&quot;#cb4-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;root@11cbe1d2bc2f:/#&lt;/span&gt; psql &lt;span class=&quot;at&quot;&gt;-h&lt;/span&gt; localhost &lt;span class=&quot;at&quot;&gt;-U&lt;/span&gt; postgres&lt;/span&gt;
&lt;span id=&quot;cb4-4&quot;&gt;&lt;a href=&quot;#cb4-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-5&quot;&gt;&lt;a href=&quot;#cb4-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;psql&lt;/span&gt; &lt;span class=&quot;er&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;13.2&lt;/span&gt; &lt;span class=&quot;er&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ex&quot;&gt;Debian&lt;/span&gt; 13.2-1.pgdg100+1&lt;span class=&quot;kw&quot;&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-6&quot;&gt;&lt;a href=&quot;#cb4-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;help&amp;quot;&lt;/span&gt; for help.&lt;/span&gt;
&lt;span id=&quot;cb4-7&quot;&gt;&lt;a href=&quot;#cb4-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-8&quot;&gt;&lt;a href=&quot;#cb4-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;=&lt;/span&gt;# &lt;span class=&quot;ex&quot;&gt;\l&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-9&quot;&gt;&lt;a href=&quot;#cb4-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;                                 &lt;span class=&quot;ex&quot;&gt;List&lt;/span&gt; of databases&lt;/span&gt;
&lt;span id=&quot;cb4-10&quot;&gt;&lt;a href=&quot;#cb4-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;   &lt;span class=&quot;ex&quot;&gt;Name&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;ex&quot;&gt;Owner&lt;/span&gt;   &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;Encoding&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;ex&quot;&gt;Collate&lt;/span&gt;   &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;ex&quot;&gt;Ctype&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;ex&quot;&gt;Access&lt;/span&gt; privileges   &lt;/span&gt;
&lt;span id=&quot;cb4-11&quot;&gt;&lt;a href=&quot;#cb4-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;-----------+----------+----------+------------+------------+-----------------------&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb4-12&quot;&gt;&lt;a href=&quot;#cb4-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt; &lt;span class=&quot;ex&quot;&gt;postgres&lt;/span&gt;  &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;postgres&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;UTF8&lt;/span&gt;     &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;en_US.utf8&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;en_US.utf8&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;setting-up-phoenix&quot;&gt;Setting Up Phoenix&lt;/h2&gt;
&lt;p&gt;Now that you have the necessary dependencies, go ahead and install the Phoenix application generator and create your first Phoenix app. The Phoenix generator is distributed as a &lt;code&gt;mix archive&lt;/code&gt; and can be installed by running the following command:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;archive.&lt;/span&gt; install hex phx_new 1.5.8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;mix-archives&quot;&gt;Mix Archives&lt;/h3&gt;
&lt;p&gt;Mix archives are essentially &lt;code&gt;.zip&lt;/code&gt; files of an Elixir project following the &lt;a href=&quot;http://erlang.org/doc/man/code.html&quot;&gt;Erlang Archive Format&lt;/a&gt;. Simply put, archives give us a way to distribute projects and use them as a regular command tool.&lt;/p&gt;
&lt;h3 id=&quot;creating-a-new-project&quot;&gt;Creating a New Project&lt;/h3&gt;
&lt;p&gt;Now that the Phoenix archive is installed locally if you run &lt;code&gt;mix help&lt;/code&gt;, you should see a new set of mix commands available in your system:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx                   &lt;span class=&quot;co&quot;&gt;# Prints Phoenix help information&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-2&quot;&gt;&lt;a href=&quot;#cb6-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.digest            &lt;span class=&quot;co&quot;&gt;# Digests and compresses static files&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-3&quot;&gt;&lt;a href=&quot;#cb6-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.digest.clean      &lt;span class=&quot;co&quot;&gt;# Removes old versions of static assets&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-4&quot;&gt;&lt;a href=&quot;#cb6-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.cert          &lt;span class=&quot;co&quot;&gt;# Generates a self-signed certificate for HTTPS testing&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-5&quot;&gt;&lt;a href=&quot;#cb6-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.channel       &lt;span class=&quot;co&quot;&gt;# Generates a Phoenix channel&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-6&quot;&gt;&lt;a href=&quot;#cb6-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.context       &lt;span class=&quot;co&quot;&gt;# Generates a context with functions around an Ecto schema&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-7&quot;&gt;&lt;a href=&quot;#cb6-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.embedded      &lt;span class=&quot;co&quot;&gt;# Generates an embedded Ecto schema file&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-8&quot;&gt;&lt;a href=&quot;#cb6-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.html          &lt;span class=&quot;co&quot;&gt;# Generates controller, views, and context for an HTML resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-9&quot;&gt;&lt;a href=&quot;#cb6-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.json          &lt;span class=&quot;co&quot;&gt;# Generates controller, views, and context for a JSON resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-10&quot;&gt;&lt;a href=&quot;#cb6-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.live          &lt;span class=&quot;co&quot;&gt;# Generates LiveView, templates, and context for a resource&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-11&quot;&gt;&lt;a href=&quot;#cb6-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.presence      &lt;span class=&quot;co&quot;&gt;# Generates a Presence tracker&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-12&quot;&gt;&lt;a href=&quot;#cb6-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.schema        &lt;span class=&quot;co&quot;&gt;# Generates an Ecto schema and migration file&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-13&quot;&gt;&lt;a href=&quot;#cb6-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.gen.secret        &lt;span class=&quot;co&quot;&gt;# Generates a secret&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-14&quot;&gt;&lt;a href=&quot;#cb6-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new               &lt;span class=&quot;co&quot;&gt;# Creates a new Phoenix v1.5.4 application&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-15&quot;&gt;&lt;a href=&quot;#cb6-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new.ecto          &lt;span class=&quot;co&quot;&gt;# Creates a new Ecto project within an umbrella project&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-16&quot;&gt;&lt;a href=&quot;#cb6-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.new.web           &lt;span class=&quot;co&quot;&gt;# Creates a new Phoenix web project within an umbrella project&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-17&quot;&gt;&lt;a href=&quot;#cb6-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.routes            &lt;span class=&quot;co&quot;&gt;# Prints all routes&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb6-18&quot;&gt;&lt;a href=&quot;#cb6-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.server            &lt;span class=&quot;co&quot;&gt;# Starts applications and their servers&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Running &lt;code&gt;mix phx.new&lt;/code&gt; from any directory will create a new Phoenix application. But before you dive in, its crucial that you understand the options available when making a Phoenix project. Lets take a look by running the following command:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;bu&quot;&gt;help&lt;/span&gt; phx.new&lt;/span&gt;
&lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-5&quot;&gt;&lt;a href=&quot;#cb7-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--live&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; include Phoenix.LiveView to make it easier than ever to build&lt;/span&gt;
&lt;span id=&quot;cb7-6&quot;&gt;&lt;a href=&quot;#cb7-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;interactive,&lt;/span&gt; real-time applications&lt;/span&gt;
&lt;span id=&quot;cb7-7&quot;&gt;&lt;a href=&quot;#cb7-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--umbrella&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; generate an umbrella project, with one application for&lt;/span&gt;
&lt;span id=&quot;cb7-8&quot;&gt;&lt;a href=&quot;#cb7-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;your&lt;/span&gt; domain and a second application for the web interface&lt;/span&gt;
&lt;span id=&quot;cb7-9&quot;&gt;&lt;a href=&quot;#cb7-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--app&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; the name of the OTP application&lt;/span&gt;
&lt;span id=&quot;cb7-10&quot;&gt;&lt;a href=&quot;#cb7-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--module&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; the name of the base module in the generated skeleton&lt;/span&gt;
&lt;span id=&quot;cb7-11&quot;&gt;&lt;a href=&quot;#cb7-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--database&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; specify the database adapter for Ecto. One of:&lt;/span&gt;
&lt;span id=&quot;cb7-12&quot;&gt;&lt;a href=&quot;#cb7-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; postgres &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/elixir-ecto/postgrex&lt;/span&gt;
&lt;span id=&quot;cb7-13&quot;&gt;&lt;a href=&quot;#cb7-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; mysql &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/elixir-ecto/myxql&lt;/span&gt;
&lt;span id=&quot;cb7-14&quot;&gt;&lt;a href=&quot;#cb7-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; mssql &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; via https://github.com/livehelpnow/tds&lt;/span&gt;
&lt;span id=&quot;cb7-15&quot;&gt;&lt;a href=&quot;#cb7-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-16&quot;&gt;&lt;a href=&quot;#cb7-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;Please&lt;/span&gt; check the driver docs for more information and requirements.&lt;/span&gt;
&lt;span id=&quot;cb7-17&quot;&gt;&lt;a href=&quot;#cb7-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;Defaults&lt;/span&gt; to &lt;span class=&quot;st&quot;&gt;&amp;quot;postgres&amp;quot;&lt;/span&gt;.&lt;/span&gt;
&lt;span id=&quot;cb7-18&quot;&gt;&lt;a href=&quot;#cb7-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-19&quot;&gt;&lt;a href=&quot;#cb7-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-webpack&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate webpack files for static asset building.&lt;/span&gt;
&lt;span id=&quot;cb7-20&quot;&gt;&lt;a href=&quot;#cb7-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;When&lt;/span&gt; choosing this option, you will need to manually handle JavaScript&lt;/span&gt;
&lt;span id=&quot;cb7-21&quot;&gt;&lt;a href=&quot;#cb7-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;ex&quot;&gt;dependencies&lt;/span&gt; if building HTML apps&lt;/span&gt;
&lt;span id=&quot;cb7-22&quot;&gt;&lt;a href=&quot;#cb7-22&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-ecto&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate Ecto files&lt;/span&gt;
&lt;span id=&quot;cb7-23&quot;&gt;&lt;a href=&quot;#cb7-23&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-html&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate HTML views&lt;/span&gt;
&lt;span id=&quot;cb7-24&quot;&gt;&lt;a href=&quot;#cb7-24&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-gettext&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not generate gettext files&lt;/span&gt;
&lt;span id=&quot;cb7-25&quot;&gt;&lt;a href=&quot;#cb7-25&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--no-dashboard&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; do not include Phoenix.LiveDashboard&lt;/span&gt;
&lt;span id=&quot;cb7-26&quot;&gt;&lt;a href=&quot;#cb7-26&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--binary-id&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; use binary_id as primary key type in Ecto schemas&lt;/span&gt;
&lt;span id=&quot;cb7-27&quot;&gt;&lt;a href=&quot;#cb7-27&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ex&quot;&gt;&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--verbose&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-&lt;/span&gt; use verbose output&lt;/span&gt;
&lt;span id=&quot;cb7-28&quot;&gt;&lt;a href=&quot;#cb7-28&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb7-29&quot;&gt;&lt;a href=&quot;#cb7-29&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets pay attention to the first option, &lt;code&gt;--live&lt;/code&gt;. As mentioned at the beginning of this tutorial, youll be building a fundraising application, so make sure to set up your Phoenix application to allow for real-time functionality from the get-go:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;phx.new&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--live&lt;/span&gt; phoenix_fund&lt;/span&gt;
&lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web/router.ex&lt;/span&gt;
&lt;span id=&quot;cb8-5&quot;&gt;&lt;a href=&quot;#cb8-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web/telemetry.ex&lt;/span&gt;
&lt;span id=&quot;cb8-6&quot;&gt;&lt;a href=&quot;#cb8-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/lib/phoenix_fund_web.ex&lt;/span&gt;
&lt;span id=&quot;cb8-7&quot;&gt;&lt;a href=&quot;#cb8-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/mix.exs&lt;/span&gt;
&lt;span id=&quot;cb8-8&quot;&gt;&lt;a href=&quot;#cb8-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/README.md&lt;/span&gt;
&lt;span id=&quot;cb8-9&quot;&gt;&lt;a href=&quot;#cb8-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-10&quot;&gt;&lt;a href=&quot;#cb8-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-11&quot;&gt;&lt;a href=&quot;#cb8-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; creating phoenix_fund/assets/static/robots.txt&lt;/span&gt;
&lt;span id=&quot;cb8-12&quot;&gt;&lt;a href=&quot;#cb8-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-13&quot;&gt;&lt;a href=&quot;#cb8-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Fetch&lt;/span&gt; and install dependencies&lt;span class=&quot;pp&quot;&gt;?&lt;/span&gt; [Yn] &lt;/span&gt;
&lt;span id=&quot;cb8-14&quot;&gt;&lt;a href=&quot;#cb8-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running mix deps.get&lt;/span&gt;
&lt;span id=&quot;cb8-15&quot;&gt;&lt;a href=&quot;#cb8-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running mix deps.compile&lt;/span&gt;
&lt;span id=&quot;cb8-16&quot;&gt;&lt;a href=&quot;#cb8-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;*&lt;/span&gt; running cd assets &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;npm&lt;/span&gt; install &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;node&lt;/span&gt; node_modules/webpack/bin/webpack.js &lt;span class=&quot;at&quot;&gt;--mode&lt;/span&gt; development&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;mix phx.new&lt;/code&gt; will create the basic skeleton for your new Phoenix LiveView app and download all the dependencies on the Elixir and Node.js side of things.&lt;/p&gt;
&lt;p&gt;Next, provision your database and start the local Phoenix server:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; mix &lt;span class=&quot;ex&quot;&gt;ecto.create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;ex&quot;&gt;mix&lt;/span&gt; phx.server&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If everything is working correctly, you should be able to visit &lt;a href=&quot;http://localhost:4000&quot;&gt;localhost:4000&lt;/a&gt; and see the default Phoenix livewire homepage:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/0N5VpNv.png&quot; alt=&quot;Out of the box installation&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Out of the box installation&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Now the app generated has the default Phoenix styling and setup, but lets add a little polish for this exercise. Youre going to add &lt;a href=&quot;https://tailwindcss.com/&quot;&gt;TailwindCSS&lt;/a&gt; and some premade boilerplate CSS.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;First, add the following dependencies to your &lt;code&gt;assets/package.json&lt;/code&gt; file, to install Tailwind and the necessary node libraries:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;er&quot;&gt;&amp;quot;devDependencies&amp;quot;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^8.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-import&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^13.0.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-6&quot;&gt;&lt;a href=&quot;#cb10-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-loader&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^4.1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-7&quot;&gt;&lt;a href=&quot;#cb10-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;postcss-nested&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^4.2.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-8&quot;&gt;&lt;a href=&quot;#cb10-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;tailwindcss&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;^2.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-9&quot;&gt;&lt;a href=&quot;#cb10-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;er&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-10&quot;&gt;&lt;a href=&quot;#cb10-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Next, make sure to install your new dependencies:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;npm&lt;/span&gt; install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Copy &lt;a href=&quot;https://gist.github.com/amacgregor/1369927cb4555803fa359c5ad9104fa9&quot;&gt;the webpack and Tailwind configuration from here&lt;/a&gt; into your assets directory:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;assets/tailwind.config.js
assets/webpack.config.js
assets/postcss.config.js&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Copy &lt;a href=&quot;https://gist.github.com/amacgregor/66c7fd76b55332c77bbdb21c5f62940b&quot;&gt;these CSS files&lt;/a&gt; into the following locations:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;assets/css/app.css
assets/csss/custom.css&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Finally change your application to use regular CSS instead of Sass by updating the &lt;code&gt;assets/js/app.js&lt;/code&gt; to:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;import &amp;quot;../css/app.css&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;adding-your-auction-route&quot;&gt;Adding Your Auction Route&lt;/h2&gt;
&lt;p&gt;Now that you have a project up with the base styling, you can start working on adding the routes and logic to show the auctions. Open your &lt;code&gt;lib/phoenix_fund_web/router.ex&lt;/code&gt; file and look for the following chunk of code:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  scope &lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    pipe_through &lt;span class=&quot;va&quot;&gt;:browser&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    live &lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;PageLive&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:index&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-5&quot;&gt;&lt;a href=&quot;#cb15-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the scaffold code that was generated when you generated the application. You want to add a new route for your actions, and you can do that easily by using the &lt;code&gt;live&lt;/code&gt; macro:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb16-2&quot;&gt;&lt;a href=&quot;#cb16-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    live &lt;span class=&quot;st&quot;&gt;&amp;quot;/auction&amp;quot;&lt;/span&gt;, &lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Its important to highlight that &lt;code&gt;AuctionLive&lt;/code&gt; is not a Phoenix controller. Rather, its a long-running LiveView process in charge of managing and tracking the state for that particular route.&lt;/p&gt;
&lt;p&gt;Go ahead and define your new module under &lt;code&gt;lib/phoenix_fund_web/live/auction_live.ex&lt;/code&gt;. By convention, the LiveView modules are placed under the &lt;code&gt;live&lt;/code&gt; directory.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;im&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:live_view&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;/span&gt;
&lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; mount(params, session, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-5&quot;&gt;&lt;a href=&quot;#cb17-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        {&lt;span class=&quot;va&quot;&gt;:ok&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)}&lt;/span&gt;
&lt;span id=&quot;cb17-6&quot;&gt;&lt;a href=&quot;#cb17-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-7&quot;&gt;&lt;a href=&quot;#cb17-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is the core of a LiveView module. &lt;code&gt;mount/3&lt;/code&gt; is the entry point for each LiveView, and it will be invoked twice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Once on the initial page load&lt;/li&gt;
&lt;li&gt;Once to establish a live socket&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It expects three parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt;: A map of string keys with the query params&lt;/li&gt;
&lt;li&gt;&lt;code&gt;session&lt;/code&gt;: The connection session&lt;/li&gt;
&lt;li&gt;&lt;code&gt;socket&lt;/code&gt;: The LiveView socket struct&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In your &lt;code&gt;mount/3&lt;/code&gt; function, assign the initial status for your LiveView so it can be rendered. Next, define a &lt;code&gt;render/1&lt;/code&gt; function that will render your LiveView HTML.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; render(assigns) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-4&quot;&gt;&lt;a href=&quot;#cb18-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;~&lt;/span&gt;L&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-5&quot;&gt;&lt;a href=&quot;#cb18-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;h1&amp;gt;Cabinet of Curiosities&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-6&quot;&gt;&lt;a href=&quot;#cb18-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;div id=&amp;quot;auction&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-7&quot;&gt;&lt;a href=&quot;#cb18-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;div class=&amp;quot;meter&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-8&quot;&gt;&lt;a href=&quot;#cb18-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;span style=&amp;quot;width: &amp;lt;%= @raised %&amp;gt;%&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-9&quot;&gt;&lt;a href=&quot;#cb18-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                  $&amp;lt;%= @raised %&amp;gt; USD&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-10&quot;&gt;&lt;a href=&quot;#cb18-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-11&quot;&gt;&lt;a href=&quot;#cb18-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-12&quot;&gt;&lt;a href=&quot;#cb18-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;        &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-13&quot;&gt;&lt;a href=&quot;#cb18-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-14&quot;&gt;&lt;a href=&quot;#cb18-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-15&quot;&gt;&lt;a href=&quot;#cb18-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For now, youll provide the HTML directly on your function. Note that the &lt;code&gt;~L&lt;/code&gt; is a special syntax called a sigil; its used to represent Live EEx content.&lt;/p&gt;
&lt;p&gt;Start your Phoenix server and lets try to load &lt;a href=&quot;http://localhost:4000/auction&quot;&gt;/auction&lt;/a&gt;. If everything was set up correctly, you should see the following:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/6gnnM9k.png&quot; alt=&quot;Auction View&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Auction View&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Excellent! Your new route is now being rendered by your LiveView. Now its time to make it do something useful by adding a couple of buttons to allow people to donate.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;```elixir &lt;/span&gt;
&lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-4&quot;&gt;&lt;a href=&quot;#cb19-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; render(assigns) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-5&quot;&gt;&lt;a href=&quot;#cb19-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;op&quot;&gt;~&lt;/span&gt;L&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-6&quot;&gt;&lt;a href=&quot;#cb19-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;h1&amp;gt;Cabinet of Curiosities&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-7&quot;&gt;&lt;a href=&quot;#cb19-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;          &amp;lt;div id=&amp;quot;auction&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-8&quot;&gt;&lt;a href=&quot;#cb19-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;div class=&amp;quot;meter&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-9&quot;&gt;&lt;a href=&quot;#cb19-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;span style=&amp;quot;width: &amp;lt;%= @raised %&amp;gt;%&amp;quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-10&quot;&gt;&lt;a href=&quot;#cb19-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                  $&amp;lt;%= @raised %&amp;gt; USD&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-11&quot;&gt;&lt;a href=&quot;#cb19-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;                &amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-12&quot;&gt;&lt;a href=&quot;#cb19-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-13&quot;&gt;&lt;a href=&quot;#cb19-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-14&quot;&gt;&lt;a href=&quot;#cb19-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-1&amp;quot;&amp;gt; $1 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-15&quot;&gt;&lt;a href=&quot;#cb19-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-5&amp;quot;&amp;gt; $5 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-16&quot;&gt;&lt;a href=&quot;#cb19-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-10&amp;quot;&amp;gt; $10 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-17&quot;&gt;&lt;a href=&quot;#cb19-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;              &amp;lt;button phx-click=&amp;quot;donate-100&amp;quot;&amp;gt; $100 &amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-18&quot;&gt;&lt;a href=&quot;#cb19-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;        &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-19&quot;&gt;&lt;a href=&quot;#cb19-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;st&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-20&quot;&gt;&lt;a href=&quot;#cb19-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-21&quot;&gt;&lt;a href=&quot;#cb19-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The page should look as follows:&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/kI2Zchu.png&quot; alt=&quot;Buttons added&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Buttons added&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;However, if you try to click any of your new buttons, youre going to get an error like so:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
[error] GenServer #PID&amp;lt;0.935.0&amp;gt; terminating
** (FunctionClauseError) no function clause matching in PhoenixFundWeb.AuctionLive.handle_event/3
    (phoenix_fund 0.1.0) lib/phoenix_fund_web/live/auction_live.ex:26: PhoenixFundWeb.AuctionLive.handle_event(&amp;quot;donate-5&amp;quot;, %{&amp;quot;value&amp;quot; =&amp;gt; &amp;quot;&amp;quot;}, #Phoenix.LiveView.Socket&amp;lt;assigns: %{flash: %{}, live_action: nil, live_module: PhoenixFundWeb.AuctionLive, raised: 34}, changed: %{}, endpoint: PhoenixFundWeb.Endpoint, id: &amp;quot;phx-FmnbLK6vHaXG9gIk&amp;quot;, parent_pid: nil, root_pid: #PID&amp;lt;0.935.0&amp;gt;, router: PhoenixFundWeb.Router, view: PhoenixFundWeb.AuctionLive, ...&amp;gt;)
    (phoenix_live_view 0.13.0) lib/phoenix_live_view/channel.ex:102: Phoenix.LiveView.Channel.handle_info/2
    (stdlib 3.14) gen_server.erl:689: :gen_server.try_dispatch/4
    (stdlib 3.14) gen_server.erl:765: :gen_server.handle_msg/6
    (stdlib 3.14) proc_lib.erl:226: :proc_lib.init_p_do_apply/3
Last message: %Phoenix.Socket.Message{event: &amp;quot;event&amp;quot;, join_ref: &amp;quot;4&amp;quot;, payload: %{&amp;quot;event&amp;quot; =&amp;gt; &amp;quot;donate-5&amp;quot;, &amp;quot;type&amp;quot; =&amp;gt; &amp;quot;click&amp;quot;, &amp;quot;value&amp;quot; =&amp;gt; %{&amp;quot;value&amp;quot; =&amp;gt; &amp;quot;&amp;quot;}}, ref: &amp;quot;39&amp;quot;, topic: &amp;quot;lv:phx-FmnbLK6vHaXG9gIk&amp;quot;}
State: %{components: {%{}, %{}, 0}, join_ref: &amp;quot;4&amp;quot;, serializer: Phoenix.Socket.V2.JSONSerializer, socket: #Phoenix.LiveView.Socket&amp;lt;assigns: %{flash: %{}, live_action: nil, live_module: PhoenixFundWeb.AuctionLive, raised: 34}, changed: %{}, endpoint: PhoenixFundWeb.Endpoint, id: &amp;quot;phx-FmnbLK6vHaXG9gIk&amp;quot;, parent_pid: nil, root_pid: #PID&amp;lt;0.935.0&amp;gt;, router: PhoenixFundWeb.Router, view: PhoenixFundWeb.AuctionLive, ...&amp;gt;, topic: &amp;quot;lv:phx-FmnbLK6vHaXG9gIk&amp;quot;, transport_pid: #PID&amp;lt;0.929.0&amp;gt;}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;handling-events&quot;&gt;Handling Events&lt;/h2&gt;
&lt;p&gt;As you can see from the error, the Auction LiveView doesnt currently know how to handle an event. As part of your button code, you added &lt;code&gt;phx-click&lt;/code&gt;; this is a &lt;strong&gt;binding&lt;/strong&gt; that sends a particular event like &lt;code&gt;donate-1&lt;/code&gt; back to your LiveView.&lt;/p&gt;
&lt;p&gt;Your next step is adding a new definition of &lt;code&gt;handle_event/3&lt;/code&gt; for each one of your events. Go ahead and add the first function definition to the handle of the $1 donation button event:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-1&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-4&quot;&gt;&lt;a href=&quot;#cb21-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-5&quot;&gt;&lt;a href=&quot;#cb21-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb21-6&quot;&gt;&lt;a href=&quot;#cb21-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-7&quot;&gt;&lt;a href=&quot;#cb21-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;handle_event/3&lt;/code&gt; function takes three parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The name of the event, in this case &lt;code&gt;donate-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;metadata&lt;/code&gt; about the event, that you can safely ignore for now&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;socket&lt;/code&gt;, which, if you remember, holds the state of your LiveView process&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inside your &lt;code&gt;handle_event/3&lt;/code&gt;, youre doing two things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Retrieving the current &lt;code&gt;raised&lt;/code&gt; value from the &lt;code&gt;socket.assigns&lt;/code&gt; and increment it by &lt;code&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Assigning the new value back to the socket&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you reload your page and click on the $1 donation button, you should see the value correctly incrementing.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/WA1gHtv.gif&quot; alt=&quot;Button working&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Button working&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Make sure to add the following code to handle the remaining events:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt; &lt;/span&gt;
&lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-3&quot;&gt;&lt;a href=&quot;#cb22-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-5&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-4&quot;&gt;&lt;a href=&quot;#cb22-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-5&quot;&gt;&lt;a href=&quot;#cb22-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-6&quot;&gt;&lt;a href=&quot;#cb22-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-7&quot;&gt;&lt;a href=&quot;#cb22-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-8&quot;&gt;&lt;a href=&quot;#cb22-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-10&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-9&quot;&gt;&lt;a href=&quot;#cb22-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-10&quot;&gt;&lt;a href=&quot;#cb22-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-11&quot;&gt;&lt;a href=&quot;#cb22-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-12&quot;&gt;&lt;a href=&quot;#cb22-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-13&quot;&gt;&lt;a href=&quot;#cb22-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-100&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-14&quot;&gt;&lt;a href=&quot;#cb22-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-15&quot;&gt;&lt;a href=&quot;#cb22-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb22-16&quot;&gt;&lt;a href=&quot;#cb22-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;  &lt;/span&gt;
&lt;span id=&quot;cb22-17&quot;&gt;&lt;a href=&quot;#cb22-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;understanding-the-liveview-life-cycle&quot;&gt;Understanding the LiveView Life Cycle&lt;/h2&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/rk4dJHg.png&quot; alt=&quot;LiveView Life Cycle&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;LiveView Life Cycle&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Lets recap what youve done so far to better understand the LiveView life cycle:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;Your application receives a request for a LiveView route.&lt;/li&gt;
&lt;li&gt;Your app will invoke that view &lt;code&gt;mount/2&lt;/code&gt; function and set the initial socket state.&lt;/li&gt;
&lt;li&gt;Next, it will call &lt;code&gt;render/1&lt;/code&gt; to render the static HTML to send back to the client.&lt;/li&gt;
&lt;li&gt;Opening a LiveView socket will pass the rendered HTML.&lt;/li&gt;
&lt;li&gt;The socket will remain open to receive events and handle updates on the LiveView process state.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It is in this life cycle where one of the more powerful and interesting features of LiveView lies. As mentioned, LiveView is listening to your socket for updates but &lt;em&gt;it will only rerender the portions of the page that needed updating&lt;/em&gt;. In the case of this tutorial, the meter is the only piece that gets an update.&lt;/p&gt;
&lt;p&gt;This is one of the key features that makes Phoenix and LiveView extremely well suited for real-time applications.&lt;/p&gt;
&lt;h2 id=&quot;broadcasting-with-pubsub&quot;&gt;Broadcasting with PubSub&lt;/h2&gt;
&lt;p&gt;So far, youve built an app that can leverage Phoenix LiveView to allow users to donate in real time, but so far, theres a caveat: updates are not shared across users or even tabs. Wouldnt it be nice to get the donations to show in real time for everyone who has the page open?&lt;/p&gt;
&lt;p&gt;Next, youll leverage &lt;a href=&quot;https://github.com/phoenixframework/phoenix_pubsub&quot;&gt;PubSub&lt;/a&gt; to broadcast real-time updates to all LiveView clients, not just the one that triggers the event.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Publish-subscribe is a messaging pattern where senders of messages, called publishers, do not program the messages to be sent directly to specific receivers, called subscribers, but instead categorize published messages into classes without knowledge of which subscribers, if any, there may be. Similarly, subscribers express interest in one or more classes and only receive messages that are of interest, without knowledge of which publishers, if any, there are. &lt;a href=&quot;https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern&quot;&gt;Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In short, PubSub is a messaging pattern that will allow us to implement real-time asynchronous communication with any clients listening for events in our application. In the case of this tutorial, that will be every user with a fundraising page open.&lt;/p&gt;
&lt;h3 id=&quot;configure-phoenix-pubsub&quot;&gt;Configure Phoenix PubSub&lt;/h3&gt;
&lt;p&gt;First, you need to configure your app endpoint to use the &lt;code&gt;Phoenix.PubSub.PG2&lt;/code&gt; adapter. Add the following configuration to your &lt;code&gt;lib/phoenix_fund/application.ex&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;{&lt;span class=&quot;cn&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;, [&lt;span class=&quot;va&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFund&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;adapter:&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PubSub&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;PG2&lt;/span&gt;]},&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;subscribing-to-a-topic&quot;&gt;Subscribing to a Topic&lt;/h3&gt;
&lt;p&gt;Next, tell your LiveView process to subscribe to a specific topic when the LiveView mounts. You can leverage &lt;code&gt;Phoenix.PubSub.subscribe/3&lt;/code&gt; for that:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb24&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb24-1&quot;&gt;&lt;a href=&quot;#cb24-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;AuctionLive&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-2&quot;&gt;&lt;a href=&quot;#cb24-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;im&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;:live_view&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-3&quot;&gt;&lt;a href=&quot;#cb24-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb24-4&quot;&gt;&lt;a href=&quot;#cb24-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;auction&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-5&quot;&gt;&lt;a href=&quot;#cb24-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-6&quot;&gt;&lt;a href=&quot;#cb24-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; mount(params, session, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-7&quot;&gt;&lt;a href=&quot;#cb24-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;subscribe(&lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;)&lt;/span&gt;
&lt;span id=&quot;cb24-8&quot;&gt;&lt;a href=&quot;#cb24-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:ok&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)}&lt;/span&gt;
&lt;span id=&quot;cb24-9&quot;&gt;&lt;a href=&quot;#cb24-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-10&quot;&gt;&lt;a href=&quot;#cb24-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;op&quot;&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb24-11&quot;&gt;&lt;a href=&quot;#cb24-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Youll use a generic &lt;code&gt;auction&lt;/code&gt; topic, as youre only dealing with a single auction.&lt;/p&gt;
&lt;h3 id=&quot;broadcasting-to-all-subscribers&quot;&gt;Broadcasting to All Subscribers&lt;/h3&gt;
&lt;p&gt;Your next step is to modify each of your &lt;code&gt;handle_event/3&lt;/code&gt; definitions to broadcast. The updated code looks like:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb25&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb25-1&quot;&gt;&lt;a href=&quot;#cb25-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-1&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-2&quot;&gt;&lt;a href=&quot;#cb25-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-3&quot;&gt;&lt;a href=&quot;#cb25-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-4&quot;&gt;&lt;a href=&quot;#cb25-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-5&quot;&gt;&lt;a href=&quot;#cb25-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-6&quot;&gt;&lt;a href=&quot;#cb25-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-7&quot;&gt;&lt;a href=&quot;#cb25-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-5&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-8&quot;&gt;&lt;a href=&quot;#cb25-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-9&quot;&gt;&lt;a href=&quot;#cb25-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-10&quot;&gt;&lt;a href=&quot;#cb25-10&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-11&quot;&gt;&lt;a href=&quot;#cb25-11&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-12&quot;&gt;&lt;a href=&quot;#cb25-12&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-13&quot;&gt;&lt;a href=&quot;#cb25-13&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-10&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-14&quot;&gt;&lt;a href=&quot;#cb25-14&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-15&quot;&gt;&lt;a href=&quot;#cb25-15&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-16&quot;&gt;&lt;a href=&quot;#cb25-16&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-17&quot;&gt;&lt;a href=&quot;#cb25-17&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-18&quot;&gt;&lt;a href=&quot;#cb25-18&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-19&quot;&gt;&lt;a href=&quot;#cb25-19&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_event(&lt;span class=&quot;st&quot;&gt;&amp;quot;donate-100&amp;quot;&lt;/span&gt;, _, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-20&quot;&gt;&lt;a href=&quot;#cb25-20&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    raised &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; socket&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;assigns&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;raised &lt;span class=&quot;op&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb25-21&quot;&gt;&lt;a href=&quot;#cb25-21&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;cn&quot;&gt;PhoenixFundWeb&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cn&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;.&lt;/span&gt;broadcast_from(self(), &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;donate_event&amp;quot;&lt;/span&gt;, raised)&lt;/span&gt;
&lt;span id=&quot;cb25-22&quot;&gt;&lt;a href=&quot;#cb25-22&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb25-23&quot;&gt;&lt;a href=&quot;#cb25-23&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Youre using the &lt;code&gt;Phoenix.PubSub.broadcast_from/4&lt;/code&gt; function, which allows you to broadcast a message describing a new socket state to all the LiveView clients that are subscribed to a topic. Notice that youre not triggering the click event on the other clients, just letting them know that the socket state has changed.&lt;/p&gt;
&lt;p&gt;Finally, now that youre broadcasting the socket updates, you need to tell your LiveView process how to handle the incoming broadcasts. For this, add a &lt;code&gt;handle_info/2&lt;/code&gt; that will pattern match against the broadcast struct:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb26&quot;&gt;&lt;pre class=&quot;sourceCode elixir&quot;&gt;&lt;code class=&quot;sourceCode elixir&quot;&gt;&lt;span id=&quot;cb26-1&quot;&gt;&lt;a href=&quot;#cb26-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;def&lt;/span&gt; handle_info(%{&lt;span class=&quot;va&quot;&gt;topic:&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;@topic&lt;/span&gt;, &lt;span class=&quot;va&quot;&gt;payload:&lt;/span&gt; raised}, socket) &lt;span class=&quot;kw&quot;&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb26-2&quot;&gt;&lt;a href=&quot;#cb26-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    {&lt;span class=&quot;va&quot;&gt;:noreply&lt;/span&gt;, assign(socket, &lt;span class=&quot;va&quot;&gt;:raised&lt;/span&gt;, raised)}&lt;/span&gt;
&lt;span id=&quot;cb26-3&quot;&gt;&lt;a href=&quot;#cb26-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;kw&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you start up your application and open two browser windows side by side, you should see the donation meter updating on all windows as soon anyone clicks any of the donation buttons.&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/real-time-phoenix-elixir/tiqB8O5.gif&quot; alt=&quot;Broadcast in real time&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Broadcast in real time&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;in-summary&quot;&gt;In Summary&lt;/h2&gt;
&lt;p&gt;As youve learned, Phoenix offers a powerful set of libraries, making it relatively easy to create real-time applications with very little code and, even more surprisingly, no JavaScript at all. With LiveView, you can create fully fledged real-time features using only server-side code, and when you add Phoenix PubSub, you can open those same features to all app users in real time.&lt;/p&gt;
&lt;p&gt;Of course, weve only begun to scratch the surface here of what you can do with Phoenix, LiveView, and PubSub. If you want to keep going with this project, I would recommend tackling adding persistence next, and the ability to create multiple auctions with &lt;a href=&quot;https://hexdocs.pm/ecto/getting-started.html&quot;&gt;Ecto&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;additional-resources&quot;&gt;Additional Resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://pragmaticstudio.com/phoenix-liveview&quot;&gt;The Pragmatic Studio: Phoenix LiveView Course&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pragprog.com/titles/liveview/programming-phoenix-liveview/&quot;&gt;&lt;em&gt;Programming Phoenix LiveView&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/amacgregor/phoenix_fund&quot;&gt;Full source code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Allan MacGregor</name></author><category term="Tutorials" /><summary type="html">The Elixir language, along with the Phoenix framework, has been growing in popularity at a quick pace, and with good reason. Phoenix offers productivity levels comparable to frameworks like Ruby on Rails while being one of the fastest web frameworks available.</summary></entry><entry><title type="html">Welcoming Wes McKinney as an advisor to Earthly</title><link href="https://earthly.dev/blog/wes-mckinney/" rel="alternate" type="text/html" title="Welcoming Wes McKinney as an advisor to Earthly" /><published>2021-04-15T00:00:00-04:00</published><updated>2020-04-15T00:00:00-04:00</updated><id>https://earthly.dev/blog/wes-mckinney</id><content type="html" xml:base="https://earthly.dev/blog/wes-mckinney/">&lt;p&gt;In our journey to bring repeatable builds to the world, we have had the pleasure to talk to a number of industry veterans about the challenges surrounding CIs today. One person that was particularly excited about our mission is &lt;a href=&quot;https://en.wikipedia.org/wiki/Wes_McKinney&quot;&gt;Wes McKinney&lt;/a&gt;, the author of &lt;a href=&quot;https://www.oreilly.com/library/view/python-for-data/9781449323592/&quot;&gt;Python for Data Analysis&lt;/a&gt;, the creator of the very popular &lt;a href=&quot;https://github.com/pandas-dev/pandas&quot;&gt;pandas&lt;/a&gt; Python package, co-creator of &lt;a href=&quot;https://arrow.apache.org/&quot;&gt;Apache Arrow&lt;/a&gt;, and CEO of &lt;a href=&quot;https://ursacomputing.com/&quot;&gt;Ursa Computing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Wes immediately recognized the issues of modern builds, including the need for better and more scalable tooling for monorepos, the need for reducing duplication, and the need to improve build speeds through the use of distributed compute and distributed caching.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ive seen the many ways that a large projects CI/CD systems can hit a scalability wall and bring down the productivity of the whole development team. In Apache Arrow, with its many programming languages and the need to test a wide variety of integrations in a reproducible way, we created a complex homegrown CI framework to meet our needs. Building and maintaining this system has almost been a full-time job. When I learned about Earthly, I was excited to see innovative work happening in containerized build and testing automation. Im hopeful that complex projects like ours will be able to save time in the future by building on better off-the-shelf tools like Earthly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p style=&quot;text-align: right&quot;&gt;
 Wes McKinney
&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/wes-mckinney/Wes_McKinney_Headshot.jpg&quot; alt=&quot;Wes McKinney&quot; width=&quot;250px&quot; style=&quot;float: left; margin: 30px;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Wes will be helping us better understand the challenges of software builds in data engineering communities and also will help Earthly be successful in these circles.&lt;/p&gt;
&lt;p&gt;We are grateful and proud to have Wes McKinney onboard as an advisor. The world of software engineering is vast and industry veterans such as Wes allow us to tune our technology to the needs of the various communities out there. The more we connect with great minds in tech, the more Earthly gets better for everyone else.&lt;/p&gt;
&lt;p&gt;If you are an Earthly user, please join me in welcoming Wes to the Earthly family! &lt;a href=&quot;https://twitter.com/wesmckinn&quot;&gt;Follow Wes on Twitter&lt;/a&gt; and let him know why youre excited about Earthly. If you arent a user yet, youre missing out! ;-) Come give Earthly a try at &lt;a href=&quot;https://earthly.dev&quot;&gt;earthly.dev&lt;/a&gt;.&lt;/p&gt;</content><author><name>Vlad A. Ionescu</name></author><category term="News" /><category term="advisor" /><category term="data-engineering" /><summary type="html">&quot;When I learned about Earthly, I was excited to see innovative work happening in containerized build and testing automation.&quot;</summary></entry><entry><title type="html">Addressing Slow Performance in Jenkins</title><link href="https://earthly.dev/blog/slow-performance-in-jenkins/" rel="alternate" type="text/html" title="Addressing Slow Performance in Jenkins" /><published>2021-04-12T00:00:00-04:00</published><updated>2021-04-12T00:00:00-04:00</updated><id>https://earthly.dev/blog/slow-performance-in-jenkins</id><content type="html" xml:base="https://earthly.dev/blog/slow-performance-in-jenkins/">&lt;p&gt;Theres nothing more frustrating than a sluggish continuous integration system. It slows down feedback loops and prevents code from reaching production quickly. While quick fixes like using a bigger CI server can buy you time, you ultimately have to invest in maintaining the performance of your continuous integration workflow.&lt;/p&gt;
&lt;p&gt;Jenkins is one of the most popular CI/CD tools out there, but its users often &lt;a href=&quot;https://issues.jenkins.io/browse/JENKINS-56243?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel&quot;&gt;experience lagging and responsiveness issues over time&lt;/a&gt;. In this guide, Ill share an overview of some of the biggest Jenkins performance issues and some tips for significantly improving performance without necessarily upgrading your hardware.&lt;/p&gt;
&lt;h2 id=&quot;why-is-jenkins-such-a-popular-option-for-cicd&quot;&gt;Why Is Jenkins Such a Popular Option for CI/CD?&lt;/h2&gt;
&lt;p&gt;Jenkins is a Java-based, open-source tool that is leveraged by &lt;a href=&quot;https://www.businesswire.com/news/home/20181024005509/en/Jenkins-Community-Achieves-Record-Growth-Driven-by-Major-Innovation&quot;&gt;tens of thousands&lt;/a&gt; of developers on hundreds of thousands of installations, making it the most popular automation server. This widespread use means that its easy to find support and tips for Jenkins, but thats not the only reason its so widely used.&lt;/p&gt;
&lt;p&gt;Jenkins brought a lot of interesting paradigms to CI workflows, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Faster deployment.&lt;/strong&gt; Gone are the days when a build was tested and deployed once after all the developers committed their code. With Jenkins automated CI/CD pipeline, whenever a developer commits code, its built and tested throughout the day across multiple cycles.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.jenkins.io/doc/book/scaling/architecting-for-scale/&quot;&gt;Scalable master-agent architecture&lt;/a&gt;.&lt;/strong&gt; When it comes to managing distributed builds at scale, Jenkins can be a good choice. Jenkins primary server is the master that schedules build jobs and assigns them to agents (formerly, slaves) for execution. This pattern allows you to run Jenkins on one or hundreds of servers to speed up your builds.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Thousands of plugins:&lt;/strong&gt; Being an open-source platform, Jenkins provides a plethora of plugins for continuous integration built by other developers. This allows you to extend the base functionality without writing or maintaining much extra code in-house.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;overcoming-common-jenkins-performance-issues&quot;&gt;Overcoming Common Jenkins Performance Issues&lt;/h2&gt;
&lt;p&gt;Over time, increased build frequency, multiple jobs running in parallel, and increasing build complexity can lead to performance issues in Jenkins. Your experience will likely vary based on your use case, but some common issues include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hangups where the build seems stuck on a specific step each time it runs.&lt;/li&gt;
&lt;li&gt;Hitting memory limits on individual machines or the master node.&lt;/li&gt;
&lt;li&gt;CPU bottlenecks that slow down specific parts of a build.&lt;/li&gt;
&lt;li&gt;Bugs or inefficient code in plugins or scripts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since these issues can be caused by a wide variety of root causes, its hard to generalize the solutions, but there are a few things that Jenkins users might want to look into. Here are some of the most universal ways you can improve your Jenkins build performance and limit the frequency of issues like those above.&lt;/p&gt;
&lt;h3 id=&quot;avoid-complex-groovy-script-in-your-pipelines&quot;&gt;1. Avoid Complex Groovy Script In Your Pipelines&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.jenkins.io/doc/book/managing/script-console/&quot;&gt;Jenkins Groovy script console&lt;/a&gt; is executed on the master node and directly uses master resources such as CPU and memory. Therefore, its recommended that you reduce the number as well as the complexity of Groovy scripts in your pipelines and instead favor plugins that can be run on each agent directly.&lt;/p&gt;
&lt;p&gt;The most common Groovy methods to avoid in Jenkins are JsonSlurper, Jenkins.getInstance, and HttpRequest. Jenkins has more suggestions for &lt;a href=&quot;https://www.jenkins.io/blog/2017/02/01/pipeline-scalability-best-practice/&quot;&gt;scalable pipeline code and the operations to avoid on its blog&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;keep-builds-minimal-at-the-master-node&quot;&gt;2. Keep Builds Minimal at the Master Node&lt;/h3&gt;
&lt;p&gt;Jenkins master node sits at the epicenter of the whole CI/CD process, where the application runs. Hence, the number of builds on the master node significantly affects resource usage. Keeping fewer builds on the master node will leave enough CPU and memory for agent nodes to schedule and trigger jobs.&lt;/p&gt;
&lt;p&gt;You can use the &lt;a href=&quot;https://stackoverflow.com/questions/13946929/ci-with-jenkins-how-to-force-building-happen-on-slaves-instead-of-master&quot;&gt;Restrict where project can be run&lt;/a&gt; option in your job. While Jenkins will still run &lt;a href=&quot;https://support.cloudbees.com/hc/en-us/articles/360012808951-Pipeline-Difference-between-flyweight-and-heavyweight-Executors&quot;&gt;a flyweight executor&lt;/a&gt; on the master node, your heavyweight executors will run on the agent nodes.&lt;/p&gt;
&lt;p&gt;Think of the master node as the brain of your Jenkins. Unlike agents, the master node cant be purged or replaced. So, to ensure optimum CI/CD functioning, consider doing some performance tuning on your Jenkins and free up the master node from unnecessary tasks. This will leave you with ample memory and CPU for effective scheduling and build triggers over agents.&lt;/p&gt;
&lt;h3 id=&quot;dont-bloat-the-jenkins-master-installation&quot;&gt;3. Dont Bloat the Jenkins Master Installation&lt;/h3&gt;
&lt;p&gt;DevOps professionals often work across multiple teams and projects for CI/CD-related tasks. If thats your situation, take care not to burden a single Jenkins master. Instead, create multiple masters. Multiple masters will ensure project-specific resource allocation to masters, and youll also avoid plugin collision.&lt;/p&gt;
&lt;p&gt;Moreover, rather than setting up a long build that might fail anywhere in the cycle, remember to break your build into multiple smaller jobs.&lt;/p&gt;
&lt;h3 id=&quot;make-agent-management-effortless&quot;&gt;4. Make Agent Management Effortless&lt;/h3&gt;
&lt;p&gt;While setting up Jenkins, its important to set up the agents correctly. You want to make sure that when the time comes, you can add new agents or replace existing ones easily. To achieve this, consider creating a virtual machine image for the agent. You might also consider running Jenkins inside a &lt;a href=&quot;https://devopscube.com/docker-containers-as-build-slaves-jenkins/&quot;&gt;Docker container&lt;/a&gt; in a scalable cluster like Kubernetes or Amazon EKS where scaling agents is simple.&lt;/p&gt;
&lt;p&gt;Its also a good idea to make agents generic and versatile; an agent should run multiple different jobs and utilize resources to the fullest extent.&lt;/p&gt;
&lt;h3 id=&quot;remove-older-builds&quot;&gt;5. Remove Older Builds&lt;/h3&gt;
&lt;p&gt;After a while, Jenkins builds can pile up, and disk consumption may get out of hand. Developers often overlook Jenkins &lt;a href=&quot;https://plugins.jenkins.io/discard-old-build/&quot;&gt;Discard Old Builds&lt;/a&gt; option. Set metrics, such as the number of builds and days to keep builds and artifacts are under the Jenkins Log Rotation menu.&lt;/p&gt;
&lt;p&gt;Rather than letting old builds accumulate and consume a file system, developers can enable &lt;em&gt;Discard Old Builds&lt;/em&gt; and enjoy automated resource usage cleanup once a Jenkins job finishes. You can also use the &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/g1_gc.html&quot;&gt;G1 garbage collector&lt;/a&gt; instead of Java 8s default &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html&quot;&gt;Parallel GC&lt;/a&gt; since the former is a server-style garbage collector with a lower GC pause time.&lt;/p&gt;
&lt;p&gt;Builds can also be removed &lt;a href=&quot;https://superuser.com/a/1418896/92661&quot;&gt;manually&lt;/a&gt; via the Jenkins command line or using a &lt;a href=&quot;https://opensource.com/article/17/11/how-use-cron-linux&quot;&gt;cron job&lt;/a&gt; that periodically cleans up old builds. You can find other options for discarding old build data &lt;a href=&quot;https://support.cloudbees.com/hc/en-us/articles/215549798-Deleting-Old-Builds-Best-Strategy-for-Cleanup-and-disk-space-management&quot;&gt;in this reference post&lt;/a&gt;.&lt;/p&gt;
&lt;h5 id=&quot;prevent-resource-collision-in-parallel-jobs&quot;&gt;Prevent Resource Collision in Parallel Jobs&lt;/h5&gt;
&lt;p&gt;Jobs running in parallel might want exclusive access to ports or resources. This may cause a collision, fail a build and further slow down your Jenkins pipeline. For example, if you run multiple builds in parallel, theres a high chance they might collide while accessing a resource, say, Postgress database port 5432.&lt;/p&gt;
&lt;p&gt;Jenkins offers the &lt;a href=&quot;https://plugins.jenkins.io/throttle-concurrents/&quot;&gt;Throttle Concurrent Builds&lt;/a&gt; plugin to help regulate the number of concurrent builds on Jenkins nodes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Throttle a single operation
throttle([&amp;#39;test_1&amp;#39;]) {
    node() {
        sh &amp;quot;sleep 100&amp;quot;
        echo &amp;quot;Done&amp;quot;
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Youll need to do some testing to see how many parallel builds your system can handle, but knowing how to set this limit and modify it will help you get started.&lt;/p&gt;
&lt;h3 id=&quot;lower-heap-size&quot;&gt;6. Lower Heap Size&lt;/h3&gt;
&lt;p&gt;Do you want to create CI/CD pipelines that are performance-oriented and never fail with a memory leak or out-of-memory errors? Pay attention to the &lt;em&gt;heap size&lt;/em&gt;. As the number of Jenkins builds grows, the default heap size can be a limiting factor leading to out-of-memory errors if not attended to.&lt;/p&gt;
&lt;p&gt;A majority of modern Java applications start with the maximum heap size configuration during startup. For Jenkins to run smoothly, lower the maximum heap size property to a maximum of &lt;a href=&quot;https://docs.cloudbees.com/docs/admin-resources/latest/jvm-troubleshooting/#_heap_size&quot;&gt;4 GB&lt;/a&gt; for starters. You can increase the heap size over time, depending on the Jenkins builds.&lt;/p&gt;
&lt;p&gt;To set the heap size to 4 GB:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refer to &lt;code&gt;/etc/default/jenkins&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Pass &lt;code&gt;JAVA_ARGS=&quot;-Xmx4096m&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;avoid-plugin-overload&quot;&gt;7. Avoid Plugin Overload&lt;/h3&gt;
&lt;p&gt;With over a thousand plugins available, Jenkins offers its users many capabilities for empowering their CI/CD pipelines. However, keep performance in mind when adding plugins and external services to your pipeline. Integrating Jenkins with external services will often slow down the Jenkins UI and lead to adverse effects, like dropped agents or disconnections.&lt;/p&gt;
&lt;p&gt;In order to determine if a plugin is causing your builds to slow down, you can try running your builds with all or some plugins disabled. Gradually add each back to determine which is causing the bottleneck. Once you find the plugin (or combination of plugins) causing the performance issue, you have a few options:&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;strong&gt;Find a replacement plugin&lt;/strong&gt; by searching the &lt;a href=&quot;https://plugins.jenkins.io/&quot;&gt;Jenkins Plugin Index&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;See if Jenkins has added native support&lt;/strong&gt; for this feature by checking &lt;a href=&quot;https://www.jenkins.io/changelog/&quot;&gt;the changelog&lt;/a&gt;. You may have to upgrade Jenkins to get the latest features, but this is generally a good idea for performance anyway.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Replace the plugin with a custom script&lt;/strong&gt; bearing in mind that this could introduce new performance issues. Still, if you install a complex plugin, but only use one or two small features, a script might be more efficient.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Remove the plugin&lt;/strong&gt; if you can live without it. Sometimes this is a worthwhile tradeoff.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;tracking-jenkins-performance&quot;&gt;Tracking Jenkins Performance&lt;/h2&gt;
&lt;p&gt;As you start tuning your Jenkins performance, you might be interested in adding a plugin to help monitor and improve performance. For example, you can leverage the &lt;a href=&quot;https://plugins.jenkins.io/monitoring/&quot;&gt;Jenkins Monitoring plugin&lt;/a&gt; to get deep insights into your CI/CD pipeline, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Errors and logs&lt;/li&gt;
&lt;li&gt;Charts for CPU, memory, and average system load&lt;/li&gt;
&lt;li&gt;Reports on HTTP sessions and HTTP response time&lt;/li&gt;
&lt;li&gt;Detailed statistics for build time and build steps&lt;/li&gt;
&lt;li&gt;Aggregated heap histogram for all nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;https://i.imgur.com/mE6fSdy.png&quot; alt=&quot;Jenkins Performance Monitoring Tool&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Jenkins Performance Monitoring Tool&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This can help you assess the effectiveness of your performance tweaks and guide you as you continue to improve your Jenkins installation.&lt;/p&gt;
&lt;h2 id=&quot;wrapping-it-up&quot;&gt;Wrapping It Up&lt;/h2&gt;
&lt;p&gt;Jenkins responsiveness issues are common, especially when dealing with heavier builds. Broken Jenkins CI/CD pipelines can stall your development teams and create unnecessary dependencies. The tips discussed in this article should help you boost the performance of your Jenkins CI/CD pipeline significantly.&lt;/p&gt;
&lt;p&gt;Looking to make your builds more repeatable? &lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt; replaces clunky bash scripts and makefiles by giving you a single understandable, consistent definition for your CI/CD builds and it works great with Jekyll. Learn more &lt;a href=&quot;https://earthly.dev/&quot;&gt;at Earthly.dev&lt;/a&gt;.&lt;/p&gt;</content><author><name>Milan Bhardwaj</name></author><category term="Tutorials" /><summary type="html">Theres nothing more frustrating than a sluggish continuous integration system. It slows down feedback loops and prevents code from reaching production quickly. While quick fixes like using a bigger CI server can buy you time, you ultimately have to invest in maintaining the performance of your continuous integration workflow.</summary></entry><entry><title type="html">Understanding Bash</title><link href="https://earthly.dev/blog/understanding-bash/" rel="alternate" type="text/html" title="Understanding Bash" /><published>2021-04-01T00:00:00-04:00</published><updated>2021-04-01T00:00:00-04:00</updated><id>https://earthly.dev/blog/understanding-bash</id><content type="html" xml:base="https://earthly.dev/blog/understanding-bash/">&lt;p&gt;Bash scripts give you the ability to turn a tedious series of commands into an easily runnable and repeatable script. With many real-world use cases, like using a bash script to run a continuous deployment process, create a series of files in a folder, or download the contents of several URLs, its worth your time to make sure bash scripting is in your programming toolbox.&lt;/p&gt;
&lt;p&gt;When youre done with this article, youll not only be able to write bash scripts, but youll be able to write them using todays accepted best practices.&lt;/p&gt;
&lt;h2 id=&quot;use-the-right-shebang&quot;&gt;Use the Right Shebang&lt;/h2&gt;
&lt;p&gt;The very first thing youll see at the top of every (well-written) bash script is whats called a &lt;a href=&quot;https://www.in-ulm.de/~mascheck/various/shebang/&quot;&gt;&lt;em&gt;shebang&lt;/em&gt;&lt;/a&gt;. Ill walk you through a couple of them here.&lt;/p&gt;
&lt;h3 id=&quot;binbash&quot;&gt;#!/bin/bash&lt;/h3&gt;
&lt;p&gt;The most common shebang is the one referring to the &lt;code&gt;bash&lt;/code&gt; executable:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Essentially it tells your terminal that when you run the script it should use &lt;code&gt;bash&lt;/code&gt; to execute it. It can be vital since you may be using a different shell in your machine (&lt;code&gt;zsh&lt;/code&gt;, &lt;code&gt;fish&lt;/code&gt;, &lt;code&gt;sh&lt;/code&gt;, etc.), but you designed the script to work specifically with bash. In many cases, it doesnt matter what shell youre using, but there can be some very noteworthy differences in how they work, leading a script to work in &lt;code&gt;bash&lt;/code&gt; but not &lt;code&gt;sh&lt;/code&gt;, for example.&lt;/p&gt;
&lt;h3 id=&quot;userbinenv-bash&quot;&gt;#!/user/bin/env bash&lt;/h3&gt;
&lt;p&gt;If you use the previous shebang, its crucial that you give the executables absolute path. You should be aware of this since there is an alternative, where you use the &lt;code&gt;bash&lt;/code&gt; executable found in the &lt;code&gt;$PATH&lt;/code&gt;. You can do so by writing:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb2&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb2-1&quot;&gt;&lt;a href=&quot;#cb2-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/user/bin/env bash&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some people like to customize their systems, either their personal system or production servers, resulting in the &lt;code&gt;bash&lt;/code&gt; executable not being located in &lt;code&gt;/bin/bash&lt;/code&gt; every time. Use the above line if you cant be sure that the &lt;code&gt;bash&lt;/code&gt; executable will be located in the same path when this script is run.&lt;/p&gt;
&lt;h2 id=&quot;understand-common-sets&quot;&gt;Understand Common Sets&lt;/h2&gt;
&lt;p&gt;When you run a bash script, it will always run in a new &lt;em&gt;subshell&lt;/em&gt;. This means that any unique configurations you have in your current setup will not be used within the script execution. It also means that you can customize the environment that the script is running in without worrying about how your terminal will be affected.&lt;/p&gt;
&lt;p&gt;One way to change this environment is to use the &lt;code&gt;set&lt;/code&gt; command. Ill go over the four most common ones and where theyre useful. Ill show the short form for these sets in the examples throughout this article, but keep in mind that there are also long-form versions. Ill mention those briefly.&lt;/p&gt;
&lt;h3 id=&quot;set--u&quot;&gt;set -u&lt;/h3&gt;
&lt;p&gt;By default, bash doesnt do a lot of error handling. Thats left up to you. So if you want to have your script exit at a certain point, you have to define it. For example, you may have the following script:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-2&quot;&gt;&lt;a href=&quot;#cb3-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$TEST&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb3-3&quot;&gt;&lt;a href=&quot;#cb3-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you run the script as shown above, itll give you the following output:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hello&lt;/span&gt; World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See how it doesnt complain that the &lt;code&gt;$TEST&lt;/code&gt; variable is not set? You can change that. Setting the &lt;code&gt;set -u&lt;/code&gt; (short form of &lt;code&gt;set -o nounset&lt;/code&gt;) command initially, youre telling bash that you want it to fail if a variable is not set.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Script:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb5-2&quot;&gt;&lt;a href=&quot;#cb5-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-u&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb5-3&quot;&gt;&lt;a href=&quot;#cb5-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;$TEST&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb5-4&quot;&gt;&lt;a href=&quot;#cb5-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;line&lt;/span&gt; 3: TEST: unbound variable&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Without &lt;code&gt;set -u&lt;/code&gt;, bash will use an empty string instead of the unset variable. When running &lt;code&gt;echo $TEST&lt;/code&gt;, that isnt too dangerous. However, you may be running a command like &lt;code&gt;rm -rf /$TEST&lt;/code&gt; to define a path you want to delete. In this case, without &lt;code&gt;set -u&lt;/code&gt;, you would end up deleting your entire file system (which theres no way to recover by default).&lt;/p&gt;
&lt;h3 id=&quot;set--x&quot;&gt;set -x&lt;/h3&gt;
&lt;p&gt;Youll likely at some point have a big script where its tough to keep track of not just which commands are running what, but also which commands are outputting what. This is where &lt;code&gt;set -x&lt;/code&gt; comes to the rescue. Alternatively, you can write this as its long form, &lt;code&gt;set -o xtrace&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When using &lt;code&gt;set -x&lt;/code&gt;, you get the following script and output.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Script:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-2&quot;&gt;&lt;a href=&quot;#cb7-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-x&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb7-3&quot;&gt;&lt;a href=&quot;#cb7-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hi&lt;/span&gt;
&lt;span id=&quot;cb7-4&quot;&gt;&lt;a href=&quot;#cb7-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;+&lt;/span&gt; echo Hi&lt;/span&gt;
&lt;span id=&quot;cb8-2&quot;&gt;&lt;a href=&quot;#cb8-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hi&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb8-3&quot;&gt;&lt;a href=&quot;#cb8-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;+&lt;/span&gt; echo Hello World&lt;/span&gt;
&lt;span id=&quot;cb8-4&quot;&gt;&lt;a href=&quot;#cb8-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hello&lt;/span&gt; World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;set--e&quot;&gt;set -e&lt;/h3&gt;
&lt;p&gt;Sometimes you want to make sure that the entire script fails if one of the commands fails. This is not the default behavior in bash. You can see &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html&quot;&gt;here&lt;/a&gt; that without any set options, bash is running without much error handling.&lt;/p&gt;
&lt;p&gt;To make sure the script fails, you should use &lt;code&gt;set -e&lt;/code&gt; (also known as &lt;code&gt;set -o errexit&lt;/code&gt;), probably the most common one.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Script:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb9-2&quot;&gt;&lt;a href=&quot;#cb9-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-e&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb9-3&quot;&gt;&lt;a href=&quot;#cb9-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;foo&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb9-4&quot;&gt;&lt;a href=&quot;#cb9-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello World&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;line&lt;/span&gt; 3: foo: command not found&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;set--eo-pipefail&quot;&gt;set -eo pipefail&lt;/h3&gt;
&lt;p&gt;Finally, we can make the script fail if a command in a pipeline fails. Usually, bash only looks for the exit code from the last command in a pipeline. If thats 0, itll continue just fine. Exit code 0 is what we want, since in bash that means success.&lt;/p&gt;
&lt;p&gt;Lets use the following script as an example:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello World&lt;/span&gt;
&lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;set -eo pipefail&lt;/code&gt; will turn the output from:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb12&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb12-1&quot;&gt;&lt;a href=&quot;#cb12-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hello&lt;/span&gt; World&lt;/span&gt;
&lt;span id=&quot;cb12-2&quot;&gt;&lt;a href=&quot;#cb12-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;line&lt;/span&gt; 2: foo: command not found&lt;/span&gt;
&lt;span id=&quot;cb12-3&quot;&gt;&lt;a href=&quot;#cb12-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hi&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;into:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hello&lt;/span&gt; World&lt;/span&gt;
&lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;line&lt;/span&gt; 2: foo: command not found&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The reason you may want the script to fail if a pipeline fails is the same as earlier with &lt;code&gt;set -u&lt;/code&gt;. Lets modify the scenario a bit. You have the following in your script:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;FILE_PATH&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;cat&lt;/span&gt; /tmp/path.txt &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;sed&lt;/span&gt; s/_/-/g&lt;span class=&quot;va&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-rf&lt;/span&gt; /&lt;span class=&quot;va&quot;&gt;$FILE_PATH&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note: &lt;code&gt;sed&lt;/code&gt; is a search-and-replace command. In this case it replaces underscores with dashes.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The intention is that &lt;code&gt;/tmp/path.txt&lt;/code&gt; contains &lt;code&gt;tmp_file.txt&lt;/code&gt;. Assume that the file &lt;code&gt;/tmp-file.txt&lt;/code&gt; exists on the system. In this case the script will work perfectly and delete &lt;code&gt;/tmp-file.txt&lt;/code&gt;. But what if &lt;code&gt;/tmp/path.txt&lt;/code&gt; doesnt exist? &lt;code&gt;cat /tmp/path.txt&lt;/code&gt; will fail, but the script wont. Now youve deleted your entire filesystem, but &lt;code&gt;set -eo pipefail&lt;/code&gt; will prevent this.&lt;/p&gt;
&lt;h3 id=&quot;sets-in-summary&quot;&gt;Sets in Summary&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th&gt;Set&lt;/th&gt;
&lt;th&gt;Long form&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td&gt;set -u&lt;/td&gt;
&lt;td&gt;set -o nounset&lt;/td&gt;
&lt;td&gt;Exits script on undefined variables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td&gt;set -x&lt;/td&gt;
&lt;td&gt;set -o xtrace&lt;/td&gt;
&lt;td&gt;Shows command currently executing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td&gt;set -e&lt;/td&gt;
&lt;td&gt;set -o errexit&lt;/td&gt;
&lt;td&gt;Exits script on error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td&gt;set -eo pipefail&lt;/td&gt;
&lt;td&gt;set -eo pipefail&lt;/td&gt;
&lt;td&gt;Exits script on pipeline fail&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;use-error-checking-tools&quot;&gt;Use Error Checking Tools&lt;/h2&gt;
&lt;p&gt;Although you may be familiar with all the best practices, it can be tough to remember them all when your script is coming to life. Luckily there are tools available to help, like &lt;a href=&quot;https://www.shellcheck.net/#&quot;&gt;ShellCheck&lt;/a&gt;. ShellCheck has both a browser version and a command-line tool, but for this article, lets work with the command-line version. You can find &lt;a href=&quot;https://github.com/koalaman/shellcheck#installing&quot;&gt;installation instructions here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Well use the following script as an example:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;What&amp;#39;s your name?&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;NAME&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello &lt;span class=&quot;va&quot;&gt;$NAME&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By saving this in a script in a file called &lt;code&gt;greeting.sh&lt;/code&gt; and running &lt;code&gt;shellcheck greeting.sh&lt;/code&gt;, you get the following output in your terminal:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;In greeting.sh line 1:
echo &amp;quot;What&amp;#39;s your name?&amp;quot;
^-- SC2148: Tips depend on target shell and yours is unknown. Add a shebang or a &amp;#39;shell&amp;#39; directive.


In greeting.sh line 2:
read NAME
^--^ SC2162: read without -r will mangle backslashes.


In greeting.sh line 3:
echo Hello $NAME
           ^---^ SC2086: Double quote to prevent globbing and word splitting.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, &lt;code&gt;shellcheck&lt;/code&gt; doesnt just tell you what you need to change, but also why it needs to be changed. This is a valuable resource, not just for improving your scripts, but also to get better at writing them in the first place.&lt;/p&gt;
&lt;p&gt;With these tips, youll end up with the following script:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb17&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb17-1&quot;&gt;&lt;a href=&quot;#cb17-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;co&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-2&quot;&gt;&lt;a href=&quot;#cb17-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Whats your name&lt;span class=&quot;pp&quot;&gt;?&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-3&quot;&gt;&lt;a href=&quot;#cb17-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;NAME&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb17-4&quot;&gt;&lt;a href=&quot;#cb17-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; Hello &lt;span class=&quot;va&quot;&gt;$NAME&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;understand-variable-naming-and-declaration&quot;&gt;Understand Variable Naming and Declaration&lt;/h2&gt;
&lt;p&gt;As you saw earlier, we tried to use the &lt;code&gt;$TEST&lt;/code&gt; variable. Variables can open up a whole world of opportunities, but they can also be tricky to work with. Lets go over some of the common scenarios for working with variables.&lt;/p&gt;
&lt;h3 id=&quot;assigning-variables&quot;&gt;Assigning Variables&lt;/h3&gt;
&lt;p&gt;Assigning a variable in bash is reasonably straightforward, using the &lt;code&gt;=&lt;/code&gt; symbol. Heres an example of assigning Hello World to a &lt;code&gt;$TEST&lt;/code&gt; variable:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb18&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb18-1&quot;&gt;&lt;a href=&quot;#cb18-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; MSG=&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello world!&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-2&quot;&gt;&lt;a href=&quot;#cb18-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;va&quot;&gt;$MSG&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb18-3&quot;&gt;&lt;a href=&quot;#cb18-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Hello&lt;/span&gt; world!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;using-variables-inside-strings&quot;&gt;Using Variables Inside Strings&lt;/h3&gt;
&lt;p&gt;There are multiple ways to use a variable that youve assigned a value. As an example, weve assigned &lt;code&gt;foo=uname&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&quot;double-quotes&quot;&gt;Double Quotes&lt;/h4&gt;
&lt;p&gt;If you want to echo the contents of a variable, then use double quotes. It will expand whats inside the variable and print that to the screen.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb19&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb19-1&quot;&gt;&lt;a href=&quot;#cb19-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; foo=uname&lt;/span&gt;
&lt;span id=&quot;cb19-2&quot;&gt;&lt;a href=&quot;#cb19-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;$foo&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb19-3&quot;&gt;&lt;a href=&quot;#cb19-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;uname&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;single-quotes&quot;&gt;Single Quotes&lt;/h4&gt;
&lt;p&gt;In some cases, you dont want to output a variables contents, but maybe write an explanation of what that variable is used for. To avoid expansion, use single quotes:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb20&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb20-1&quot;&gt;&lt;a href=&quot;#cb20-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; foo=uname&lt;/span&gt;
&lt;span id=&quot;cb20-2&quot;&gt;&lt;a href=&quot;#cb20-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;st&quot;&gt;&amp;#39;$foo&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb20-3&quot;&gt;&lt;a href=&quot;#cb20-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;va&quot;&gt;$foo&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This also means that you dont have to manually escape the &lt;code&gt;$&lt;/code&gt; symbol, which you otherwise would need to in the case of double quotes.&lt;/p&gt;
&lt;h4 id=&quot;backticks&quot;&gt;Backticks&lt;/h4&gt;
&lt;p&gt;The third option for using a variable is backticks. Use this when you want the contents of the variable to be run as a shell command:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb21&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb21-1&quot;&gt;&lt;a href=&quot;#cb21-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; foo=uname&lt;/span&gt;
&lt;span id=&quot;cb21-2&quot;&gt;&lt;a href=&quot;#cb21-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;kw&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;$foo&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb21-3&quot;&gt;&lt;a href=&quot;#cb21-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Linux&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;using-curly-brackets&quot;&gt;Using Curly Brackets&lt;/h3&gt;
&lt;p&gt;You can get away with merely referring to a variable by writing &lt;code&gt;$FOO&lt;/code&gt;. However, you may want to refer to a variable inside a string or concatenate it with another. Take a look at the following example:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb22&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb22-1&quot;&gt;&lt;a href=&quot;#cb22-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; FOO=&lt;span class=&quot;st&quot;&gt;&amp;quot;Hel&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb22-2&quot;&gt;&lt;a href=&quot;#cb22-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;$FOOlo&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; world&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this case, bash would try to find the variable &lt;code&gt;$FOOlo&lt;/code&gt;, but we just wanted to print Hello world. To make this work, you will have to do the following:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb23&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb23-1&quot;&gt;&lt;a href=&quot;#cb23-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; FOO=&lt;span class=&quot;st&quot;&gt;&amp;quot;Hel&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb23-2&quot;&gt;&lt;a href=&quot;#cb23-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; echo &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;${FOO}&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;lo world&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is most likely useful when you want to use a variable to define a path, like &lt;code&gt;/opt/${ENVIRONMENT}_build.txt&lt;/code&gt;. Without curly brackets, the script would try to look up &lt;code&gt;$ENVIRONMENT_build&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;properly-set-permissions&quot;&gt;Properly Set Permissions&lt;/h2&gt;
&lt;p&gt;One of the pitfalls that I remember running into time and time again when I started making bash scripts was remembering that &lt;a href=&quot;https://www.guru99.com/file-permissions.html&quot;&gt;permissions&lt;/a&gt; had to be set right. See, when you make a file with, for example, &lt;code&gt;touch&lt;/code&gt;, it gives read/write permissions to the owner and read rights to everyone else. This means that youll get a &lt;code&gt;permission denied&lt;/code&gt; error when you try to run the script.&lt;/p&gt;
&lt;p&gt;Luckily this is easily fixed. Run &lt;code&gt;chmod +x script.sh&lt;/code&gt;, and now everyone is allowed to run the script.&lt;/p&gt;
&lt;p&gt;However, do be aware that changing permissions can impose security risks. Read more about &lt;a href=&quot;https://www.linux.com/training-tutorials/understanding-linux-file-permissions/&quot;&gt;Linux file permissions&lt;/a&gt; before you start changing permissions blindly.&lt;/p&gt;
&lt;h2 id=&quot;ensure-readability&quot;&gt;Ensure Readability&lt;/h2&gt;
&lt;p&gt;One of the biggest pitfalls that newcomers run into is forgetting about readability. Its easy to get caught up in wanting to have a working script, and maybe youre even used to running everything manually in the terminal, where you want to type as little as possible.&lt;/p&gt;
&lt;p&gt;When it comes to scripts, you want to make sure that you can still easily remember whats happening six months down the line. An easy way to do this is by using more extended options (&lt;code&gt;--quiet&lt;/code&gt; instead of &lt;code&gt;-q&lt;/code&gt;), using longer variable names (&lt;code&gt;MESSAGE&lt;/code&gt; instead of &lt;code&gt;MSG&lt;/code&gt;), and writing comments.&lt;/p&gt;
&lt;p&gt;You can write commands using a hash mark, after which you can write your comment, like so:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Below line will echo Hello World!
echo Hello World!&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;understand-your-script-in-relation-to-cli&quot;&gt;Understand Your Script in Relation to CLI&lt;/h2&gt;
&lt;p&gt;When reading this article, you may have noticed that many code examples are being run straight in the terminal rather than written as a bash script. Theres a good reason for that! You can write everything you write in a bash script directly in the terminal.&lt;/p&gt;
&lt;p&gt;There is one significant difference between executing a script and typing the commands in your terminal. When you run a script, itll start up a new, clean shell in which the script will run. This means that no variables set in your terminal will interfere with your script.&lt;/p&gt;
&lt;p&gt;For example, if you set &lt;code&gt;TEST=hello&lt;/code&gt; in your shell and run &lt;code&gt;echo $TEST&lt;/code&gt; inside a script, it will print nothing to your screen.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;At this point, you should be ready to venture into the exciting world of bash scripting. Youve learned about common shebangs, what &lt;code&gt;set&lt;/code&gt; does, and how it can improve the error handling of your scripts, as well as understanding some general pitfalls developers run into with bash.&lt;/p&gt;
&lt;p&gt;So go ahead and automate those annoying commands youve been typing out every day. Tired of manually going into your browser and finding the git repo youre working on? Make a script to parse the remote git URL and open it automatically. Maybe you have to rename a bunch of files. Make a script that can loop through them and rename them. The world is your oyster.&lt;/p&gt;</content><author><name>Kasper Siig</name></author><category term="Tutorials" /><summary type="html">Bash scripts give you the ability to turn a tedious series of commands into an easily runnable and repeatable script. With many real-world use cases, like using a bash script to run a continuous deployment process, create a series of files in a folder, or download the contents of several URLs, its worth your time to make sure bash scripting is in your programming toolbox.</summary></entry><entry><title type="html">Compiling Containers - Dockerfiles, LLVM, and BuildKit</title><link href="https://earthly.dev/blog/compiling-containers-dockerfiles-llvm-and-buildkit/" rel="alternate" type="text/html" title="Compiling Containers - Dockerfiles, LLVM, and BuildKit" /><published>2021-03-17T00:00:00-04:00</published><updated>2021-03-17T00:00:00-04:00</updated><id>https://earthly.dev/blog/compiling-containers-dockerfiles-llvm-and-buildkit</id><content type="html" xml:base="https://earthly.dev/blog/compiling-containers-dockerfiles-llvm-and-buildkit/">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;How are containers made? Usually, from a series of statements like &lt;code&gt;RUN&lt;/code&gt;, &lt;code&gt;FROM&lt;/code&gt;, and &lt;code&gt;COPY&lt;/code&gt;, which are put into a Dockerfile and built. But how are those commands turned into a container image and then a running container? We can build up an intuition for how this works by understanding the phases involved and creating a container image ourselves. We will create an image programmatically and then develop a trivial syntactic frontend and use it to build an image.&lt;/p&gt;
&lt;h3 id=&quot;game-plan&quot;&gt;Game Plan&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt; Intro&lt;/li&gt;
&lt;li&gt; Background&lt;/li&gt;
&lt;li&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;&quot; /&gt;
Understanding Compiler Stages and BuildKit&lt;/li&gt;
&lt;li&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;&quot; /&gt;
Programmatically Creating an Image&lt;/li&gt;
&lt;li&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;&quot; /&gt;
Building a Frontend for BuildKit&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;on-docker-build&quot;&gt;On &lt;code&gt;Docker Build&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;We can create container images in several ways. We can use Buildpacks, we can use build tools like Bazel or sbt, but by far, the most common way images are built is using &lt;code&gt;docker build&lt;/code&gt; with a Dockerfile. The familiar base images Alpine, Ubuntu, and Debian are all created this way.&lt;/p&gt;
&lt;p&gt;Here is an example Dockerfile:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot; data-startFrom=&quot;100&quot;&gt;&lt;pre class=&quot;sourceCode numberSource dockerfile numberLines&quot;&gt;&lt;code class=&quot;sourceCode dockerfile&quot; style=&quot;counter-reset: source-line 99;&quot;&gt;&lt;span id=&quot;cb1-100&quot;&gt;&lt;a href=&quot;#cb1-100&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;FROM&lt;/span&gt; alpine&lt;/span&gt;
&lt;span id=&quot;cb1-101&quot;&gt;&lt;a href=&quot;#cb1-101&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;COPY&lt;/span&gt; README.md README.md&lt;/span&gt;
&lt;span id=&quot;cb1-102&quot;&gt;&lt;a href=&quot;#cb1-102&quot;&gt;&lt;/a&gt;&lt;span class=&quot;kw&quot;&gt;RUN&lt;/span&gt; echo &lt;span class=&quot;st&quot;&gt;&amp;quot;standard docker build&amp;quot;&lt;/span&gt; &amp;gt; /built.txt&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We will be using variations on this Dockerfile throughout this tutorial.&lt;/p&gt;
&lt;p&gt;We can build it like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker build . -t test&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But what is happening when you call &lt;code&gt;docker build&lt;/code&gt;? To understand that, we will need a little background.&lt;/p&gt;
&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;
&lt;p&gt;A docker image is made up of layers. Those layers form an immutable filesystem. A container image also has some descriptive data, such as the start-up command, the ports to expose, and volumes to mount. When you &lt;code&gt;docker run&lt;/code&gt; an image, it starts up inside a container runtime.&lt;/p&gt;
&lt;p&gt;I like to think about images and containers by analogy. If an image is like an executable, then a container is like a process. You can run multiple containers from one image, and a running image isnt an image at all but a container.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/1-2.png&quot; title=&quot;fig:&quot; alt=&quot;An image is like an executable&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Continuing our analogy, &lt;a href=&quot;https://github.com/moby/buildkit&quot;&gt;BuildKit&lt;/a&gt; is a compiler, just like &lt;a href=&quot;https://en.wikipedia.org/wiki/LLVM&quot;&gt;LLVM&lt;/a&gt;. But whereas a compiler takes source code and libraries and produces an executable, BuildKit takes a Dockerfile and a file path and creates a container image.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/099.png&quot; alt=&quot;BuildKit is like a compiler for Docker images&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;BuildKit is like a compiler for Docker images&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;Docker build uses BuildKit, to turn a Dockerfile into a docker image, OCI image, or another image format. In this walk-through, we will primarily use BuildKit directly.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/buildctl-2.png&quot; alt=&quot;Docker Daemon with BuildKit Daemon inside it&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Docker Daemon with BuildKit Daemon inside it&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;This &lt;a href=&quot;https://earthly.dev/blog/what-is-buildkit-and-what-can-i-do-with-it/&quot;&gt;primer on using buildkit&lt;/a&gt; supplies some helpful background on using BuildKit, &lt;code&gt;buildkitd&lt;/code&gt;, and &lt;code&gt;buildctl&lt;/code&gt; via the command-line. However, the only prerequisite for today is running &lt;code&gt;brew install buildkit&lt;/code&gt; or the appropriate OS &lt;a href=&quot;https://github.com/moby/buildkit#quick-start&quot;&gt;equivalent&lt;/a&gt; steps.&lt;/p&gt;
&lt;h2 id=&quot;how-do-compilers-work&quot;&gt;How Do Compilers Work?&lt;/h2&gt;
&lt;p&gt;A traditional compiler takes code in a high-level language and lowers it to a lower-level language. In most conventional ahead-of-time compilers, the final target is machine code. Machine code is a low-level programming language that your CPU understands&lt;a href=&quot;#fn1&quot; class=&quot;footnote-ref&quot; id=&quot;fnref1&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;notice--info&quot;&gt;
&lt;p&gt;&lt;strong&gt; Fun Fact: Machine Code VS. Assembly&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Machine code is written in binary. This makes it hard for a human to understand. Assembly code is a plain-text representation of machine code that is designed to be somewhat human-readable. There is generally a 1-1 mapping between instructions the machine understands (in machine code) and the OpCodes in Assembly&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Compiling the classic c Hello, World into x86 assembly code using the CLANG frontend for LLVM looks like this:&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/compilingc.png&quot; alt=&quot;Compiling Hello World to X86 assembly&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Compiling Hello World to X86 assembly&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;Creating an image from a dockerfile works a similar way:&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/build-an-image.png&quot; alt=&quot;Compiling Docker Image&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Compiling Docker Image&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;BuildKit is passed the Dockerfile and the build context, which is the present working directory in the above diagram. In simplified terms, each line in the dockerfile is turned into a layer in the resulting image. One significant way image building differs from compiling is this build context. A compilers input is limited to source code, whereas &lt;code&gt;docker build&lt;/code&gt; takes a reference to the host filesystem as an input and uses it to perform actions such as &lt;code&gt;COPY&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;there-is-a-catch&quot;&gt;There Is a Catch&lt;/h2&gt;
&lt;p&gt;The earlier diagram of compiling Hello, World in a single step missed a vital detail. Computer hardware is not a singular thing. If every compiler were a hand-coded mapping from a high-level language to x86 machine code, then moving to the Apple M1 processor would be quite challenging because it has a different instruction set.&lt;/p&gt;
&lt;p&gt;Compiler authors have overcome this challenge by splitting compilation into phases. The traditional phases are the frontend, the backend, and the middle. The middle phase is sometimes called the optimizer, and it deals primarily with an internal representation (IR).&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/3stagebuild.png&quot; alt=&quot;Three stage build process&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Three stage build process&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;This staged approach means you dont need a new compiler for each new machine architecture. Instead, you just need a new backend. Here is an example of what that looks like in &lt;a href=&quot;https://llvm.org/&quot;&gt;LLVM&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/backends.png&quot; alt=&quot;Backends of LLVM&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Backends of LLVM&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intermediate-representations&quot;&gt;Intermediate Representations&lt;/h2&gt;
&lt;p&gt;This multiple backend approach allows LLVM to target ARM, X86, and many other machine architectures using LLVM Intermediate Representation (IR) as a standard protocol. LLVM IR is a human-readable programming language that backends need to be able to take as input. To create a new backend, you need to write a translator from LLVM IR to your target machine code. That translation is the primary job of each backend.&lt;/p&gt;
&lt;p&gt;Once you have this IR, you have a protocol that various phases of the compiler can use as an interface, and you can build not just many backends but many frontends as well. LLVM has frontends for numerous languages, including C++, Julia, Objective-C, Rust, and Swift.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/frontends-2.png&quot; alt=&quot;One compiler, with many frontend and backends&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;One compiler, with many frontend and backends&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;If you can write a translation from your language to LLVM IR, LLVM can translate that IR into machine code for all the backends it supports. This translation function is the primary job of a compiler frontend.&lt;/p&gt;
&lt;p&gt;In practice, there is much more to it than that. Frontends need to tokenize and parse input files, and they need to return pleasant errors. Backends often have target-specific optimizations to perform and heuristics to apply. But for this tutorial, the critical point is that having a standard representation ends up being a bridge that connects many front ends with many backends. This shared interface removes the need to create a compiler for every combination of language and machine architecture. It is a simple but very empowering trick!&lt;/p&gt;
&lt;h2 id=&quot;buidkit&quot;&gt;BuidKit&lt;/h2&gt;
&lt;p&gt;Images, unlike executables, have their own isolated filesystem. Nevertheless, the task of building an image looks very similar to compiling an executable. They can have varying syntax (dockerfile1.0, dockerfile1.2), and the result must target several machine architectures (arm64 vs.x86_64).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LLB is to Dockerfile what LLVM IR is to C - &lt;a href=&quot;https://github.com/moby/buildkit/blob/master/README.md&quot;&gt;BuildKit Readme&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This similarity was not lost on the BuildKit creators. BuildKit has its own intermediate representation, LLB. And where LLVM IR has things like function calls and garbage-collection strategies, LLB has mounting filesystems and executing statements.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/LLBIR-fixed.png&quot; alt=&quot;LLVM IR VS. LLB&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;LLVM IR VS. LLB&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/moby/buildkit/blob/ebd98bcbe600c662a72ce9725417540f277be4d6/solver/pb/ops.proto&quot;&gt;LLB&lt;/a&gt; is defined as a protocol buffer, and this means that BuildKit frontends can make GRPC requests against buildkitd to build a container directly.&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/Send-LLB.png&quot; alt=&quot;LLVM IR VS. LLB&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;LLVM IR VS. LLB&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;h2 id=&quot;programmatically-making-an-image&quot;&gt;Programmatically Making An Image&lt;/h2&gt;
Alright, enough background. Lets programmatically generate the LLB for an image and then build an image.&lt;br /&gt;

&lt;div class=&quot;notice--info&quot;&gt;
&lt;p&gt; Using Go&lt;/p&gt;
&lt;p&gt;In this example, we will be using Go which lets us leverage existing BuildKit libraries, but its possible to accomplish this in any language with Protocol Buffer support.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Import LLB defintions:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import (
    &amp;quot;github.com/moby/buildkit/client/llb&amp;quot;
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create LLB for an Alpine image:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func createLLBState() llb.State {
    return llb.Image(&amp;quot;docker.io/library/alpine&amp;quot;).
        File(llb.Copy(llb.Local(&amp;quot;context&amp;quot;), &amp;quot;README.md&amp;quot;, &amp;quot;README.md&amp;quot;)).
        Run(llb.Args([]string{&amp;quot;/bin/sh&amp;quot;, &amp;quot;-c&amp;quot;, &amp;quot;echo \&amp;quot;programmatically built\&amp;quot; &amp;gt; /built.txt&amp;quot;})).
    Root()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are accomplishing the equivalent of a &lt;code&gt;FROM&lt;/code&gt; by using &lt;code&gt;llb.Image&lt;/code&gt;. Then, we copy a file from the local file system into the image using &lt;code&gt;File&lt;/code&gt; and &lt;code&gt;Copy&lt;/code&gt;. Finally, we &lt;code&gt;RUN&lt;/code&gt; a command to echo some text to a file. LLB has many more operations, but you can recreate many standard images with these three building blocks.&lt;/p&gt;
&lt;p&gt;The final thing we need to do is turn this into protocol-buffer and emit it to standard out:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func main() {

    dt, err := createLLBState().Marshal(context.TODO(), llb.LinuxAmd64)
    if err != nil {
        panic(err)
    }
    llb.WriteTo(dt, os.Stdout)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lets look at the what this generates using the &lt;code&gt;dump-llb&lt;/code&gt; option of buildctl:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; go run ./writellb/writellb.go | \
 buildctl debug dump-llb | \
 jq .
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We get this JSON formatted LLB:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
  &amp;quot;Op&amp;quot;: {
    &amp;quot;Op&amp;quot;: {
      &amp;quot;source&amp;quot;: {
        &amp;quot;identifier&amp;quot;: &amp;quot;local://context&amp;quot;,
        &amp;quot;attrs&amp;quot;: {
          &amp;quot;local.unique&amp;quot;: &amp;quot;s43w96rwjsm9tf1zlxvn6nezg&amp;quot;
        }
      }
    },
    &amp;quot;constraints&amp;quot;: {}
  },
  &amp;quot;Digest&amp;quot;: &amp;quot;sha256:c3ca71edeaa161bafed7f3dbdeeab9a5ab34587f569fd71c0a89b4d1e40d77f6&amp;quot;,
  &amp;quot;OpMetadata&amp;quot;: {
    &amp;quot;caps&amp;quot;: {
      &amp;quot;source.local&amp;quot;: true,
      &amp;quot;source.local.unique&amp;quot;: true
    }
  }
}
{
  &amp;quot;Op&amp;quot;: {
    &amp;quot;Op&amp;quot;: {
      &amp;quot;source&amp;quot;: {
        &amp;quot;identifier&amp;quot;: &amp;quot;docker-image://docker.io/library/alpine:latest&amp;quot;
      }
    },
    &amp;quot;platform&amp;quot;: {
      &amp;quot;Architecture&amp;quot;: &amp;quot;amd64&amp;quot;,
      &amp;quot;OS&amp;quot;: &amp;quot;linux&amp;quot;
    },
    &amp;quot;constraints&amp;quot;: {}
  },
  &amp;quot;Digest&amp;quot;: &amp;quot;sha256:665ba8b2cdc0cb0200e2a42a6b3c0f8f684089f4cd1b81494fbb9805879120f7&amp;quot;,
  &amp;quot;OpMetadata&amp;quot;: {
    &amp;quot;caps&amp;quot;: {
      &amp;quot;source.image&amp;quot;: true
    }
  }
}
{
  &amp;quot;Op&amp;quot;: {
    &amp;quot;inputs&amp;quot;: [
      {
        &amp;quot;digest&amp;quot;: &amp;quot;sha256:665ba8b2cdc0cb0200e2a42a6b3c0f8f684089f4cd1b81494fbb9805879120f7&amp;quot;,
        &amp;quot;index&amp;quot;: 0
      },
      {
        &amp;quot;digest&amp;quot;: &amp;quot;sha256:c3ca71edeaa161bafed7f3dbdeeab9a5ab34587f569fd71c0a89b4d1e40d77f6&amp;quot;,
        &amp;quot;index&amp;quot;: 0
      }
    ],
    &amp;quot;Op&amp;quot;: {
      &amp;quot;file&amp;quot;: {
        &amp;quot;actions&amp;quot;: [
          {
            &amp;quot;input&amp;quot;: 0,
            &amp;quot;secondaryInput&amp;quot;: 1,
            &amp;quot;output&amp;quot;: 0,
            &amp;quot;Action&amp;quot;: {
              &amp;quot;copy&amp;quot;: {
                &amp;quot;src&amp;quot;: &amp;quot;/README.md&amp;quot;,
                &amp;quot;dest&amp;quot;: &amp;quot;/README.md&amp;quot;,
                &amp;quot;mode&amp;quot;: -1,
                &amp;quot;timestamp&amp;quot;: -1
              }
            }
          }
        ]
      }
    },
    &amp;quot;platform&amp;quot;: {
      &amp;quot;Architecture&amp;quot;: &amp;quot;amd64&amp;quot;,
      &amp;quot;OS&amp;quot;: &amp;quot;linux&amp;quot;
    },
    &amp;quot;constraints&amp;quot;: {}
  },
  &amp;quot;Digest&amp;quot;: &amp;quot;sha256:ba425dda86f06cf10ee66d85beda9d500adcce2336b047e072c1f0d403334cf6&amp;quot;,
  &amp;quot;OpMetadata&amp;quot;: {
    &amp;quot;caps&amp;quot;: {
      &amp;quot;file.base&amp;quot;: true
    }
  }
}
{
  &amp;quot;Op&amp;quot;: {
    &amp;quot;inputs&amp;quot;: [
      {
        &amp;quot;digest&amp;quot;: &amp;quot;sha256:ba425dda86f06cf10ee66d85beda9d500adcce2336b047e072c1f0d403334cf6&amp;quot;,
        &amp;quot;index&amp;quot;: 0
      }
    ],
    &amp;quot;Op&amp;quot;: {
      &amp;quot;exec&amp;quot;: {
        &amp;quot;meta&amp;quot;: {
          &amp;quot;args&amp;quot;: [
            &amp;quot;/bin/sh&amp;quot;,
            &amp;quot;-c&amp;quot;,
            &amp;quot;echo \&amp;quot;programmatically built\&amp;quot; &amp;gt; /built.txt&amp;quot;
          ],
          &amp;quot;cwd&amp;quot;: &amp;quot;/&amp;quot;
        },
        &amp;quot;mounts&amp;quot;: [
          {
            &amp;quot;input&amp;quot;: 0,
            &amp;quot;dest&amp;quot;: &amp;quot;/&amp;quot;,
            &amp;quot;output&amp;quot;: 0
          }
        ]
      }
    },
    &amp;quot;platform&amp;quot;: {
      &amp;quot;Architecture&amp;quot;: &amp;quot;amd64&amp;quot;,
      &amp;quot;OS&amp;quot;: &amp;quot;linux&amp;quot;
    },
    &amp;quot;constraints&amp;quot;: {}
  },
  &amp;quot;Digest&amp;quot;: &amp;quot;sha256:d2d18486652288fdb3516460bd6d1c2a90103d93d507a9b63ddd4a846a0fca2b&amp;quot;,
  &amp;quot;OpMetadata&amp;quot;: {
    &amp;quot;caps&amp;quot;: {
      &amp;quot;exec.meta.base&amp;quot;: true,
      &amp;quot;exec.mount.bind&amp;quot;: true
    }
  }
}
{
  &amp;quot;Op&amp;quot;: {
    &amp;quot;inputs&amp;quot;: [
      {
        &amp;quot;digest&amp;quot;: &amp;quot;sha256:d2d18486652288fdb3516460bd6d1c2a90103d93d507a9b63ddd4a846a0fca2b&amp;quot;,
        &amp;quot;index&amp;quot;: 0
      }
    ],
    &amp;quot;Op&amp;quot;: null
  },
  &amp;quot;Digest&amp;quot;: &amp;quot;sha256:fda9d405d3c557e2bd79413628a435da0000e75b9305e52789dd71001a91c704&amp;quot;,
  &amp;quot;OpMetadata&amp;quot;: {
    &amp;quot;caps&amp;quot;: {
      &amp;quot;constraints&amp;quot;: true,
      &amp;quot;platform&amp;quot;: true
    }
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Looking through the output, we can see how our code maps to LLB.&lt;/p&gt;
&lt;p&gt;Here is our &lt;code&gt;Copy&lt;/code&gt; as part of a FileOp:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;quot;Action&amp;quot;: {
              &amp;quot;copy&amp;quot;: {
                &amp;quot;src&amp;quot;: &amp;quot;/README.md&amp;quot;,
                &amp;quot;dest&amp;quot;: &amp;quot;/README.md&amp;quot;,
                &amp;quot;mode&amp;quot;: -1,
                &amp;quot;timestamp&amp;quot;: -1
              }&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is mapping our build context for use in our &lt;code&gt;COPY&lt;/code&gt; command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  &amp;quot;Op&amp;quot;: {
      &amp;quot;source&amp;quot;: {
        &amp;quot;identifier&amp;quot;: &amp;quot;local://context&amp;quot;,
        &amp;quot;attrs&amp;quot;: {
          &amp;quot;local.unique&amp;quot;: &amp;quot;s43w96rwjsm9tf1zlxvn6nezg&amp;quot;
        }
      }&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Similarly, the output contains LLB that corresponds to our &lt;code&gt;RUN&lt;/code&gt; and &lt;code&gt;FROM&lt;/code&gt; commands.&lt;/p&gt;
&lt;h3 id=&quot;building-our-llb&quot;&gt;Building Our LLB&lt;/h3&gt;
&lt;p&gt;To build our image, we must first start &lt;code&gt;buildkitd&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm --privileged -d --name buildkit moby/buildkit
export BUILDKIT_HOST=docker-container://buildkit&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then build our image like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;go run ./writellb/writellb.go | \
buildctl build \
--local context=. \
--output type=image,name=docker.io/agbell/test,push=true&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The output flag lets us specify what backend we want BuildKit to use. We will ask it to build an OCI image and push it to docker.io.&lt;/p&gt;
&lt;div class=&quot;notice--info&quot;&gt;
&lt;p&gt; Real-World Usage&lt;/p&gt;
&lt;p&gt;In the real-world tool, we might want to programmatically make sure &lt;code&gt;buildkitd&lt;/code&gt; is running and send the RPC request directly to it, as well as provide friendly error messages. For tutorial purposes, we will skip all that.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;We can run it like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; docker run -it --pull always agbell/test:latest /bin/sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can then see the results of our programmatic &lt;code&gt;COPY&lt;/code&gt; and &lt;code&gt;RUN&lt;/code&gt; commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/ # cat built.txt 
programmatically built
/ # ls README.md
README.md&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There we go! The &lt;a href=&quot;https://github.com/agbell/compiling-containers/blob/main/writellb/writellb.go&quot;&gt;full code example&lt;/a&gt; can be a great starting place for your own programmatic docker image building.&lt;/p&gt;
&lt;h2 id=&quot;a-true-frontend-for-buildkit&quot;&gt;A True Frontend for BuildKit&lt;/h2&gt;
&lt;p&gt;A true compiler front end does more than just emit hardcoded IR. A proper frontend takes in files, tokenizes them, parses them, generates a syntax tree, and then lowers that syntax tree into the internal representation. &lt;a href=&quot;https://matt-rickard.com/building-a-new-dockerfile-frontend/&quot;&gt;Mockerfiles&lt;/a&gt; are an example of such a frontend:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#syntax=r2d4/mocker
apiVersion: v1alpha1
images:
- name: demo
  from: ubuntu:16.04
  package:
    install:
    - curl
    - git
    - gcc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And because Docker build supports the &lt;code&gt;#syntax&lt;/code&gt; command we can even build a Mockerfiles directly with &lt;code&gt;docker build&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker build -f mockerfile.yaml&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To support the #syntax command, all that is needed is to put the frontend in a docker image that accepts a GRPC request in the correct format, publish that image somewhere. At that point, anyone can use your frontend &lt;code&gt;docker build&lt;/code&gt; by just using &lt;code&gt;#syntax=yourimagename&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;building-our-own-example-frontend-for-docker-build&quot;&gt;Building Our Own Example Frontend for &lt;code&gt;Docker build&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Building a tokenizer and a parser as a GRPC service is beyond the scope of this article. But we can get our feet wet by extracting and modifying an existing frontend. The standard &lt;a href=&quot;https://github.com/moby/buildkit/tree/master/frontend/dockerfile&quot;&gt;dockerfile frontend&lt;/a&gt; is easy to disentangle from the moby project. Ive pulled the relevant parts out into a &lt;a href=&quot;https://github.com/agbell/compiling-containers/tree/main/ickfile&quot;&gt;stand-alone repo&lt;/a&gt;. Lets make some trivial modifications to it and test it out.&lt;/p&gt;
&lt;p&gt;So far, weve only used the docker commands &lt;code&gt;FROM&lt;/code&gt;, &lt;code&gt;RUN&lt;/code&gt; and &lt;code&gt;COPY&lt;/code&gt;. At a surface level, with its capitalized commands, Dockerfile syntax looks a lot like the programming language &lt;a href=&quot;https://earthly.dev/blog/intercal-yaml-and-other-horrible-programming-languages/&quot;&gt;INTERCAL&lt;/a&gt;. Let change these commands to their INTERCAL equivalent and develop our own Ickfile format &lt;a href=&quot;#fn2&quot; class=&quot;footnote-ref&quot; id=&quot;fnref2&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th&gt;Dockerfile&lt;/th&gt;
&lt;th style=&quot;text-align: center;&quot;&gt;Ickfile&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td&gt;FROM&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;COME FROM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td&gt;RUN&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;PLEASE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td&gt;COPY&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;STASH&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The modules in the dockerfile frontend split the parsing of the input file into several discreet steps, with execution flowing this way:&lt;/p&gt;
&lt;div class=&quot;wide&quot;&gt;
&lt;figure&gt;
&lt;img src=&quot;/blog/assets/images/compiling-containers-dockerfiles-llvm-and-buildkit/controlflow.png&quot; alt=&quot;ControlFlow from main.go to Dockerfile2LLB to Parser to Command.go&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;ControlFlow from main.go to Dockerfile2LLB to Parser to Command.go&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;
&lt;p&gt;For this tutorial, we are only going to make trivial changes to the frontend. We will leave all the stages intact and focus on customizing the existing commands to our tastes. To do this, all we need to do is change &lt;code&gt;command.go&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package command

// Define constants for the command strings
const (
    Copy        = &amp;quot;stash&amp;quot;
    Run         = &amp;quot;please&amp;quot;
    From        = &amp;quot;come_from&amp;quot;
    ...
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we build our image:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker build . -t agbell/ick&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can use this image as a BuildKit frontend and build images with it like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#syntax=agbell/ick
COME_FROM alpine
STASH README.md README.md
PLEASE echo &amp;quot;custom frontend built&amp;quot; &amp;gt; /built.txt&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;DOCKER_BUILDKIT=1 docker build . -f ./Ickfile -t ick &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can run it just like any other image:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; docker run -it ick /bin/sh&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can then see results of our &lt;code&gt;STASH&lt;/code&gt; and &lt;code&gt;PLEASE&lt;/code&gt; commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/ # cat built.txt 
custom frontend built
/ # ls README.md
README.md&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ive pushed this image to dockerhub. Anyone can start building images using our &lt;code&gt;ickfile&lt;/code&gt; format by adding &lt;code&gt;#syntax=agbell/ick&lt;/code&gt; to an existing Dockerfile. No manual installation is required!&lt;/p&gt;
&lt;div class=&quot;notice--info&quot;&gt;
&lt;p&gt; Enabling BuildKit&lt;/p&gt;
&lt;p&gt;BuildKit is included but not enabled by default in the current version of Docker (&lt;code&gt;version 20.10.2&lt;/code&gt;). To instruct &lt;code&gt;docker build&lt;/code&gt; to use BuildKit set the following environment variable &lt;code&gt;DOCKER_BUILDKIT=1&lt;/code&gt;. This will not be necessary once BuildKit reaches general availability.&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;We have learned that a three-phased structure borrowed from compilers powers building images, that an intermediate representation called LLB is the key to that structure. Empowered by the knowledge, we have produced two frontends for building images.&lt;/p&gt;
&lt;p&gt;This deep dive on frontends still leaves much to explore. If you want to learn more, I suggest looking into BuildKit workers. Workers do the actual building and are the secret behind &lt;code&gt;docker buildx&lt;/code&gt;, and &lt;a href=&quot;https://docs.docker.com/buildx/working-with-buildx/&quot;&gt;multi-archtecture builds&lt;/a&gt;. &lt;code&gt;docker build&lt;/code&gt; also has support for remote workers and cache mounts, both of which can lead to faster builds.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt; uses BuildKit internally for its repeatable build syntax. Without it, our containerized Makefile-like syntax would not be possible. If you want a saner CI process, then &lt;a href=&quot;https://earthly.dev/&quot;&gt;you should check it out&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There is also much more to explore about how modern compilers work. Modern compilers often have many stages and more than one intermediate representation, and they are often able to do very sophisticated optimizations.&lt;a href=&quot;#fn3&quot; class=&quot;footnote-ref&quot; id=&quot;fnref3&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The difference between the two is murky, but I like to think of a transpiler as something that translates from one human-readable text-based programming language to another. The java compiler translates Java code to java byte code, which is a binary format. Meanwhile, PureScript, which translates to JavaScript, is regarded as a transpiler because JavaScript is text-based.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Fun Fact: You may have heard the term transpiler or transcompiler in the past. Transpilers are compilers that transform one programming language into another. If all compilers translate from one language to another, then what makes something a transpiler?&lt;a href=&quot;#fnref1&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn2&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Ick is the name of the INTERCAL compiler. Therefore Ickfile can be its Dockerfile equivalent.&lt;a href=&quot;#fnref2&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&quot;fn3&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;If you want to learn more about optimizing compilers, Matt Godbolts article on &lt;a href=&quot;https://queue.acm.org/detail.cfm?id=3372264&quot;&gt;C++ Optimizations&lt;/a&gt; is a great place to start. The book &lt;a href=&quot;https://www.amazon.com/Building-Optimizing-Compiler-Bob-Morgan/dp/155558179X&quot;&gt;Building an Optimizing Compiler&lt;/a&gt; is also often recommended online.&lt;a href=&quot;#fnref3&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</content><author><name>Adam Gordon Bell</name></author><category term="Tutorials" /><summary type="html">How are containers made? Usually, from a series of statements like RUN, FROM, and COPY, which are put into a Dockerfile and built. But how are those commands turned into a container image and then a running container?</summary></entry><entry><title type="html">On YAML Discussions</title><link href="https://earthly.dev/blog/on-yaml-discussions/" rel="alternate" type="text/html" title="On YAML Discussions" /><published>2021-03-12T00:00:00-05:00</published><updated>2021-03-12T00:00:00-05:00</updated><id>https://earthly.dev/blog/on-yaml-discussions</id><content type="html" xml:base="https://earthly.dev/blog/on-yaml-discussions/">&lt;p&gt;My article about how &lt;a href=&quot;https://earthly.dev/blog/intercal-yaml-and-other-horrible-programming-languages/&quot;&gt;YAML makes a bad programming language&lt;/a&gt; &lt;a href=&quot;#fn1&quot; class=&quot;footnote-ref&quot; id=&quot;fnref1&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; generated a lot of great discussions online.&lt;/p&gt;
&lt;p&gt;Here are some highlights, lightly edited:&lt;/p&gt;
&lt;h2 id=&quot;config-traps&quot;&gt;Config Traps&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=26276420&quot;&gt;dkarl&lt;/a&gt; pointed out that putting things in config files that shouldnt be there happens for many reasons:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Reason:&lt;/strong&gt; Pride in creating a generic system that can be configured to do all kinds of new things without touching the code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reality check:&lt;/strong&gt; only one or two programmers understand how to modify the config file, and changes have to go through the same life cycle as a code change, so you havent gained anything. Youve only made it harder to onboard new programmers to the project.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reason:&lt;/strong&gt; Hope that if certain logic is encoded in config files, then it can never get complicated.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reality check:&lt;/strong&gt; Product requirements do not magically become simpler because of your implementation decisions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reason:&lt;/strong&gt; Hope that you can get non-programmers to code review your business logic.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reality check:&lt;/strong&gt; the DSL you embedded in your config file isnt as human readable as you think it is.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;dhall-is-strange&quot;&gt;DHALL is Strange&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://lobste.rs/s/1nxt6g/intercal_yaml_other_horrible#c_pc0dt6&quot;&gt;AndyC&lt;/a&gt; thought that Dhall was not the right answer to the YAML problem:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I agree with the problem, but disagree with the solution. Total languages dont give you any useful engineering properties, but lack of side effects do (and Dhall also offers that).&lt;/p&gt;
&lt;p&gt;From the surface, it seems like HCL, jsonnet, and Cue, are just as suitable as Dhall, and probably more familiar (to varying degrees).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is an excellent point. &lt;a href=&quot;https://github.com/hashicorp/hcl&quot;&gt;HCL&lt;/a&gt; does look a bit less strange to outsiders, and Hashicorp already has mindshare in the DevOps community, and it certainly beats config templates.&lt;/p&gt;
&lt;h2 id=&quot;dsl-creation-story&quot;&gt;DSL Creation Story&lt;/h2&gt;
&lt;p&gt;Reddit user &lt;a href=&quot;https://www.reddit.com/r/programming/comments/ls6tgm/intercal_yaml_and_other_horrible_programming/gopf8fj/?utm_source=reddit&amp;amp;utm_medium=web2x&amp;amp;context=3&quot;&gt;XANi_&lt;/a&gt; explained how DSLs embedded in YAML keep getting created: &amp;gt; The vicious cycle of &amp;gt; * We dont want config to be turing complete, we just need to declare some initial setup &amp;gt; &amp;gt; * Oops, we need to add some conditions. Just code it as data, changing config format is too much work &amp;gt; &amp;gt; * Oops, we need to add some templates. Just use &amp;lt;primary languages popular templating library&amp;gt;, changing config format is too much work. &amp;gt; &amp;gt; * And congratulations, you have now written a DSL &amp;gt; &amp;gt;If you need conditions and flexibility, picking existing language is by FAR superior choice.&lt;/p&gt;
&lt;h2 id=&quot;rake-webpack-and-groovy&quot;&gt;Rake, Webpack, and Groovy&lt;/h2&gt;
&lt;p&gt;Many readers pointed out that their development community skipped right by this DSL dead end by using a full programming language for build and config needs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I always thought it was weird that a lot of web technologies take config files that are executable javascript. (Thinking of webpack). But it makes a lot of sense now, and I much prefer that approach. - &lt;a href=&quot;https://www.reddit.com/r/programming/comments/ls6tgm/intercal_yaml_and_other_horrible_programming/gopq0uv/?utm_source=reddit&amp;amp;utm_medium=web2x&amp;amp;context=3&quot;&gt;Bunny&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Its fairly common in Pythonland [ to just use Python] &lt;/p&gt;
&lt;p&gt;Its an ideal solution for technically-savvy users in non-security sensitive contexts. - &lt;a href=&quot;https://www.reddit.com/r/programming/comments/ls6tgm/intercal_yaml_and_other_horrible_programming/gopy30z/?utm_source=reddit&amp;amp;utm_medium=web2x&amp;amp;context=3&quot;&gt;&lt;strong&gt;crakers&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Im not convinced that just using programming language for your configuration files is actually that bad. For instance, with node, if you just use JS files that export an object instead of. JSON files, you end up with a lot more programmable and flexible thing. I dont actually see the problem. - &lt;a href=&quot;https://www.reddit.com/r/programming/comments/ls6tgm/intercal_yaml_and_other_horrible_programming/goqm3z0/?utm_source=reddit&amp;amp;utm_medium=web2x&amp;amp;context=3&quot;&gt;light24bulbs&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;writing-a-parser&quot;&gt;Writing a Parser&lt;/h2&gt;
&lt;p&gt;Hillel Wayne wrote a &lt;a href=&quot;https://buttondown.email/hillelwayne/archive/a3fe2688-464d-4f98-ae6b-207e7b5a1255&quot;&gt;great newsletter&lt;/a&gt; on YAML, and the ways its abused. He pointed out that the main competition for embedding your DSL into YAML is writing a parser, and using YAML is just easier.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[YAML] preparses the content for us. This isnt a big enough draw to YAMLize complex programming languages, but its a huge huge deal for small DSLs. I suspect thats the main reason why semgrep uses YAML for its rules and why so many technologies jury-rig it into a configuration language&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can see the full commentary on the orginal article on &lt;a href=&quot;https://www.reddit.com/r/programming/comments/ls6tgm/intercal_yaml_and_other_horrible_programming/&quot;&gt;Reddit&lt;/a&gt;, on &lt;a href=&quot;https://news.ycombinator.com/item?id=26271582&quot;&gt;Hacker News&lt;/a&gt; and on &lt;a href=&quot;https://lobste.rs/s/1nxt6g/intercal_yaml_other_horrible&quot;&gt;Lobste.rs&lt;/a&gt;.&lt;/p&gt;
&lt;section class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;To clarify, YAML, when used as the syntax frontend for a domain-specific, vendor-specific, programming language is a bad idea. I am aware YAML is not a programming language itself.&lt;a href=&quot;#fnref1&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</content><author><name>Adam Gordon Bell</name></author><category term="Articles" /><category term="news" /><summary type="html">My article about how YAML makes a bad programming language 1 generated a lot of great discussions online. To clarify, YAML, when used as the syntax frontend for a domain-specific, vendor-specific, programming language is a bad idea. I am aware YAML is not a programming language itself.</summary></entry><entry><title type="html">Build Your Own Ngrok Clone With AWS</title><link href="https://earthly.dev/blog/build-your-own-ngrok-clone/" rel="alternate" type="text/html" title="Build Your Own Ngrok Clone With AWS" /><published>2021-03-11T00:00:00-05:00</published><updated>2021-03-11T00:00:00-05:00</updated><id>https://earthly.dev/blog/build-your-own-ngrok-clone</id><content type="html" xml:base="https://earthly.dev/blog/build-your-own-ngrok-clone/">&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://ngrok.com/&quot;&gt;Ngrok&lt;/a&gt; is a tool that allows you to create secure, publically accessible URLs for your locally running code. Just a simple &lt;code&gt;./ngrok http 3000&lt;/code&gt;, and your tunnel is up and running! It also comes with an inspector for all traffic traveling over its tunnels. Pretty slick right? However, for a stable domain it costs &lt;em&gt;at least&lt;/em&gt; $5/month, and it only goes up from there. Additionally, youre limited in the number of connections and tunnels that you can make.&lt;/p&gt;
&lt;p&gt;However, it can be hard to trust fancy tools like &lt;code&gt;ngrok&lt;/code&gt; until you experience how the sausage is made; at least once. It may also be hard to explan yet &lt;em&gt;another&lt;/em&gt; recurring charge on the credit card to your partner. So, here is a tutorial to build yourself a DIY &lt;code&gt;ngrok&lt;/code&gt; for free (at least 12 months, after that its very cheap), using the &lt;a href=&quot;https://aws.amazon.com/free/&quot;&gt;AWS Free Tier&lt;/a&gt;, &lt;a href=&quot;https://www.nginx.com/&quot;&gt;NGINX&lt;/a&gt;, and (of course) &lt;a href=&quot;https://earthly.dev/&quot;&gt;Earthly&lt;/a&gt;. The result is a decent approximation that wont break the bank.&lt;/p&gt;
&lt;h2 id=&quot;so-how-does-ngrok-work&quot;&gt;So, How Does &lt;code&gt;ngrok&lt;/code&gt; Work?&lt;/h2&gt;
&lt;p&gt;To understand why &lt;code&gt;ngrok&lt;/code&gt; is so cool, youll need to first understand how you would normally get traffic from the broader internet into your local machine. A typical flow would be something like this:&lt;/p&gt;
&lt;div class=&quot;wide&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/build-your-own-ngrok-clone/without_ngrok.png&quot; alt=&quot;Diagram showing the flow of traffic from a users web browser, through the internet, a home router, and finally the users computer. It points out that the user controls the DNS lookup, router, and their machine.&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This flow is normal for most of the machines on the internet today, but it has its downsides for local development. For instance, most home and non-commerical internet connections do not have a &lt;a href=&quot;https://whatismyipaddress.com/dynamic-static&quot;&gt;Static IP&lt;/a&gt; - which means you need to double-check your IP address before sending it out, or (more often) install and configure additional software to keep your DNS records up to date.&lt;/p&gt;
&lt;p&gt;Additionally, youll need to configure your router to forward that traffic to your machine. This configuration is typically fairly annoying to set up, and should also be turned off each time you arent using it, otherwise you are keeping your computer exposed to the internet at large! Its like putting a giant welcome mat out for hackers during their automated scans.&lt;/p&gt;
With this foundation, you can now understand why &lt;code&gt;ngrok&lt;/code&gt; (and our DIY one) is so cool! It removes the need for all this additional configuration, while also providing better security. All you need to do is add an extra computer into the mix, like this:
&lt;div class=&quot;wide&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;img src=&quot;/blog/assets/images/build-your-own-ngrok-clone/with_ngrok.png&quot; alt=&quot;Diagram showing the flow of traffic from a users web browser, through the internet, a home router, and finally the users computer. It points out that the user controls the DNS lookup, router, and their machine.&quot; /&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Because you are using a &lt;a href=&quot;https://en.wikipedia.org/wiki/Reverse_proxy&quot;&gt;Reverse Proxy&lt;/a&gt; to get the traffic from the extra computer to yours, no additional configuration is required on your end. And, when you are done, you can simply shut down the extra machine, and there are no loose ends or open ports left to close!&lt;/p&gt;
&lt;p&gt;As mentioned above, this tutorial uses AWS to create the proxy. Other cloud providers will work just as well, but the commands and samples in this document will be for AWS only. &lt;a href=&quot;https://github.com/earthly/example-diy-ngrok&quot;&gt;Pull requests are welcome&lt;/a&gt;, if you want to contribute specific scripts for your cloud provider of choice!&lt;/p&gt;
&lt;p&gt;One elephant in the room to address before moving on is the inevitable Why not (Terraform/Pulumi/Cloud Formation/My Favorite IAAS tool)? question. These tools are, in fact, made for setting up and tearing down insfrastructure exactly like this! However, using fewer tools helps keep this tutorial simple and accessible, so only the AWS CLI will be used throughout.&lt;/p&gt;
&lt;h2 id=&quot;lets-build-it&quot;&gt;Lets Build It&lt;/h2&gt;
&lt;p&gt;You will need the following to complete the rest of this tutorial:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An active AWS account &lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;(If you dont have one, you can sign up here)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html&quot;&gt;Installed the AWS CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html&quot;&gt;Configured AWS credentials&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Optionally, you may also want to install:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://stedolan.github.io/jq/&quot;&gt;jq&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With those in hand, its time to get started!&lt;/p&gt;
&lt;h3 id=&quot;where-will-the-instance-live&quot;&gt;Where will the instance live?&lt;/h3&gt;
&lt;p&gt;Before creating anything in the cloud, youll need to make sure that you have some information about the VPC and subnet the instance will be assigned to. This information can be found in the console, or on the command-line via &lt;code&gt;aws ec2 describe-subnets&lt;/code&gt;. It will list all your subnets, and the VPCs they belong to.&lt;/p&gt;
&lt;p&gt;If your cloud is like most peoples, you likely have quite a few of these lying around, which makes it difficult to find the one you want to place your proxy in. I like to add &lt;code&gt;jq&lt;/code&gt; into the mix to make it easier to parse, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 describe-subnets \
    | jq -r &amp;#39;.Subnets[] \
    | &amp;quot;\(.AvailabilityZone)\t\(.CidrBlock)\t\(.SubnetId)\t\(.VpcId)&amp;quot;&amp;#39; \
    | sort&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When selecting a subnet, ensure that the one you choose assigns public IP addresses, as you will need to accept traffic from the general internet later.&lt;/p&gt;
&lt;h3 id=&quot;ssh-keypair&quot;&gt;SSH Keypair&lt;/h3&gt;
&lt;p&gt;The first thing to create is your EC2 SSH keypair. This is simple to do, especially because the &lt;code&gt;aws&lt;/code&gt; tool can generate on for you.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 create-key-pair \
    --key-name proxy-key-pair \
    &amp;gt; key-output.json&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; About the AWS CLI output&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Note the &lt;code&gt;&amp;gt; key-output.json&lt;/code&gt; at the end. The &lt;code&gt;aws&lt;/code&gt; CLI tool will always &lt;a href=&quot;https://docs.aws.amazon.com/cli/latest/userguide/cliv2-migration.html#cliv2-migration-output-pager&quot;&gt;invoke your system pager with some kind of JSON output as the result of any calls&lt;/a&gt;. Because you dont want to lose the key generated by &lt;code&gt;aws&lt;/code&gt; for our yet-to-be-created instance, capture it here. Its a running trend that you will see throughout this tutorial.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;You can get the key directly with &lt;code&gt;jq&lt;/code&gt; by &lt;code&gt;jq -r .KeyPairId key-output.json&lt;/code&gt;, or via your preferred means.&lt;/p&gt;
&lt;h3 id=&quot;security-group&quot;&gt;Security Group&lt;/h3&gt;
&lt;p&gt;Now that you have a key pair, you will also need to create a security group for the instance to reside in. To oversimplify, a security group is essentially a firewall for your instance, constraining what ports traffic is allowed to enter or leave on. &lt;a href=&quot;https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html#VPCSecurityGroups&quot;&gt;You can read more about security groups here, for a longer and more complete explanation.&lt;/a&gt; Getting this right is important, so your proxy is less likely to be compromised.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 create-security-group \
    --group-name reverse-proxy \
    --description reverse-proxy \
    --vpc-id $VPC_ID \
    &amp;gt; sg-output.json&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Make sure you replace &lt;code&gt;$VPC_ID&lt;/code&gt; with the ID for the &lt;a href=&quot;#where-will-the-instance-live&quot;&gt;VPC you identified earlier&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;By default, AWS security groups are configured to disallow all traffic coming in (ingress), and to allow all traffic out (egress). While an instance that doesnt allow traffic in is fairly secure, it also doesnt do you much good. You will need to open up port 22 (ssh) for traffic from our current IP only, and port 80 (http) for traffic from the internet at large. By restricting SSH to your current IP address, you prevent external entities from attempting to SSH into your proxy.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 authorize-security-group-ingress \
    --group-id $SG_ID \
    --protocol tcp \
    --port 22 \
    --cidr $IP/32 \
    --no-cli-pager

 aws ec2 authorize-security-group-ingress \
    --group-id $SG_ID \
    --protocol tcp \
    --port 80 \
    --cidr 0.0.0.0/0 \
    --no-cli-pager&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Find your public IP from the command line&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;AWS has a public service that returns your IP to you. Its super handy for scripting, because its much clearer to read than the most popular &lt;code&gt;dig&lt;/code&gt;-based examples passed around on the internet. You can use it like this: &lt;code&gt;curl -s https://checkip.amazonaws.com&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Make sure you replace &lt;code&gt;$SG_ID&lt;/code&gt; with the ID for the security group you created earlier. If you saved the output like the sample earlier, you can get it by running &lt;code&gt;jq -r .GroupId sg-output.json&lt;/code&gt;. Also, make sure you replace &lt;code&gt;$IP&lt;/code&gt; with your &lt;em&gt;public&lt;/em&gt; IP address.&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;ec2-instance&quot;&gt;EC2 Instance&lt;/h3&gt;
&lt;p&gt;Now that you have keys, and a security group configured in AWS, youre finally ready to create your EC2 instance! Its easiest for this kind of work to use a &lt;code&gt;t2.micro&lt;/code&gt;, since that is available on AWS free tier. If your account is older than 1 year, this instance is still among the cheapest to provision. If a &lt;code&gt;t2.micro&lt;/code&gt; is too expensive, you may want to size down to a &lt;code&gt;t2.nano&lt;/code&gt;, or consider &lt;a href=&quot;https://aws.amazon.com/ec2/spot/&quot;&gt;spot instances&lt;/a&gt;, which are beyond the scope of this tutorial. The instance will be provisioned with an AMI using Amazon Linux 2, to keep things as simple as possible.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 run-instances \
    --image-id resolve:ssm:/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2 \
    --count 1 \
    --instance-type t2.micro \
    --key-name $KEY_NAME \
    --security-group-ids $SG_ID \
    --subnet-id $SUBNET_ID \
    &amp;gt; ec2-output.json&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Make sure you replace &lt;code&gt;$KEY_NAME&lt;/code&gt; with the name (&lt;em&gt;not id&lt;/em&gt;) of the keypair you created earlier (&lt;code&gt;proxy-key-pair&lt;/code&gt;). Also make sure you replace &lt;code&gt;$SG_ID&lt;/code&gt; with the ID for the security group you created earlier, and &lt;code&gt;$SUBNET_ID&lt;/code&gt; with the subnet you identified before you began.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; EC2 is fast, but not instant&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Although AWS can provision instances very quickly, it can &lt;em&gt;still&lt;/em&gt; take a couple minutes for the instance to come up, so be patient! You can wait for the instance on the CLI (if desired) by running the following command: &lt;code&gt;aws ec2 wait instance-status-ok --instance-ids $EC2_ID&lt;/code&gt;, where &lt;code&gt;$EC2_ID&lt;/code&gt; is the instance ID from the prior step.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Creating the instance isnt the end of our work, however. Youll still need to configure it to actually reverse proxy the traffic coming in from the internet to our local development machine. To that end, NGINX is a fantastic,battle-tested option. As soon the instance is ready, SSH into the box and install NGINX.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; sudo amazon-linux-extras install nginx1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NGINX needs to be configured to use the AWS-assigned public DNS name, and proxy traffic from port 80 to you. Heres a sample config you can use:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;upstream tunnel {
  server 127.0.0.1:8080;
}

server {
  server_name PUBLIC_DNS;
  
  location / {
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_redirect off;
    
    proxy_pass http://tunnel;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Be sure to replace &lt;code&gt;PUBLIC_DNS&lt;/code&gt; with the AWS public DNS name. This is &lt;em&gt;not&lt;/em&gt; in the initial output from AWS, because the DNS name is not granted until the machine enters a running state. You can find itby running &lt;code&gt;aws ec2 describe-instances --instance-ids $EC2_ID&lt;/code&gt;, where &lt;code&gt;$EC2_ID&lt;/code&gt; is the ID of the machine you provisioned earlier. This ID &lt;em&gt;can&lt;/em&gt; be found in the outputwhen you created the instance by running &lt;code&gt;jq -r '.Instances[0].InstanceId' ec2-output.json&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Save the completed configuration as &lt;code&gt;/etc/nginx/conf.d/server.conf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Additionally, NGINX doesnt quite handle the lengthy public DNS names that AWS hands out, so youll need to increase &lt;code&gt;server_names_hash_bucket_size&lt;/code&gt; to the next power of 2, which is &lt;code&gt;128&lt;/code&gt;. To do this, add &lt;code&gt;server_names_hash_bucket_size 128&lt;/code&gt; to &lt;code&gt;/etc/nginx/nginx.conf&lt;/code&gt;, in the &lt;code&gt;http&lt;/code&gt; section.&lt;/p&gt;
&lt;p&gt;Now that NGINX is configured, start it, and exit your SSH session.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; sudo service nginx start

...

 exit&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;using-the-proxy&quot;&gt;Using the Proxy&lt;/h3&gt;
&lt;p&gt;Now that the instance is configured, all you will need to do to allow the internet at large to connect to a service running on your local box is to use an &lt;code&gt;ssh&lt;/code&gt; reverse proxy to get data from AWS to your local machine! Start one up like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; ssh -i key.pem -R 8080:localhost:$LOCAL_PORT ec2-user@$PUBLIC_DNS&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Replace &lt;code&gt;$LOCAL_PORT&lt;/code&gt; with the port your application is running on, and &lt;code&gt;$PUBLIC_DNS&lt;/code&gt; with the AWS-assigned public DNS name, like you did for the NGINX config.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Once that is up, all you need to do is simply share the AWS public DNS name with anybody you want to allow into your locally-hosted website!&lt;/p&gt;
&lt;h2 id=&quot;teardown&quot;&gt;Teardown&lt;/h2&gt;
&lt;p&gt;Although you can leave the proxy up for as long as you like, youll likely need to tear it down eventually. If you have AWS console access, simply terminate the instance, delete the security group, and delete the keypair. If you saved the IDs of these resources (they are in the JSON responses from earlier), you can also do it via the command line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; aws ec2 terminate-instances --no-cli-pager --instance-ids $EC2_ID &amp;gt; /dev/null

 aws ec2 delete-key-pair --no-cli-pager --key-pair-id $KEY_ID &amp;amp;&amp;amp; \
  aws ec2 delete-security-group --no-cli-pager --group-id $SG_ID&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the instance could take a couple minutes to finish terminating. You will not be able to remove the key or security group before the instance has been terminated.&lt;/p&gt;
&lt;h2 id=&quot;create-using-earthly&quot;&gt;Create using Earthly&lt;/h2&gt;
&lt;p&gt;If you dont want to deal with manual setup or teardown, weve created an &lt;code&gt;Earthfile&lt;/code&gt; that should automate all of this for you. It can create a proxy just like this, from scratch, in under five minutes! To start up a proxy using &lt;code&gt;earthly&lt;/code&gt;, execute this &lt;em&gt;single&lt;/em&gt; command.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; earthly \
  --secret-file config=/home/user/.aws/config \
  --secret-file credentials=/home/dchw/.aws/credentials \
  --build-arg AWS_REGION=my_region \
  --build-arg SUBNET_ID=my_subnet \
  github.com/earthly/example-diy-ngrok:main+build-proxy&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;notice&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; AWS Credentials&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The reason youll need to pass the credentials, is so that our scripts can use them to construct the proxy. If you are uncomfortable passing credentials to a remote target, feel free to clone and inspect the repository before using it. You could also simplify this by trying out Earthlys experimental &lt;a href=&quot;https://docs.earthly.dev/guides/cloud-secrets&quot;&gt;cloud-based secrets.&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;notice--warning&quot; data-markdown=&quot;1&quot;&gt;
&lt;p&gt;&lt;strong&gt; Dont Forget&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Replace the following:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/home/user&lt;/code&gt; with the directory of the AWS configuration directory (&lt;code&gt;.aws&lt;/code&gt;)&lt;br /&gt;
&lt;code&gt;my-region&lt;/code&gt; with the AWS region you use.&lt;br /&gt;
&lt;code&gt;my-subnet&lt;/code&gt; with the ID of the subnet you would like to use.&lt;/p&gt;
&lt;p&gt;If you need to use temporary role-based credentials, add &lt;code&gt;--build-arg AWS_PROFILE=my_profile&lt;/code&gt;, where the profile is the one to assume when creating the resources.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Building this container will construct a proxy in the same manner detailed earlier, but with a few extra benefits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Allows you to retrieve the generated SSH key&lt;/li&gt;
&lt;li&gt;Automated teardown of the constructed proxy&lt;/li&gt;
&lt;li&gt;Sample SSH Command for proxying&lt;/li&gt;
&lt;li&gt;A list of all IDs for all resources created&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To see everything it can do, run &lt;code&gt;docker run proxy:latest&lt;/code&gt; for a list.&lt;/p&gt;
&lt;h2 id=&quot;shortcomings&quot;&gt;Shortcomings&lt;/h2&gt;
&lt;p&gt;This approach to a free, simple ngrok alternative isnt without its shortcomings. For instance, it cant do &lt;code&gt;https&lt;/code&gt; without a self-signed certificate, because issuers like Lets Encrypt wont issue certificates for AWS public DNS names. Also, it cant handle a ton of traffic since its a small &lt;code&gt;t2.micro&lt;/code&gt; capped at low bandwidth.&lt;/p&gt;
&lt;p&gt;It also requires non-trivial IAM permissions in AWS to setup and teardown. If you dont have that kind of access to an account, you may end up waiting on others to set it up for you.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Turns out its pretty simple to get something basic up and running, just like &lt;code&gt;ngrok&lt;/code&gt; does. But, if you find yourself relying on this kind of tooling every day, it may be better to pay for a service that can do it better.&lt;/p&gt;
&lt;p&gt;Thanks for following along with us! &lt;a href=&quot;https://github.com/earthly/example-diy-ngrok&quot;&gt;Visit the example repository, with all scripts avaliable here.&lt;/a&gt;&lt;/p&gt;
&lt;!--kg-card-end: markdown--&gt;</content><author><name>Corey Larson</name></author><category term="Tutorials" /><summary type="html">Ngrok is a tool that allows you to create secure, publically accessible URLs for your locally running code.</summary></entry><entry><title type="html">Understanding Docker Logging and Log Files</title><link href="https://earthly.dev/blog/understanding-docker-logging-and-log-files/" rel="alternate" type="text/html" title="Understanding Docker Logging and Log Files" /><published>2021-03-10T00:00:00-05:00</published><updated>2021-03-10T00:00:00-05:00</updated><id>https://earthly.dev/blog/understanding-docker-logging-and-log-files</id><content type="html" xml:base="https://earthly.dev/blog/understanding-docker-logging-and-log-files/">&lt;p&gt;Docker logging and its management are an important part of the containerization of your application. Once youve deployed your application, logging is one of the best tools to help reveal errors, aid in debugging, and optimize your applications performance.&lt;/p&gt;
&lt;p&gt;With that in mind, lets dive into Docker logging and its log files.&lt;/p&gt;
&lt;h2 id=&quot;introduction-to-docker-logging&quot;&gt;Introduction to Docker Logging&lt;/h2&gt;
&lt;p&gt;Developers, DevOps professionals, and product stakeholders all apply knowledge gained from logging to improve a systems performance and reliability. Much of what an application, server, or OS does should be recorded in the logs and aggregated in an easily accessible location. A &lt;a href=&quot;https://www.sumologic.com/glossary/log-analysis/&quot;&gt;log analysis&lt;/a&gt; then uses all the log events and audit trails to help chalk out a clear picture of events that happen across your application.&lt;/p&gt;
&lt;p&gt;In &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt;, containers are isolated and bundled with software, libraries, and configuration files. In a traditional single-server setup log analysis is centralized on a single node, but with a stateless containerized setup logging becomes more complex. Why? Two reasons:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Containers are transient.&lt;/strong&gt; When a Docker container broadcasts logs, it sends them to the applications &lt;code&gt;stdout&lt;/code&gt; and &lt;code&gt;stderr&lt;/code&gt; output streams. The underlying container logging driver can start accessing these streams, and the logs are stored on the Docker host in JSON files (&lt;a href=&quot;https://docs.docker.com/config/containers/logging/json-file/&quot;&gt;&lt;code&gt;json-file&lt;/code&gt; is the default logging driver used by Docker&lt;/a&gt;). It writes JSON-formatted logs to a file on the host where the container is running. Any logs stored in the container will be deleted when it is terminated or shut down.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Containers are multileveled.&lt;/strong&gt; There are two levels of aggregation in Docker logging. One refers to the logs from inside the container in your Dockerized application, and the second refers to the logs from the host servers (eg, system logs, Docker daemon logs), which are generally located in &lt;code&gt;/var/log&lt;/code&gt;. A log aggregator that has access to the host pulls application log files and accesses the file system inside the container to collect the logs. Later, youd need to correlate these log events for analysis.&lt;/p&gt;
&lt;p&gt;In this article, youll learn about different logging strategies you can use in a Dockerized applicationhow you can access logs and understand Docker logging commands, drivers, configuration, and management to build a highly performant and reliable infrastructure.&lt;/p&gt;
&lt;h2 id=&quot;docker-logging-commands&quot;&gt;Docker Logging Commands&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;docker logs&lt;/code&gt; is a command that shows all the information logged by a running container. The &lt;code&gt;docker service logs&lt;/code&gt; command shows information logged by all the containers participating in a service. By default, the output of these commands, as it would appear if you run the command in a terminal, opens up three I/O streams: STDIN, STDOUT, and STDERR. And the default is set to show only STDOUT and STDERR.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;STDIN is the commands input stream, which may include input from the keyboard or input from another command.&lt;/li&gt;
&lt;li&gt;STDOUT is usually a commands normal output.&lt;/li&gt;
&lt;li&gt;STDERR is typically used to output error messages.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;docker logs&lt;/code&gt; command may not be useful in cases when a logging driver is configured to send logs to a file, database, or an external host/backend, or if the image is configured to send logs to a file instead of STDOUT and STDERR. With &lt;code&gt;docker logs &amp;lt;CONTAINER_ID&amp;gt;&lt;/code&gt;, you can see all the logs broadcasted by a specific container identified by a unique ID.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb1&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb1-1&quot;&gt;&lt;a href=&quot;#cb1-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker run &lt;span class=&quot;at&quot;&gt;--name&lt;/span&gt; test &lt;span class=&quot;at&quot;&gt;-d&lt;/span&gt; busybox sh &lt;span class=&quot;at&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;while true; do &lt;/span&gt;&lt;span class=&quot;va&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;bu&quot;&gt;echo&lt;/span&gt; date&lt;span class=&quot;va&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;; sleep 1; done&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb1-2&quot;&gt;&lt;a href=&quot;#cb1-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; date&lt;/span&gt;
&lt;span id=&quot;cb1-3&quot;&gt;&lt;a href=&quot;#cb1-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Tue&lt;/span&gt; 06 Feb 2020 00:00:00 UTC&lt;/span&gt;
&lt;span id=&quot;cb1-4&quot;&gt;&lt;a href=&quot;#cb1-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;at&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;--until&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;=&lt;/span&gt;2s test&lt;/span&gt;
&lt;span id=&quot;cb1-5&quot;&gt;&lt;a href=&quot;#cb1-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Tue&lt;/span&gt; 06 Feb 2020 00:00:00 UTC&lt;/span&gt;
&lt;span id=&quot;cb1-6&quot;&gt;&lt;a href=&quot;#cb1-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Tue&lt;/span&gt; 06 Feb 2020 00:00:01 UTC&lt;/span&gt;
&lt;span id=&quot;cb1-7&quot;&gt;&lt;a href=&quot;#cb1-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;Tue&lt;/span&gt; 06 Feb 2020 00:00:02 UTC&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;docker logs&lt;/code&gt; works a bit differently in community and enterprise versions. In Docker Enterprise, &lt;code&gt;docker logs&lt;/code&gt; read logs created by any logging driver, but in Docker CE, it can only read logs created by the json-file, local, and journald drivers.&lt;/p&gt;
&lt;p&gt;For example, heres the JSON log created by the &lt;a href=&quot;https://hub.docker.com/_/hello-world&quot;&gt;hello-world&lt;/a&gt; Docker image using the json-file driver:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb2&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb2-1&quot;&gt;&lt;a href=&quot;#cb2-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;dt&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;log&amp;quot;&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello from Docker!\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;stream&amp;quot;&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;stdout&amp;quot;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;2021-02-10T00:00:00.000000000Z&amp;quot;&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, the log follows a pattern of printing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Logs origin&lt;/li&gt;
&lt;li&gt;Either &lt;code&gt;stdout&lt;/code&gt; or &lt;code&gt;stderr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;A timestamp&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can find this log in your Docker host at:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb3&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb3-1&quot;&gt;&lt;a href=&quot;#cb3-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; /var/lib/docker/containers/&lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;/&lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;-json.log  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These Docker logs are stored in a host container and will build up over time. To address that, you can implement log rotation, which will remove a chunk of logs at specified intervals, and a log aggregator, which can be used to push them into a centralized location for a permanent log repository. You can use this repository for further analysis and improvements in the system down the road.&lt;/p&gt;
&lt;p&gt;To find &lt;code&gt;container_id&lt;/code&gt;, run the &lt;code&gt;docker ps&lt;/code&gt; command. Itll list all the running containers.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb4&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb4-1&quot;&gt;&lt;a href=&quot;#cb4-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker ps&lt;/span&gt;
&lt;span id=&quot;cb4-2&quot;&gt;&lt;a href=&quot;#cb4-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;CONTAINER&lt;/span&gt; ID   IMAGE       COMMAND             CREATED             STATUS              PORTS     NAMES&lt;/span&gt;
&lt;span id=&quot;cb4-3&quot;&gt;&lt;a href=&quot;#cb4-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;cg95e1yqk810&lt;/span&gt;   bar_image  &lt;span class=&quot;st&quot;&gt;&amp;quot;node index.js&amp;quot;&lt;/span&gt;     Y min ago           Up Y min            80/tcp     bar_app&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, the &lt;code&gt;docker logs container_id&lt;/code&gt; lists the logs for a particular container.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb5&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb5-1&quot;&gt;&lt;a href=&quot;#cb5-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container_id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to follow the Docker container logs:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb6&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb6-1&quot;&gt;&lt;a href=&quot;#cb6-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container_id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; -f&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to see the last N log lines:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb7&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb7-1&quot;&gt;&lt;a href=&quot;#cb7-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container_id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; --tail N&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you only want to see any specific logs, use &lt;code&gt;grep&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb8&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb8-1&quot;&gt;&lt;a href=&quot;#cb8-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container_id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;grep&lt;/span&gt; node&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to check errors:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb9&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb9-1&quot;&gt;&lt;a href=&quot;#cb9-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker logs &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;container_id&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;at&quot;&gt;-i&lt;/span&gt; error&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;logging-drivers-supported-by-docker&quot;&gt;Logging Drivers Supported by Docker&lt;/h2&gt;
&lt;p&gt;Logging drivers, or log-drivers, are mechanisms for getting information from running containers and services, and Docker has lots of them available for you. Every Docker daemon has a default logging driver, which each container uses. Docker uses the json-file logging driver as its default driver.&lt;/p&gt;
&lt;p&gt;Currently, Docker supports the following logging drivers:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col style=&quot;width: 43%&quot; /&gt;
&lt;col style=&quot;width: 56%&quot; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th style=&quot;text-align: center;&quot;&gt;Driver&lt;/th&gt;
&lt;th style=&quot;text-align: center;&quot;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;none&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;No logs are available for the container and Docker logs do not return any output.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/local/&quot;&gt;local&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Logs are stored in a custom format designed for minimal overhead.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/json-file/&quot;&gt;json-file&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Logs are formatted as JSON. The default logging driver for Docker.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/syslog/&quot;&gt;syslog&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes logging messages to the Syslog facility. The Syslog daemon must be running on the host machine.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/journald/&quot;&gt;journald&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to journald. The journald daemon must be running on the host machine.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/gcplogs/&quot;&gt;gcplogs&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to Google Cloud Platform (GCP) logging.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/awslogs/&quot;&gt;awslogs&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to Amazon CloudWatch logs.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/splunk/&quot;&gt;splunk&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to Splunk using the HTTP Event Collector.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/gelf/&quot;&gt;gelf&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to a Graylog Extended Log Format (GELF) endpoint, such as Graylog or Logstash.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/fluentd/&quot;&gt;fluentd&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to fluentd (forward input). The fluentd daemon must be running on the host machine.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/etwlogs/&quot;&gt;etwlogs&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages as Event Tracing for Windows (ETW) events. Only available on Windows platforms.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;a href=&quot;https://docs.docker.com/config/containers/logging/logentries/&quot;&gt;logentries&lt;/a&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;Writes log messages to Rapid7 Logentries.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;configuring-the-logging-driver&quot;&gt;Configuring the Logging Driver&lt;/h3&gt;
&lt;p&gt;To configure the Docker daemon to a logging driver, you need to set the value of &lt;code&gt;log-driver&lt;/code&gt; to the name of the logging driver in the daemon.json configuration file. Then you need to restart Docker for the changes to take effect for all the newly created containers. All the existing containers will remain as they are.&lt;/p&gt;
&lt;p&gt;For example, lets set up a default logging driver with some additional options.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb10&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb10-1&quot;&gt;&lt;a href=&quot;#cb10-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-2&quot;&gt;&lt;a href=&quot;#cb10-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-driver&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;json-file&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-3&quot;&gt;&lt;a href=&quot;#cb10-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-opts&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-4&quot;&gt;&lt;a href=&quot;#cb10-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;max-size&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;25m&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-5&quot;&gt;&lt;a href=&quot;#cb10-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;max-file&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-6&quot;&gt;&lt;a href=&quot;#cb10-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;labels&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;production_bind&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-7&quot;&gt;&lt;a href=&quot;#cb10-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;env&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;os,customer&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-8&quot;&gt;&lt;a href=&quot;#cb10-8&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb10-9&quot;&gt;&lt;a href=&quot;#cb10-9&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To find the current logging driver for the Docker daemon:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb11&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb11-1&quot;&gt;&lt;a href=&quot;#cb11-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;  &lt;/span&gt;
&lt;span id=&quot;cb11-2&quot;&gt;&lt;a href=&quot;#cb11-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker info &lt;span class=&quot;at&quot;&gt;--format&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;{{.LoggingDriver}}&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb11-3&quot;&gt;&lt;a href=&quot;#cb11-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb11-4&quot;&gt;&lt;a href=&quot;#cb11-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;json-file&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can override the default driver by adding the &lt;code&gt;--log-driver&lt;/code&gt; option to the docker run command that creates a container.&lt;/p&gt;
&lt;p&gt;The following command will start using the Splunk driver:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb12&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb12-1&quot;&gt;&lt;a href=&quot;#cb12-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;docker&lt;/span&gt; run &lt;span class=&quot;at&quot;&gt;--log-driver&lt;/span&gt; splunk httpd&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Modify the &lt;code&gt;daemon.json&lt;/code&gt; file, to pass the address of the splunk host to the driver:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb13&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb13-1&quot;&gt;&lt;a href=&quot;#cb13-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb13-2&quot;&gt;&lt;a href=&quot;#cb13-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-driver&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;splunk&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb13-3&quot;&gt;&lt;a href=&quot;#cb13-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-opts&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb13-4&quot;&gt;&lt;a href=&quot;#cb13-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;splunk-url&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;172.1.1.1:11111&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb13-5&quot;&gt;&lt;a href=&quot;#cb13-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb13-6&quot;&gt;&lt;a href=&quot;#cb13-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb14&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb14-1&quot;&gt;&lt;a href=&quot;#cb14-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb14-2&quot;&gt;&lt;a href=&quot;#cb14-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker inspect &lt;span class=&quot;at&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;{{.HostConfig.LogConfig.Type}}&amp;#39;&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;CONTAINER&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb14-3&quot;&gt;&lt;a href=&quot;#cb14-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id=&quot;cb14-4&quot;&gt;&lt;a href=&quot;#cb14-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;splunk&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;choosing-the-delivery-mode-of-log-messages-from-container-to-log-driver&quot;&gt;Choosing the Delivery Mode of Log Messages From Container to Log Driver&lt;/h3&gt;
&lt;p&gt;Docker provides two modes for delivering log messages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Blocking (default):&lt;/strong&gt; The container interrupts the application every time it needs to deliver a message to the driver. This will add latency in the performance of your application (for some drivers), but itll guarantee that all the messages will be sent to the driver. Case in point, the json-file driver writes logs very quickly, therefore its unlikely to cause latency. But drivers like &lt;code&gt;gcplogs&lt;/code&gt; and &lt;code&gt;awslogs&lt;/code&gt; open a connection to a remote server and so are more likely to block and cause latency.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Non-Blocking:&lt;/strong&gt; The container writes and stores its logs to an in-memory ring buffer until the logging driver is available to process them. This ensures that a high rate of logging will not affect application performance. It does not guarantee that all the messages will be sent to the driver. In cases where log broadcasts are faster than the driver processor, the ring buffer will soon run out of space. As a result, buffered logs are deleted to make space for the next set of incoming logs. The default value for &lt;code&gt;max-buffer-size&lt;/code&gt; is 1 MB.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To change the mode:&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb15&quot;&gt;&lt;pre class=&quot;sourceCode json&quot;&gt;&lt;code class=&quot;sourceCode json&quot;&gt;&lt;span id=&quot;cb15-1&quot;&gt;&lt;a href=&quot;#cb15-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-2&quot;&gt;&lt;a href=&quot;#cb15-2&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-driver&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;splunk&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-3&quot;&gt;&lt;a href=&quot;#cb15-3&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;dt&quot;&gt;&amp;quot;log-opts&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-4&quot;&gt;&lt;a href=&quot;#cb15-4&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;splunk-url&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;172.1.1.1:11111&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-5&quot;&gt;&lt;a href=&quot;#cb15-5&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;        &lt;span class=&quot;dt&quot;&gt;&amp;quot;mode&amp;quot;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;non-blocking&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-6&quot;&gt;&lt;a href=&quot;#cb15-6&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;    &lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span id=&quot;cb15-7&quot;&gt;&lt;a href=&quot;#cb15-7&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;fu&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;understanding-logging-strategies&quot;&gt;Understanding Logging Strategies&lt;/h2&gt;
&lt;p&gt;Docker logging effectively means logging the events of an application, host OS, and the respective Docker service. There are a few defined logging strategies you should keep in mind when working with containerized apps.&lt;/p&gt;
&lt;h3 id=&quot;application-logging&quot;&gt;1. Application Logging&lt;/h3&gt;
&lt;p&gt;In this logging strategy, the application running in the containers will have its own logging framework. For example, a Node.js app could use a &lt;a href=&quot;https://www.npmjs.com/package/winston&quot;&gt;&lt;code&gt;winston&lt;/code&gt;&lt;/a&gt; library to format and send the logs. With this approach, you have complete control over the logging event.&lt;/p&gt;
&lt;p&gt;If you have multiple containers, you need to add an identifier at each container level, so you can uniquely determine the container and its respective logs. But as the size of the logs increases, this will start creating a load on the application process. Due to the transient nature of containers, the logs will be wiped out when a container is terminated or shut down.&lt;/p&gt;
&lt;p&gt;To address this, you have two options: - Configure steady storage to hold these logs, i.e.disks/data volumes. - Forward these logs to a log management solution.&lt;/p&gt;
&lt;h3 id=&quot;data-volumes&quot;&gt;2. Data Volumes&lt;/h3&gt;
&lt;p&gt;In this logging strategy, your containers directory gets links to one of the host machine directories that will hold all the data for you. Containers can now be terminated or shut down, and access logs from multiple containers.&lt;/p&gt;
&lt;p&gt;A regular backup is a good idea in order to prevent data corruption or loss in case of a failure. But if you want to shift the containers on different hosts without loss of data, then the data volumes strategy will make that difficult.&lt;/p&gt;
&lt;h3 id=&quot;docker-logging-driver&quot;&gt;3. Docker Logging Driver&lt;/h3&gt;
&lt;p&gt;Docker has a bunch of logging drivers that can be used in your logging strategy. The configured driver reads the data broadcast by the containers &lt;code&gt;stdout&lt;/code&gt; or &lt;code&gt;stderr&lt;/code&gt; streams and writes it to a file on the host machine. By default, the host machine holds the log files, but you can forward these events using the available drivers, like fluentd, Splunk, and awslogs.&lt;/p&gt;
&lt;p&gt;Note that the &lt;code&gt;docker log&lt;/code&gt; command will not work if you use anything other than the &lt;code&gt;json-file&lt;/code&gt; driver. And if log forwarding over a TCP connection fails or becomes unreachable, the containers will shut down.&lt;/p&gt;
&lt;h3 id=&quot;dedicated-logging-container&quot;&gt;4. Dedicated Logging Container&lt;/h3&gt;
&lt;p&gt;Here, you need to set up a dedicated container whose only job is to collect and manage logs within a Docker ecosystem. Itll aggregate, monitor, and analyze logs from containers and forward them to a central repository. The log dependency on the host machine is no longer an issue, and its best suited for microservices architecture.&lt;/p&gt;
&lt;p&gt;This strategy gives you the freedom to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Move containers between the hosts.&lt;/li&gt;
&lt;li&gt;Scale up by just adding a new container.&lt;/li&gt;
&lt;li&gt;Tie up all the various streams of log events.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;sidecar-logging-container&quot;&gt;5. Sidecar Logging Container&lt;/h3&gt;
&lt;p&gt;This logging strategy is similar to dedicated logging in that you have a container to hold logs, but here, each application has its own dedicated logging container (note that the application and its log container can be considered as a single unit). This opens up the flexibility of app-level logging customization. By adding custom identifiers, you can identify the specific container that broadcasts the log.&lt;/p&gt;
&lt;p&gt;This is best suited for a complex system where each entity customizes the logs, making it popular in microservices deployment. Maintaining a container per application level will require additional resources for management and setup, so its complex to implement. Also, you may end up losing data when a container from the unit becomes unserviceable.&lt;/p&gt;
&lt;h3 id=&quot;third-party-logging-services&quot;&gt;6. Third-party Logging Services&lt;/h3&gt;
&lt;p&gt;There are a lot of third-party logging services you can use according to your infrastructure and application needs, enabling you to aggregate, manage, and analyze logs and take proactive preventative actions as a result.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.splunk.com/&quot;&gt;Splunk&lt;/a&gt;:&lt;/strong&gt; Splunk is built to scale from a single server to multiple data centers. It has built-in alerting and reporting, real-time search, analysis, and visualization, which helps you take action against malfunctions faster. It comes with a Splunk Enterprise on-premise deployment and Splunk Cloud. The free plan comes with 500 MB data per day, and the paid plan starts from $150 a month for a GB.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/elastic/logstash&quot;&gt;Logstash&lt;/a&gt;:&lt;/strong&gt; Logstash is part of the &lt;a href=&quot;https://www.elastic.co/products&quot;&gt;Elastic Stack&lt;/a&gt; along with Beats, Elasticsearch, and Kibana. Its a server-side data processing pipeline that ingests data from a multitude of sources simultaneously, transforms it, and then sends it to your favourite stash. Logstash has over 200 plugins for input, filter/transform, and output. Its free and open source.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.fluentd.org/&quot;&gt;Fluentd&lt;/a&gt;:&lt;/strong&gt; Fluentd is an open-source data collector. Its performance has been well proven, handling 5 TB of daily data, 50,000 messages/sec at peak time. The main reason to use it would be performance. Its free and open source.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.papertrail.com/&quot;&gt;PaperTrail&lt;/a&gt;:&lt;/strong&gt; PaperTrail is a simple and user-friendly service that provides a terminal-like experience. Once the data is sent over the syslog, you can perform tail and search operations with the PaperTrail UI. Its affordable for low volumes but becomes expensive for higher volume. It comes with a free 50 MB/month plan, and paid plans start at $7/month for 1 GB per month.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.loggly.com/&quot;&gt;Loggly&lt;/a&gt;:&lt;/strong&gt; Loggly focuses on simplicity and ease of use for a DevOps audience. Its one of the more robust log analyzers. Primary use cases are for troubleshooting and customer support scenarios, and it provides richer visualizations and more parsing functionality than PaperTrail. It comes with a free 200 MB/day, and paid plans start at $79 a month for 1 GB per day ingestion with a 2 weeks retention.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;limitations-and-challenges-of-docker-logging&quot;&gt;Limitations and Challenges of Docker Logging&lt;/h2&gt;
&lt;p&gt;Docker makes containerized application deployment easier, faster, and streamlines it with limited resources. Log management and analysis are handled differently with Docker as compared to a traditional system, which introduces a new set of challenges and limitations. From storing logs in a file system to forwarding them to a central repository, Docker logging has some pain points youll need to overcome with a deeper understanding of Docker capability.&lt;/p&gt;
&lt;h3 id=&quot;the-only-compatible-driver-is-json-file&quot;&gt;The Only Compatible Driver Is json-file&lt;/h3&gt;
&lt;p&gt;The json-file driver is the only one that works with the &lt;code&gt;docker logs&lt;/code&gt; command, a limitation of Docker logs. When you start using any other logging drivers, such as Fluentd or Splunk, the &lt;code&gt;docker logs&lt;/code&gt; command shows an error and the Docker logs API calls will fail. Also, you wont be able to check the container logs in this situation.&lt;/p&gt;
&lt;h3 id=&quot;docker-syslog-impacts-container-deployment&quot;&gt;Docker Syslog Impacts Container Deployment&lt;/h3&gt;
&lt;p&gt;The reliable way to deliver logs is via Docker Syslog with TCP or TLS. But this driver needs an established TCP connection to the Syslog server whenever a container starts up. And the container will fail ife a connection is not made.&lt;/p&gt;
&lt;div class=&quot;sourceCode&quot; id=&quot;cb16&quot;&gt;&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span id=&quot;cb16-1&quot;&gt;&lt;a href=&quot;#cb16-1&quot; aria-hidden=&quot;true&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;ex&quot;&gt;$&lt;/span&gt; docker: Error response from daemon: Failed to initialize logging driver: dial tcp&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Your container deployment will be affected if you face network problems or latency issues. And its not recommended that you restart the Syslog server because this will drop all the connections from the containers to a central Syslog server.&lt;/p&gt;
&lt;h3 id=&quot;potential-loss-of-logs-with-docker-syslog-driver&quot;&gt;Potential Loss of Logs with Docker Syslog Driver&lt;/h3&gt;
&lt;p&gt;The Docker syslog driver needs an established TCP or TLS connection to deliver logs. Note that when the connection is down or not reachable, youll start losing the logs until the connection reestablished.&lt;/p&gt;
&lt;h3 id=&quot;multiline-logs-not-supported&quot;&gt;Multiline Logs Not Supported&lt;/h3&gt;
&lt;p&gt;Generally, either of two patterns is followed for logging: single-line per log or multiple lines with extended information per log, like stack traces or exceptions. But with Docker logging, this is a moot point, because containers always broadcast logs to the same output: &lt;code&gt;stdout&lt;/code&gt;. ### Multiple Logging Drivers Not Supported Its mandatory that you use only a single driver for all of your logging needs. Scenarios where you can store logs locally and push it to remote servers are not supported.&lt;/p&gt;
&lt;h3 id=&quot;logs-can-miss-or-skip&quot;&gt;Logs Can Miss or Skip&lt;/h3&gt;
&lt;p&gt;Theres a rate limitation setting at the Docker end for journald drivers that takes care of the rate that logs get pushed. If it exceeds, then the driver might skip some logs. To prevent such issues, increase the rate limitation settings according to your logging needs.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;While Docker containerization allows developers to encapsulate a program and its file system into a single portable package, that certainly doesnt mean containerization is free of maintenance. Docker Logging is a bit more complex than traditional methods, so teams using Docker must familiarize themselves with the Docker logging to support full-stack visibility, troubleshooting, performance improvements, root cause analysis, etc.&lt;/p&gt;
&lt;p&gt;As we have seen in this post, to facilitate logging, Docker offers logging drivers and commands in the platform which gives you the mechanisms for accessing the performance data and also provides plugins to integrate with third-party logging tools as well. To maximize the logging capabilities there are several methods and strategies which help in designing your logging infrastructure, but each comes with its advantages and disadvantages.&lt;/p&gt;
&lt;p&gt;With this understanding of logging, containerization can be a powerful tool. Earthly is a containerized &lt;a href=&quot;https://earthly.dev/&quot;&gt;continuous integration tool&lt;/a&gt;. If youve ever had to deal with flaky builds you should &lt;a href=&quot;https://earthly.dev/&quot;&gt;check it out&lt;/a&gt;.&lt;/p&gt;</content><author><name>Sanket Makhija</name></author><category term="Tutorials" /><category term="docker" /><category term="tutorials" /><summary type="html">Docker logging and its management are an important part of the containerization of your application. Once youve deployed your application, logging is one of the best tools to help reveal errors, aid in debugging, and optimize your applications performance.</summary></entry></feed>