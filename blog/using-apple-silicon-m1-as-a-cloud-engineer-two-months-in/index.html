<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<link rel="icon" type="image/png" href="/blog/assets/images/favicon.png">
<!-- begin _includes/seo.html -->





<title>Using Apple Silicon (M1) as a cloud engineer, two months in - Earthly Blog</title>
<meta name="description" content="So I‚Äôve been using my new M1-based MacBook Pro for a couple of months for a mix of development, email, and other things an open-source maintainer does day-to-day.">


  <meta name="author" content="Vlad A. Ionescu">
  
  <meta property="article:author" content="Vlad A. Ionescu">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Earthly Blog">
<meta property="og:title" content="Using Apple Silicon (M1) as a cloud engineer, two months in">
<meta property="og:url" content="https://earthly.dev/blog/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/">


  <meta property="og:description" content="So I‚Äôve been using my new M1-based MacBook Pro for a couple of months for a mix of development, email, and other things an open-source maintainer does day-to-day.">



  <meta property="og:image" content="/blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-800-40f2fc938.jpg">



  <meta name="twitter:site" content="@EarthlyTech">
  <meta name="twitter:title" content="Using Apple Silicon (M1) as a cloud engineer, two months in">
  <meta name="twitter:description" content="So I‚Äôve been using my new M1-based MacBook Pro for a couple of months for a mix of development, email, and other things an open-source maintainer does day-to-day.">
  <meta name="twitter:url" content="https://earthly.dev/blog/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://earthly.dev/blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-800-40f2fc938.jpg">
  

  



  <meta property="article:published_time" content="2021-03-03T00:00:00-05:00">





  

  


<link rel="canonical" href="https://earthly.dev/blog/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Organization",
      "url": "https://earthly.dev/blog/",
      "logo": "/assets/images/logo-header.png"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/blog/feed.xml" type="application/atom+xml" rel="alternate" title="Earthly Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/blog/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161831101-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161831101-5');
</script>
  <!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '259843109045285');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=259843109045285&ev=PageView&noscript=1"
    />
</noscript>
 <!-- End Facebook Pixel Code -->
  <!-- Twitter universal website tag code -->
<script>
  !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
  },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
  a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
  // Insert Twitter Pixel ID and Standard Event data below
  twq('init','o5s6p');
  twq('track','PageView');
  </script>
  <!-- End Twitter universal website tag code -->


  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/blog/assets/images/white-logo.png" alt="Earthly"></a>
        
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/blog/">Blog home</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/categories/articles/">Articles</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/categories/news/">News</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/categories/tutorials/">Tutorials</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/earthly/earthly">GitHub</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




  







<div class="page__hero"
  style=" background-image: url('');"
>
  
      <picture class="page__hero-image"><source srcset="/blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-400-942353af3.webp 400w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-600-942353af3.webp 600w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-800-942353af3.webp 800w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-1000-942353af3.webp 1000w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-1200-942353af3.webp 1200w" type="image/webp"><source srcset="/blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-400-942353af3.png 400w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-600-942353af3.png 600w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-800-942353af3.png 800w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-1000-942353af3.png 1000w, /blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-1200-942353af3.png 1200w" type="image/png"><img src="/blog/generated/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/header-800-942353af3.jpg" alt="Using Apple Silicon (M1) as a cloud engineer, two months in"></picture>

  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar">
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Using Apple Silicon (M1) as a cloud engineer, two months in">
    <meta itemprop="description" content="So I‚Äôve been using my new M1-based MacBook Pro for a couple of months for a mix of development, email, and other things an open-source maintainer does day-to-day.">
    <meta itemprop="datePublished" content="2021-03-03T00:00:00-05:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Using Apple Silicon (M1) as a cloud engineer, two months in
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
        
        &nbsp;	&nbsp;<i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-03-03T00:00:00-05:00">March 3, 2021</time>
        

      </span>
    
    <span>
      
      
      
      <div class="author__avatar_top">
          <picture class="image-author"><source srcset="/blog/generated/assets/images/authors/vladaionescu-240-121d6d712.webp 240w" type="image/webp"><source srcset="/blog/generated/assets/images/authors/vladaionescu-240-89010bfcc.jpg 240w" type="image/jpeg"><img src="/blog/generated/assets/images/authors/vladaionescu-240-89010bfcc.jpg" alt="Vlad A. Ionescu %"></picture>

          &nbsp;	&nbsp;
          Vlad A. Ionescu
      </div>
      
    </span>
  </p>


        </header>
      
        
        <p>So I‚Äôve been using my new M1-based MacBook Pro for a couple of months for a mix of development, email, and other things an <a href="https://github.com/earthly/earthly">open-source maintainer</a> does day-to-day.</p>
<p>The typical first reaction that you get when using this is ‚Äúit runs my Docker stack without sounding like a plane taking off??‚Äù.</p>
<p>It‚Äôs a pretty amazing piece of engineering, and in many ways, I think that the ARM architecture is the future. A number of fast-growing tech giants (besides Apple) are pouring a ton of money into making ARM work for a ton of use-cases: Nvidia (trying to <a href="https://www.cnbc.com/2020/09/14/nvidia-to-buy-arm-holdings-from-softbank-for-40-billion.html">buy ARM Holdings from SoftBank</a>) and Amazon (deep investment in the new <a href="https://aws.amazon.com/ec2/graviton/">Graviton processors</a>) are the two that primarily come to mind.</p>
<p>As you might know, in processors low energy consumption (and low heat dissipation) often equates to the ability to scale processing efficiently for large workloads. It also means longer battery cycles for non-cloud use-cases (less waste, more bang for the buck). This is why I think ARM is the future, even if it might take a decade for the mainstream cloud to migrate over.</p>
<p>My Xeon Linux-based workstation suddenly feels old.</p>
<h2 id="compatibility">Compatibility</h2>
<p>All the software I need to use ‚Äújust works‚Äù. I found that if an ARM-native version is not available for an application, the emulated one works just fine and there‚Äôs no performance drawback that I can notice. To emulate an application, you just need to install Rosetta 2. The OS will automatically detect that Rosetta is needed and prompt you to install it. However, you can also install it manually via</p>
<pre><code>/usr/sbin/softwareupdate --install-rosetta</code></pre>
<p>The tools you use for development are likely still catching up to this architectural change, and will be for some time. We engineers sometimes use very low-level system capabilities. In some cases, I had to install preview editions of software, but everything worked very well for me. Here are some programs that I‚Äôve tested:</p>
<ul>
<li>‚úÖ Chrome (native)</li>
<li>‚úÖ 1Password (emulated)</li>
<li>‚úÖ Zoom (native)</li>
<li>‚úÖ Backblaze (emulated)</li>
<li>‚úÖ Signal (emulated)</li>
<li>‚úÖ Spotify (emulated)</li>
<li>‚úÖ VS Code. The amd64 version works perfectly well, however, the terminal will be an amd64 process, which may cause some programs to also run as amd64. The arm64 native version is available on the <a href="https://code.visualstudio.com/insiders/">VS Code Insiders</a> and works really well.</li>
<li>‚úÖ Docker. M1 native version is a must. Emulation doesn‚Äôt have virtualization features, which the Docker app requires. You can download the <a href="https://docs.docker.com/docker-for-mac/apple-m1/">Docker App for M1</a>, which is in preview. As mentioned on the documentation page, there are some limitations currently related to HTTP proxy, VPN clients, and performance, but the Docker team is making progress fast. (A month or two ago <a href="/blog/building-on-kubernetes-ingress">Kubernetes</a> wasn‚Äôt working, but now it is!).</li>
<li>‚úÖ Brew (native, encountered some issues with git, but was able to fix them)</li>
<li>‚úÖ iTerm (native)</li>
<li>‚úÖ Earthly (<code>v0.5.1+</code> now supports M1 natively - just <code>brew install earthly</code>)</li>
</ul>
<p>I should also mention that during the first few weeks I had some issues with audio skips when using Bluetooth, but an OS update fixed it (just like <a href="https://www.imore.com/fix-way-m1-mac-bluetooth-problems">Apple promised</a>).</p>
<p>I also use a ‚úÖ YubiKey 5C Nano and a bunch of random peripherals like a ‚úÖ USB microphone and a ‚úÖ dock plugged into Ethernet.</p>
<p>Languages and frameworks I‚Äôve tested - most of them in Docker containers:</p>
<ul>
<li>‚úÖ Go. <a href="https://golang.org/doc/go1.16#darwin">1.16 RC adds support for building darwin/arm64 binaries</a>. I built binaries in Docker and ran them natively. Works great.</li>
<li>üü° Java and <a href="/blog/top-5-scala-blogs">Scala</a>. I had issues with the JVM, experiencing random process hangs. It seems that there are no official OpenJDK builds for aarch64, however there are some community options. See more info below.</li>
<li>‚úÖ C++ works fine on native architecture in Docker. Minimal testing though.</li>
<li>üü° .Net works fine when emulated as amd64 in a container. Did not immediately work natively (and I did not investigate).</li>
<li>‚úÖ <a href="/blog/real-time-phoenix-elixir">Elixir</a> works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ <a href="/blog/protobufs-and-grpc">gRPC</a> works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ JavaScript / Node works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ Python works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ Ruby and Ruby on Rails works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ Cobol (yes, really) works fine on native architecture in Docker. Minimal testing though.</li>
<li>‚úÖ Rust works fine on native architecture in Docker. Minimal testing though.</li>
</ul>
<h2 id="how-to-tell-what-architecture-a-program-is-running-as">How to Tell What Architecture a Program Is Running As</h2>
<p>It‚Äôs extremely easy to mistake the kind of architecture you run as. Rosetta 2 is that good.</p>
<p>The easiest way to tell the difference is by opening Activity Monitor and looking at the Architecture column: if it says <code>Apple</code>, it‚Äôs ARM. If it says <code>Intel</code>, it‚Äôs X86_64. Here‚Äôs how I can tell that Zoom is an ARM process, while Spotify is an X86_64 process.</p>
<figure>
<img src="/blog/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/img1.png" alt="Activity Monitor showing Zoom as an Apple process" /><figcaption aria-hidden="true">Activity Monitor showing Zoom as an Apple process</figcaption>
</figure>
<figure>
<img src="/blog/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/img2.png" alt="Activity Monitor showing Spotify as an Intel process" /><figcaption aria-hidden="true">Activity Monitor showing Spotify as an Intel process</figcaption>
</figure>
<p>If you‚Äôre not sure about the terminal you‚Äôre using, you can type <code>uname -m</code>. It‚Äôll say either <code>X86_64</code>, <code>arm64</code> (Mac) or <code>aarch64</code> (Linux). <code>arm64</code> and <code>aarch64</code> are both ARM - <code>uname</code> on Mac just reports it differently compared to Linux.</p>
<figure>
<img src="/blog/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/img3.png" alt="Terminal showing the output of uname -m as arm64" /><figcaption aria-hidden="true">Terminal showing the output of <code>uname -m</code> as <code>arm64</code></figcaption>
</figure>
<h2 id="brew-issues">Brew Issues</h2>
<p>One issue I encountered on both my M1 laptop and also a <a href="https://www.macstadium.com/m1-mini">MacStadium MacMini</a> instance that we use for Mac testing is that Brew randomly started to complain about git missing. Not sure what the cause of this is, but it could be the fact that brew has been adding native arm support for many packages in the last few months and it‚Äôs possible that this migration resulted in some inconsistencies. This is pure speculation, however, I‚Äôve not researched this.</p>
<p>(In any case, a very impressive effort to switch architecture so quickly for a project that hosts so many packages!)</p>
<p>Back to fixing the issue now. Using <code>brew doctor</code> I was able to find out that Xcode needed a (re)install. Easy: <code>xcode-select --install</code>. However, the issue was still there. On the MacStadium instance, I was able to just uninstall brew and reinstall it and everything was fine. I was not as comfortable doing that on my laptop after having installed so much via casks. Instead, I was able to just remove the brew <code>git</code> via <code>brew uninstall git</code> and simply rely on <code>git</code> from Xcode, which seems to work just fine. (If anyone reading this knows what‚Äôs up with my brew‚Äôs git and can tell me how to fix it, ping me on Twitter: <span class="citation" data-cites="vladaionescu">[@vladaionescu]</span>(https://twitter.com/VladAIonescu))</p>
<h2 id="using-docker">Using Docker</h2>
<p>The Docker preview worked almost flawlessly for me from day 1. Making use of multi-platform images seems daunting at first, but really it‚Äôs actually pretty simple.</p>
<!-- vale HouseStyle.Spelling = NO -->
<p>The Docker for Mac app comes packed with <a href="https://www.qemu.org/">QEMU</a> out of the box - so Docker is able to run either arm64 and amd64 images. Most official images are now supported on arm64 too. If you‚Äôre building an image, by default it‚Äôll use your native architecture to execute the build (arm64) and most things will magically just work. Your mileage may vary, however, if you are <code>curl</code>ing some binary that may need to switch from <code>X86_64</code> to <code>aarch64</code> in its URL, or if you‚Äôre doing lower-level stuff. I also noticed that some alpine packages are also not available for ARM (eg <code>shellcheck</code>).</p>
<p>To build an image for a different architecture, you can use <code>docker buildx build --platform=linux/amd64 .</code> instead of the usual <code>docker build .</code>. For more details on building multi-platform images see <a href="https://medium.com/nttlabs/buildx-multiarch-2c6c2df00ca2">Akihiro Suda‚Äôs blog</a>.</p>
<p>If you <code>docker pull</code> an image from the registry, it will again default to your native architecture (if available), unless you specify <code>--platform=linux/amd64</code>.</p>
<p>If you <code>docker run</code> an image, it will default to whatever version of the image you have available locally or it will attempt to pull the arm64 version from the registry. You can also override the platform via <code>--platform=linux/amd64</code> if you‚Äôd like to run the amd64 version specifically.</p>
<figure>
<img src="/blog/assets/images/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/img4.png" alt="Terminal showing the output of uname -m for different container platforms" /><figcaption aria-hidden="true">Terminal showing the output of <code>uname -m</code> for different container platforms</figcaption>
</figure>
<p><a href="/blog/youre-using-docker-compose-wrong">Docker Compose</a> will happily run a mixture of various architectures. The same rules apply with regards to pulling and running. You can also specify <code>platform: linux/amd64</code> for the service definition in <code>docker-compose.yml</code> if you‚Äôd like to be specific.</p>
<p>One thing to note is that Docker-in-Docker is not supported by QEMU (<a href="https://github.com/moby/qemu/pull/7">abandoned PR on GitHub</a>). So you cannot run an arm64 Docker in an amd64 Docker or vice-versa. <strong>However</strong>, if you run your natively-supported Docker-in-Docker, the inner Docker can still run multi-platform images fine.</p>
<p>There are currently performance issues with multi-processor use - so much so that performance using a single core is sometimes slightly better than the performance of using 8 cores. Or at least that‚Äôs what <span class="citation" data-cites="jasmas">[@jasmas claims]</span>(https://github.com/docker/roadmap/issues/142#issuecomment-772732443).</p>
<h2 id="using-vs-code">Using VS Code</h2>
<p>Native support for Apple Silicon is not yet available in the generally available VS Code version, but running the amd64 emulated version works pretty well. You can also use the native version via a VS Code Universal build (contains both architectures in a single package) available via <a href="https://code.visualstudio.com/insiders/#osx">VS Code Insiders</a>.</p>
<p>An issue I ran into with the amd64 version was that I did not realize that the terminal was also an amd64 process (Again, Rosetta 2 is just that good). In some situations, this led to some strange issues when running Docker, where QEMU was acting up with segmentation faults. After some head-scratching the issue was resolved by switching to the ARM-based VS Code Insiders edition.</p>
<h2 id="using-earthly">Using Earthly</h2>
<p>We‚Äôve added support for Apple M1 in Earthly and so far it‚Äôs working wonderfully. This is in Beta, so if you end up giving this a try - we‚Äôd appreciate any feedback you can give us via <a href="https://github.com/earthly/earthly/issues">GitHub issues</a> or in our <a href="https://earthly.dev/slack">Slack</a>.</p>
<p>One useful Earthly trick I‚Äôve used a lot is that if one part of your build has not yet been ported to amd64, you can simply mark it as <code>--platform=linux/amd64</code> - and thus only that part will execute on amd64. The rest will run natively. This is relatively rare, however - most Docker builds just work across either platform. Our <a href="https://github.com/earthly/earthly/blob/b7b640094f8b5a0982eca5376cb54147feac7878/Earthfile#L295-L321">examples build</a> is pretty representative. There‚Äôs also an extensive guide on <a href="https://docs.earthly.dev/guides/multi-platform">multi-platform builds with Earthly</a>.</p>
<h2 id="using-go">Using Go</h2>
<p>You don‚Äôt necessarily need to build <code>darwin/arm64</code> binaries to run them on M1. Rosetta 2 emulation works great on Intel ones. If you want to, however, <a href="https://golang.org/doc/go1.16#darwin">Go 1.16 RC just added support for this</a>.</p>
<h2 id="java-scala-jvm-issues">Java / Scala / JVM Issues</h2>
<p>I ran into issues when using the JVM. After investigating online, it seems that OpenJDK is not yet available for the M1. The way this was manifesting for me was that the JVM process would just hang randomly. By using <code>--platform=linux/amd64</code> in Docker or in Earthly builds, I was able to get OpenJDK to work most of the time, but I‚Äôm still seeing random hangs.</p>
<p>According to this <a href="https://stackoverflow.com/questions/64788005/java-jdk-for-apple-m1-chip">StackOverflow thread</a>, there are <a href="https://www.azul.com/downloads/zulu-community/?package=jdk">Azul-provided builds of the Zulu JDK</a> for the M1 and also <a href="https://github.com/microsoft/openjdk-aarch64/releases/tag/16-ea%2B10-macos">Microsoft has put up an aarch64 build for the OpenJDK</a> too. I have not tested these so I can‚Äôt say whether they work well or not.</p>
<h2 id="performance">Performance</h2>
<p>One of the things I noticed about my new laptop is that everything opens up really fast and the awake from sleep time is also really low. These are sub-second differences though so you might not notice it - or maybe it‚Äôs a placebo acting up on me and there‚Äôs no real difference :-)</p>
<p>Docker is currently slower, however, as mentioned above, due to the multi-core issue. As far as I can tell the difference is approximately 1.75X compared to an Intel MacBook Pro. I would assume that this will be fixed in a future preview of the Docker for Mac app.</p>
<h2 id="battery-life">Battery Life</h2>
<!-- vale HouseStyle.Repetition = NO -->
<p>Battery life on the M1 is really really really good - half a day of Zoom meetings + email only took 20% of my battery. I work from home a lot, so I don‚Äôt use this much. But it‚Äôs great to know it really lasts for a serious coding session if I needed it on the go. <!-- vale HouseStyle.Repetition = YES --></p>
<h2 id="cost">Cost</h2>
<p>I can‚Äôt talk about the M1 without mentioning the cost of the setup. It has very similar specs to the Intel MBP I bought last year, but it‚Äôs a whole $1000 cheaper. It‚Äôs crazy. I don‚Äôt know why - it feels really performant for the most part, it has 100% fewer fans and a long-lasting battery. Why would anyone buy the old version anymore?</p>
<p>The only downside is that it only has two Thunderbolt ports, rather than four. But it‚Äôs not a huge deal for me as I use a dock.</p>
<p>I think the strategy here is that this will be the low-end MacBook Pro of the line-up, while a future Apple Silicon-based one will have even beefier specs.</p>
<h2 id="conclusion">Conclusion</h2>
<p>As you can see, my workflow is very much Docker-heavy. Docker seems to be working well enough for me and it‚Äôs taken away any possible pain that may be associated with individual language ecosystem tooling.</p>
<p>For most binaries, if they don‚Äôt work across platforms natively, Rosetta 2 works wonders on them, or <code>--platform=linux/amd64</code> in Docker is all that is needed. The JVM issues were the only ones I could not figure out completely - but also, I did not spend time trying out the Microsoft-provided OpenJDK build or the Zulu JVM.</p>
<p>Overall I‚Äôm happy with my M1. I like bleeding-edge technology, and I had to use preview versions of some software, but had no major issues in my typical workflow. I‚Äôm surprised how well most things just work.</p>
<p>If you‚Äôre a developer and your coding productivity depends on your laptop, I would triple check that my setup works as expected on an ARM architecture before making a purchase. For the most part you should be fine outside the Java / Scala world - but you never know!</p>
<p>If you‚Äôre not a developer, or only use your laptop for browsing and email, I really don‚Äôt see any reason why you would pick an Intel MacBook over this one. I would also assume that the MacBook Air version is also amazing (unlike the Intel version of MacBook Air, which is often on the slow side for modern web browsing). The M1 chip is very similar between Pro and Air and there‚Äôs no need for fans.</p>

        
      </section>

      


<div itemscope itemtype="https://schema.org/Person">
  <!-- <h5>About The Author</h5> -->

  
    <div class="author__avatar">
      
        <picture class="image-author"><source srcset="/blog/generated/assets/images/authors/vladaionescu-240-121d6d712.webp 240w" type="image/webp"><source srcset="/blog/generated/assets/images/authors/vladaionescu-240-89010bfcc.jpg 240w" type="image/jpeg"><img src="/blog/generated/assets/images/authors/vladaionescu-240-89010bfcc.jpg" alt="Vlad A. Ionescu %"></picture>

      
    </div>
  

  <div class="author__content">
    
      <h4 class="author__name" itemprop="name">Vlad A. Ionescu</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Founder of Earthly. Founder of ShiftLeft. Ex Google. Ex VMware. Co-author RabbitMQ Erlang Client.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

      <footer class="page__meta">
        
        

  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/tags/#aarch64" class="page__taxonomy-item" rel="tag">aarch64</a><span class="sep">, </span>
    
      <a href="/blog/tags/#apple-silicon" class="page__taxonomy-item" rel="tag">apple-silicon</a><span class="sep">, </span>
    
      <a href="/blog/tags/#arm64" class="page__taxonomy-item" rel="tag">arm64</a><span class="sep">, </span>
    
      <a href="/blog/tags/#docker" class="page__taxonomy-item" rel="tag">docker</a><span class="sep">, </span>
    
      <a href="/blog/tags/#m1" class="page__taxonomy-item" rel="tag">m1</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/categories/articles" class="page__taxonomy-item" rel="tag">Articles</a>
    
    </span>
  </p>



        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-03-03T00:00:00-05:00">March 3, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/blog/intercal-yaml-and-other-horrible-programming-languages/" class="pagination--pager" title="INTERCAL, YAML, And Other Horrible Programming Languages
">Previous</a>
    
    
      <a href="/blog/how-to-setup-and-use-amazons-elastic-container-registry/" class="pagination--pager" title="How to Setup and Use Amazon‚Äôs Elastic Container Registry
">Next</a>
    
  </nav>

    </div>
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          










<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <picture><source srcset="/blog/generated/assets/images/example/teaser-600-fc9eab451.webp 600w, /blog/generated/assets/images/example/teaser-800-fc9eab451.webp 800w" type="image/webp"><source srcset="/blog/generated/assets/images/example/teaser-600-b449882ef.jpg 600w, /blog/generated/assets/images/example/teaser-800-b449882ef.jpg 800w" type="image/jpeg"><img src="/blog/generated/assets/images/example/teaser-800-b449882ef.jpg"></picture>

      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/example/" rel="permalink">Example Post
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

This post is in the future, and won‚Äôt show up in the published site

</p>
  </article>
</div>

        
          










<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <picture><source srcset="/blog/generated/assets/images/video-camera-on/header-600-739475018.webp 600w, /blog/generated/assets/images/video-camera-on/header-800-739475018.webp 800w" type="image/webp"><source srcset="/blog/generated/assets/images/video-camera-on/header-600-5573f622c.jpg 600w, /blog/generated/assets/images/video-camera-on/header-800-5573f622c.jpg 800w" type="image/jpeg"><img src="/blog/generated/assets/images/video-camera-on/header-800-5573f622c.jpg"></picture>

      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/video-camera-on/" rel="permalink">SQL Errors and Video Cameras
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">


</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/earthlytech" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/earthly/earthly" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
    

    
      <li><a href="/blog/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 <a href="https://earthly.dev/">Earthly</a>. </div>

      </footer>
    </div>

    <script src="/blog/assets/js/vendor/jquery/jquery-3.5.1.js"></script>
<script src="/blog/assets/js/plugins/jquery.fitvids.js"></script>
<script src="/blog/assets/js/plugins/smooth-scroll.js"></script>
<script src="/blog/assets/js/plugins/gumshoe.js"></script>
<script src="/blog/assets/js/plugins/jquery.magnific-popup.js"></script>
<script src="/blog/assets/js/main.min.js"></script>

  <script> // minified version of https://earthly.dev/assets/js/analytics.js
    function setCookie(e,t,r){var i="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),i="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}function getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function getAnalyticCookie(){cookieName="earthlyID";var e=getCookie(cookieName);return null==e&&(e=uuidv4()),setCookie(cookieName,e,36500),e}jQuery.ajax({type:"POST",url:"https://api.earthly.dev/analytics",data:JSON.stringify({key:"website",url:window.location.href,referrer:document.referrer,earthlyID:getAnalyticCookie()})});
</script>




  </body>
</html>
